{"file_contents":{"src/app/dashboard/profile/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  User, \n  Mail, \n  Phone, \n  MapPin, \n  Building2, \n  Edit, \n  Save, \n  X, \n  Shield, \n  Star, \n  TrendingUp, \n  Award, \n  CheckCircle, \n  AlertCircle,\n  Clock,\n  Target,\n  BarChart3\n} from 'lucide-react'\n\ninterface UserProfile {\n  id: string\n  contactPerson: string\n  email: string\n  phone: string\n  companyName: string\n  postalCode: string\n  address: string\n  userType: string\n  createdAt: string\n  creditScore?: number\n  rating?: number\n  totalShipments?: number\n  completedShipments?: number\n  reliabilityScore?: number\n  responseTime?: number\n  specialties?: string[]\n  achievements?: string[]\n  riskFactors?: string[]\n}\n\ninterface CreditScoreBreakdown {\n  paymentHistory: number\n  transactionVolume: number\n  responseTime: number\n  completionRate: number\n  userFeedback: number\n  accountAge: number\n}\n\nexport default function ProfilePage() {\n  const [user, setUser] = useState<UserProfile | null>(null)\n  const [editing, setEditing] = useState(false)\n  const [loading, setLoading] = useState(true)\n  const [formData, setFormData] = useState({\n    contactPerson: '',\n    email: '',\n    phone: '',\n    companyName: '',\n    postalCode: '',\n    address: ''\n  })\n\n  useEffect(() => {\n    loadUserProfile()\n  }, [])\n\n  const loadUserProfile = () => {\n    const userData = localStorage.getItem('user')\n    if (userData) {\n      const userProfile = JSON.parse(userData)\n      // ä¿¡ç”¨ã‚¹ã‚³ã‚¢é–¢é€£ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ï¼ˆå®Ÿéš›ã®ã‚¢ãƒ—ãƒªã§ã¯APIã‹ã‚‰å–å¾—ï¼‰\n      const enhancedProfile = {\n        ...userProfile,\n        creditScore: userProfile.creditScore || 85,\n        rating: userProfile.rating || 4.2,\n        totalShipments: userProfile.totalShipments || 45,\n        completedShipments: userProfile.completedShipments || 42,\n        reliabilityScore: userProfile.reliabilityScore || 88,\n        responseTime: userProfile.responseTime || 25,\n        specialties: userProfile.specialties || ['ä¸€èˆ¬è²¨ç‰©', 'é–¢æ±åœ', 'æ€¥ä¾¿å¯¾å¿œ'],\n        achievements: userProfile.achievements || ['æ–°è¦ç™»éŒ²', 'åˆå›å–å¼•å®Œäº†', '5ä»¶å–å¼•é”æˆ'],\n        riskFactors: userProfile.riskFactors || []\n      }\n      setUser(enhancedProfile)\n      setFormData({\n        contactPerson: userProfile.contactPerson || '',\n        email: userProfile.email || '',\n        phone: userProfile.phone || '',\n        companyName: userProfile.companyName || '',\n        postalCode: userProfile.postalCode || '',\n        address: userProfile.address || ''\n      })\n    }\n    setLoading(false)\n  }\n\n  const handleEdit = () => {\n    setEditing(true)\n  }\n\n  const handleCancel = () => {\n    setEditing(false)\n    loadUserProfile()\n  }\n\n  const handleSave = async () => {\n    try {\n      // ã“ã“ã§APIã‚’å‘¼ã³å‡ºã—ã¦ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’æ›´æ–°\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/user/profile', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(formData)\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to update profile')\n      }\n\n      const updatedUser = { ...user, ...formData }\n      setUser(updatedUser as UserProfile)\n      localStorage.setItem('user', JSON.stringify(updatedUser))\n      setEditing(false)\n    } catch (error) {\n      console.error('Error updating profile:', error)\n      alert('ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    }\n  }\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }))\n  }\n\n  const getCreditScoreColor = (score: number) => {\n    if (score >= 90) return 'text-green-600 bg-green-100'\n    if (score >= 80) return 'text-blue-600 bg-blue-100'\n    if (score >= 70) return 'text-yellow-600 bg-yellow-100'\n    return 'text-red-600 bg-red-100'\n  }\n\n  const getCreditScoreLevel = (score: number) => {\n    if (score >= 90) return 'å„ªç§€'\n    if (score >= 80) return 'è‰¯å¥½'\n    if (score >= 70) return 'æ™®é€š'\n    return 'è¦æ”¹å–„'\n  }\n\n  const getCreditScoreBreakdown = (): CreditScoreBreakdown => {\n    return {\n      paymentHistory: 95,\n      transactionVolume: 80,\n      responseTime: 75,\n      completionRate: 93,\n      userFeedback: 88,\n      accountAge: 70\n    }\n  }\n\n  const renderStars = (rating: number) => {\n    return Array.from({ length: 5 }, (_, i) => (\n      <Star\n        key={i}\n        className={`h-4 w-4 ${\n          i < Math.floor(rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'\n        }`}\n      />\n    ))\n  }\n\n  if (loading) {\n    return (\n      <DashboardLayout>\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"text-gray-600 text-lg\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        </div>\n      </DashboardLayout>\n    )\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h1>\n            <p className=\"text-gray-600\">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’ç®¡ç†ã§ãã¾ã™</p>\n          </div>\n          <div className=\"flex space-x-2\">\n            {editing ? (\n              <>\n                <button\n                  onClick={handleSave}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n                >\n                  <Save className=\"h-4 w-4\" />\n                  <span>ä¿å­˜</span>\n                </button>\n                <button\n                  onClick={handleCancel}\n                  className=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 flex items-center space-x-2\"\n                >\n                  <X className=\"h-4 w-4\" />\n                  <span>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</span>\n                </button>\n              </>\n            ) : (\n              <button\n                onClick={handleEdit}\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n              >\n                <Edit className=\"h-4 w-4\" />\n                <span>ç·¨é›†</span>\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰ */}\n        <div className=\"lg:col-span-1\">\n          <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n            <div className=\"text-center\">\n              <div className=\"w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <User className=\"h-12 w-12 text-gray-600\" />\n              </div>\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                {user?.contactPerson}\n              </h2>\n              <p className=\"text-gray-600 mb-4\">{user?.companyName}</p>\n              <div className=\"text-sm text-gray-500\">\n                <p>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¨®åˆ¥: {user?.userType === 'SHIPPER' ? 'è·ä¸»' : 'é‹é€ä¼šç¤¾'}</p>\n                <p>ç™»éŒ²æ—¥: {user?.createdAt ? new Date(user.createdAt).toLocaleDateString('ja-JP') : '-'}</p>\n              </div>\n            </div>\n          </div>\n\n          {/* ä¿¡ç”¨ã‚¹ã‚³ã‚¢ã‚«ãƒ¼ãƒ‰ */}\n          <div className=\"bg-white rounded-lg shadow-sm border p-6 mt-6\">\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center mb-4\">\n                <Shield className=\"h-6 w-6 text-blue-600 mr-2\" />\n                <h3 className=\"text-lg font-semibold text-gray-900\">ä¿¡ç”¨ã‚¹ã‚³ã‚¢</h3>\n              </div>\n              \n              <div className=\"mb-4\">\n                <div className={`inline-flex items-center px-4 py-2 rounded-full text-lg font-bold ${getCreditScoreColor(user?.creditScore || 0)}`}>\n                  {user?.creditScore}ç‚¹\n                </div>\n                <p className=\"text-sm text-gray-600 mt-2\">\n                  ãƒ¬ãƒ™ãƒ«: {getCreditScoreLevel(user?.creditScore || 0)}\n                </p>\n              </div>\n\n              {/* è©•ä¾¡ */}\n              <div className=\"mb-4\">\n                <div className=\"flex items-center justify-center mb-2\">\n                  {renderStars(user?.rating || 0)}\n                  <span className=\"ml-2 text-sm text-gray-600\">({user?.rating})</span>\n                </div>\n                <p className=\"text-sm text-gray-600\">ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡</p>\n              </div>\n\n              {/* å®Ÿç¸¾ */}\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <p className=\"text-gray-600\">å–å¼•å®Ÿç¸¾</p>\n                  <p className=\"font-semibold text-gray-900\">\n                    {user?.completedShipments}/{user?.totalShipments}ä»¶\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-gray-600\">ä¿¡é ¼æ€§</p>\n                  <p className=\"font-semibold text-gray-900\">{user?.reliabilityScore}%</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* å°‚é–€åˆ†é‡ãƒ»å®Ÿç¸¾ */}\n          <div className=\"bg-white rounded-lg shadow-sm border p-6 mt-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n              <Award className=\"h-5 w-5 mr-2\" />\n              å°‚é–€åˆ†é‡ãƒ»å®Ÿç¸¾\n            </h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-2\">å°‚é–€åˆ†é‡</p>\n                <div className=\"flex flex-wrap gap-1\">\n                  {user?.specialties?.map((specialty, idx) => (\n                    <span key={idx} className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\n                      {specialty}\n                    </span>\n                  ))}\n                </div>\n              </div>\n\n              <div>\n                <p className=\"text-sm font-medium text-gray-700 mb-2\">å®Ÿç¸¾ãƒãƒƒã‚¸</p>\n                <div className=\"flex flex-wrap gap-1\">\n                  {user?.achievements?.map((achievement, idx) => (\n                    <span key={idx} className=\"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full flex items-center\">\n                      <CheckCircle className=\"h-3 w-3 mr-1\" />\n                      {achievement}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* è©³ç´°æƒ…å ± */}\n        <div className=\"lg:col-span-2\">\n          {/* ä¿¡ç”¨ã‚¹ã‚³ã‚¢è©³ç´°åˆ†æ */}\n          <div className=\"bg-white rounded-lg shadow-sm border mb-6\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <BarChart3 className=\"h-5 w-5 mr-2\" />\n                ä¿¡ç”¨ã‚¹ã‚³ã‚¢è©³ç´°åˆ†æ\n              </h3>\n            </div>\n            \n            <div className=\"p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {(() => {\n                  const breakdown = getCreditScoreBreakdown()\n                  return Object.entries(breakdown).map(([key, value]) => {\n                    const labels = {\n                      paymentHistory: 'æ”¯æ‰•ã„å±¥æ­´',\n                      transactionVolume: 'å–å¼•é‡',\n                      responseTime: 'ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“',\n                      completionRate: 'å®Œäº†ç‡',\n                      userFeedback: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯',\n                      accountAge: 'ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¹´æ•°'\n                    }\n                    return (\n                      <div key={key} className=\"space-y-2\">\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm font-medium text-gray-700\">{labels[key as keyof typeof labels]}</span>\n                          <span className=\"text-sm font-semibold text-gray-900\">{value}ç‚¹</span>\n                        </div>\n                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                          <div \n                            className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                            style={{ width: `${value}%` }}\n                          ></div>\n                        </div>\n                      </div>\n                    )\n                  })\n                })()}\n              </div>\n              \n              <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n                <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                  <TrendingUp className=\"h-4 w-4 mr-2\" />\n                  ã‚¹ã‚³ã‚¢å‘ä¸Šã®ãƒ’ãƒ³ãƒˆ\n                </h4>\n                <ul className=\"text-sm text-gray-700 space-y-1\">\n                  <li>â€¢ è¿…é€Ÿãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§å–å¼•ç›¸æ‰‹ã®ä¿¡é ¼ã‚’ç²å¾—ã—ã¾ã—ã‚‡ã†</li>\n                  <li>â€¢ å®šæœŸçš„ãªå–å¼•ã§å–å¼•é‡ã‚’å¢—ã‚„ã—ã¾ã—ã‚‡ã†</li>\n                  <li>â€¢ é«˜å“è³ªãªã‚µãƒ¼ãƒ“ã‚¹ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡ã‚’å‘ä¸Šã•ã›ã¾ã—ã‚‡ã†</li>\n                  <li>â€¢ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’å……å®Ÿã•ã›ã¦ä¿¡é ¼æ€§ã‚’é«˜ã‚ã¾ã—ã‚‡ã†</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-sm border\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">åŸºæœ¬æƒ…å ±</h3>\n            </div>\n            \n            <div className=\"p-6 space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    <User className=\"h-4 w-4 inline mr-2\" />\n                    æ‹…å½“è€…å\n                  </label>\n                  {editing ? (\n                    <input\n                      type=\"text\"\n                      value={formData.contactPerson}\n                      onChange={(e) => handleInputChange('contactPerson', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.contactPerson}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    <Mail className=\"h-4 w-4 inline mr-2\" />\n                    ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹\n                  </label>\n                  {editing ? (\n                    <input\n                      type=\"email\"\n                      value={formData.email}\n                      onChange={(e) => handleInputChange('email', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.email}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    <Phone className=\"h-4 w-4 inline mr-2\" />\n                    é›»è©±ç•ªå·\n                  </label>\n                  {editing ? (\n                    <input\n                      type=\"tel\"\n                      value={formData.phone}\n                      onChange={(e) => handleInputChange('phone', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.phone}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    <Building2 className=\"h-4 w-4 inline mr-2\" />\n                    ä¼šç¤¾å\n                  </label>\n                  {editing ? (\n                    <input\n                      type=\"text\"\n                      value={formData.companyName}\n                      onChange={(e) => handleInputChange('companyName', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.companyName}</p>\n                  )}\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  <MapPin className=\"h-4 w-4 inline mr-2\" />\n                  éƒµä¾¿ç•ªå·\n                </label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.postalCode}\n                    onChange={(e) => handleInputChange('postalCode', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"ä¾‹: 123-4567\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{user?.postalCode || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  <MapPin className=\"h-4 w-4 inline mr-2\" />\n                  ä½æ‰€\n                </label>\n                {editing ? (\n                  <textarea\n                    value={formData.address}\n                    onChange={(e) => handleInputChange('address', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    rows={3}\n                    placeholder=\"ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{user?.address || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </DashboardLayout>\n  )\n}\n","size_bytes":18618},"src/lib/prisma.ts":{"content":"import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    log: ['query', 'error', 'warn'],\n  })\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n\nexport default prisma\n\n","size_bytes":331},"src/app/api/shipments/search/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server'\nimport { prisma } from '@/lib/prisma'\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url)\n    \n    // æ¤œç´¢ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—\n    const query = searchParams.get('q') || ''\n    const pickupPrefecture = searchParams.get('pickupPrefecture') || ''\n    const deliveryPrefecture = searchParams.get('deliveryPrefecture') || ''\n    const vehicleType = searchParams.get('vehicleType') || ''\n    const status = searchParams.get('status') || ''\n    const page = parseInt(searchParams.get('page') || '1')\n    const limit = parseInt(searchParams.get('limit') || '20')\n    const offset = (page - 1) * limit\n\n    // æ¤œç´¢æ¡ä»¶ã‚’æ§‹ç¯‰\n    const where: any = {}\n\n    // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ï¼ˆè·ç‰©åã€èª¬æ˜ã€ä½æ‰€ãªã©ï¼‰\n    if (query) {\n      where.OR = [\n        { cargoName: { contains: query, mode: 'insensitive' } },\n        { cargoDescription: { contains: query, mode: 'insensitive' } },\n        { pickupAddress: { contains: query, mode: 'insensitive' } },\n        { deliveryAddress: { contains: query, mode: 'insensitive' } },\n        { pickupCity: { contains: query, mode: 'insensitive' } },\n        { deliveryCity: { contains: query, mode: 'insensitive' } }\n      ]\n    }\n\n    // å‡ºç™ºåœ°éƒ½é“åºœçœŒ\n    if (pickupPrefecture) {\n      where.pickupPrefecture = pickupPrefecture\n    }\n\n    // åˆ°ç€åœ°éƒ½é“åºœçœŒ\n    if (deliveryPrefecture) {\n      where.deliveryPrefecture = deliveryPrefecture\n    }\n\n    // è»Šä¸¡ã‚¿ã‚¤ãƒ—\n    if (vehicleType) {\n      where.requiredVehicleType = vehicleType\n    }\n\n    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n    if (status) {\n      where.status = status\n    }\n\n    // è·ç‰©ã‚’æ¤œç´¢\n    const [shipments, totalCount] = await Promise.all([\n      prisma.shipment.findMany({\n        where,\n        include: {\n          shipper: {\n            select: {\n              id: true,\n              companyName: true,\n              contactPerson: true,\n              phone: true,\n              email: true\n            }\n          }\n        },\n        orderBy: { createdAt: 'desc' },\n        skip: offset,\n        take: limit\n      }),\n      prisma.shipment.count({ where })\n    ])\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        shipments,\n        pagination: {\n          page,\n          limit,\n          totalCount,\n          totalPages: Math.ceil(totalCount / limit)\n        }\n      }\n    })\n  } catch (error) {\n    console.error('Error searching shipments:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to search shipments' },\n      { status: 500 }\n    )\n  }\n}\n","size_bytes":2655},"src/hooks/useStats.ts":{"content":"import { useState, useEffect } from 'react'\n\nexport const useStats = () => {\n  const [stats, setStats] = useState({ shipmentCount: 0, vehicleCount: 0 })\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    loadStats()\n  }, [])\n\n  const loadStats = async () => {\n    try {\n      const response = await fetch('/api/stats')\n      if (!response.ok) throw new Error('Failed to load stats')\n      \n      const data = await response.json()\n      setStats(data.data)\n    } catch (error) {\n      console.error('Error loading stats:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return { stats, loading, refetch: loadStats }\n}\n","size_bytes":652},"tailwind.config.js":{"content":"/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',\n    './src/components/**/*.{js,ts,jsx,tsx,mdx}',\n    './src/app/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n  theme: {\n    extend: {\n      colors: {\n        primary: {\n          50: '#f0f9ff',\n          100: '#e0f2fe',\n          200: '#bae6fd',\n          300: '#7dd3fc',\n          400: '#38bdf8',\n          500: '#0ea5e9',\n          600: '#0284c7',\n          700: '#0369a1',\n          800: '#075985',\n          900: '#0c4a6e',\n        },\n      },\n      backgroundImage: {\n        'gradient-blue': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        'gradient-ocean': 'linear-gradient(to right, #2E3192, #1BFFFF)',\n        'gradient-sky': 'linear-gradient(to bottom right, #E0F7FF, #FFFFFF)',\n      },\n    },\n  },\n  plugins: [],\n}\n\n","size_bytes":848},"src/app/api/offers/route.ts":{"content":"import { NextRequest } from 'next/server'\nexport const dynamic = 'force-dynamic'\nimport { getUserFromRequest } from '@/lib/auth'\nimport { createOfferSchema } from '@/lib/validators'\nimport {\n  successResponse,\n  errorResponse,\n  unauthorizedResponse,\n  forbiddenResponse,\n  notFoundResponse,\n} from '@/lib/api-response'\nimport prisma from '@/lib/prisma'\n\n// ã‚ªãƒ•ã‚¡ãƒ¼ä¸€è¦§å–å¾—\nexport async function GET(request: NextRequest) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    const { searchParams } = new URL(request.url)\n    const shipmentId = searchParams.get('shipmentId')\n    \n    const where: any = {}\n    \n    // é‹é€ä¼šç¤¾ã®å ´åˆã¯è‡ªåˆ†ã®ã‚ªãƒ•ã‚¡ãƒ¼ã®ã¿è¡¨ç¤º\n    if (user.userType === 'CARRIER') {\n      where.carrierId = user.userId\n    }\n    \n    // ç‰¹å®šã®é…é€æ¡ˆä»¶ã®ã‚ªãƒ•ã‚¡ãƒ¼ã‚’å–å¾—\n    if (shipmentId) {\n      where.shipmentId = shipmentId\n    }\n    \n    const offers = await prisma.offer.findMany({\n      where,\n      include: {\n        shipment: {\n          include: {\n            shipper: {\n              select: {\n                id: true,\n                companyName: true,\n                contactPerson: true,\n              },\n            },\n          },\n        },\n        carrier: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n            phone: true,\n          },\n        },\n      },\n      orderBy: {\n        createdAt: 'desc',\n      },\n    })\n    \n    return successResponse(offers)\n  } catch (error) {\n    console.error('Get offers error:', error)\n    return errorResponse('ã‚ªãƒ•ã‚¡ãƒ¼ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n// ã‚ªãƒ•ã‚¡ãƒ¼ä½œæˆ\nexport async function POST(request: NextRequest) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    // é‹é€ä¼šç¤¾ã®ã¿ä½œæˆå¯èƒ½\n    if (user.userType !== 'CARRIER') {\n      return forbiddenResponse('é‹é€ä¼šç¤¾ã®ã¿ãŒã‚ªãƒ•ã‚¡ãƒ¼ã‚’ä½œæˆã§ãã¾ã™')\n    }\n    \n    const body = await request.json()\n    \n    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    const validatedData = createOfferSchema.parse(body)\n    \n    // é…é€æ¡ˆä»¶ã®å­˜åœ¨ç¢ºèª\n    const shipment = await prisma.shipment.findUnique({\n      where: { id: validatedData.shipmentId },\n    })\n    \n    if (!shipment) {\n      return notFoundResponse('é…é€æ¡ˆä»¶ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')\n    }\n    \n    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯\n    if (shipment.status !== 'OPEN') {\n      return errorResponse('ã“ã®é…é€æ¡ˆä»¶ã¯æ—¢ã«å‹Ÿé›†ãŒçµ‚äº†ã—ã¦ã„ã¾ã™')\n    }\n    \n    // é‡è¤‡ã‚ªãƒ•ã‚¡ãƒ¼ãƒã‚§ãƒƒã‚¯\n    const existingOffer = await prisma.offer.findFirst({\n      where: {\n        shipmentId: validatedData.shipmentId,\n        carrierId: user.userId,\n      },\n    })\n    \n    if (existingOffer) {\n      return errorResponse('æ—¢ã«ã“ã®é…é€æ¡ˆä»¶ã«ã‚ªãƒ•ã‚¡ãƒ¼ã‚’é€ä¿¡ã—ã¦ã„ã¾ã™')\n    }\n    \n    // ã‚ªãƒ•ã‚¡ãƒ¼ä½œæˆ\n    const offer = await prisma.offer.create({\n      data: {\n        shipmentId: validatedData.shipmentId,\n        carrierId: user.userId,\n        proposedPrice: validatedData.proposedPrice,\n        message: validatedData.message,\n        vehicleInfo: validatedData.vehicleInfo,\n        estimatedPickupTime: validatedData.estimatedPickupTime,\n        estimatedDeliveryTime: validatedData.estimatedDeliveryTime,\n      },\n      include: {\n        carrier: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n            phone: true,\n          },\n        },\n        shipment: {\n          select: {\n            id: true,\n            cargoName: true,\n            pickupPrefecture: true,\n            deliveryPrefecture: true,\n          },\n        },\n      },\n    })\n    \n    return successResponse(offer, 201)\n  } catch (error: any) {\n    if (error.name === 'ZodError') {\n      return errorResponse(error.errors[0].message)\n    }\n    console.error('Create offer error:', error)\n    return errorResponse('ã‚ªãƒ•ã‚¡ãƒ¼ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n","size_bytes":4125},"src/app/dashboard/saved-shipments/page.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { Bookmark, Package, MapPin, Calendar, Weight, Truck, DollarSign, Building2, User, Phone } from 'lucide-react'\n\nexport default function SavedShipmentsPage() {\n  const [savedShipments, setSavedShipments] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    loadSavedShipments()\n  }, [])\n\n  const loadSavedShipments = async () => {\n    setLoading(true)\n    try {\n      const savedIds = JSON.parse(localStorage.getItem('savedShipments') || '[]')\n      if (savedIds.length === 0) {\n        setSavedShipments([])\n        return\n      }\n\n      // ä¿å­˜ã•ã‚ŒãŸè·ç‰©ã®è©³ç´°ã‚’å–å¾—\n      const response = await fetch('/api/shipments/details', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({ ids: savedIds })\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch saved shipment details')\n      }\n\n      const result = await response.json()\n      setSavedShipments(result.data)\n    } catch (error) {\n      console.error('Error loading saved shipments:', error)\n      // ç„¡åŠ¹ãªä¿å­˜IDã‚’ã‚¯ãƒªã‚¢\n      localStorage.removeItem('savedShipments')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleRemoveSaved = (shipmentId: string) => {\n    setSavedShipments(prev => prev.filter(s => s.id !== shipmentId))\n    const updatedSavedIds = JSON.parse(localStorage.getItem('savedShipments') || '[]')\n      .filter((id: string) => id !== shipmentId)\n    localStorage.setItem('savedShipments', JSON.stringify(updatedSavedIds))\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'OPEN': return 'bg-blue-100 text-blue-800'\n      case 'MATCHED': return 'bg-green-100 text-green-800'\n      case 'IN_TRANSIT': return 'bg-yellow-100 text-yellow-800'\n      case 'DELIVERED': return 'bg-gray-100 text-gray-800'\n      case 'CANCELLED': return 'bg-red-100 text-red-800'\n      default: return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">ä¿å­˜ã—ãŸè·ç‰©</h1>\n        <p className=\"text-gray-600\">ãŠæ°—ã«å…¥ã‚Šã«ä¿å­˜ã—ãŸè·ç‰©ã®ä¸€è¦§ã§ã™</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">ä¿å­˜ã—ãŸè·ç‰©ä¸€è¦§</h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : savedShipments.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Bookmark className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>ä¿å­˜ã—ãŸè·ç‰©ã¯ã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {savedShipments.map(shipment => (\n              <div key={shipment.id} className=\"p-6 hover:bg-gray-50\">\n                <div className=\"flex justify-between items-start mb-2\">\n                  <h3 className=\"text-lg font-bold text-blue-700\">{shipment.cargoName}</h3>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(shipment.status)}`}>\n                      {shipment.status === 'OPEN' && 'å‹Ÿé›†ä¸­'}\n                      {shipment.status === 'MATCHED' && 'ãƒãƒƒãƒãƒ³ã‚°æ¸ˆã¿'}\n                      {shipment.status === 'IN_TRANSIT' && 'è¼¸é€ä¸­'}\n                      {shipment.status === 'DELIVERED' && 'é…é€å®Œäº†'}\n                      {shipment.status === 'CANCELLED' && 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'}\n                    </span>\n                    <button\n                      onClick={() => handleRemoveSaved(shipment.id)}\n                      className=\"text-red-500 hover:text-red-700\"\n                    >\n                      <Bookmark className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                </div>\n                <p className=\"text-gray-600 text-sm mb-3\">{shipment.cargoDescription}</p>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700 mb-4\">\n                  <div className=\"flex items-center\"><MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />ç™ºåœ°: {shipment.pickupPrefecture} {shipment.pickupCity}</div>\n                  <div className=\"flex items-center\"><MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />ç€åœ°: {shipment.deliveryPrefecture} {shipment.deliveryCity}</div>\n                  <div className=\"flex items-center\"><Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />ç™ºæ—¥æ™‚: {new Date(shipment.pickupDate).toLocaleDateString()} {shipment.pickupTimeFrom}</div>\n                  <div className=\"flex items-center\"><Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />ç€æ—¥æ™‚: {new Date(shipment.deliveryDate).toLocaleDateString()} {shipment.deliveryTimeFrom}</div>\n                  <div className=\"flex items-center\"><Weight className=\"h-4 w-4 mr-2 text-gray-500\" />é‡é‡: {shipment.cargoWeight} kg</div>\n                  <div className=\"flex items-center\"><Truck className=\"h-4 w-4 mr-2 text-gray-500\" />è»Šç¨®: {shipment.requiredVehicleType}</div>\n                  <div className=\"flex items-center\"><DollarSign className=\"h-4 w-4 mr-2 text-gray-500\" />äºˆç®—: {shipment.budget.toLocaleString()} å††</div>\n                </div>\n\n                <div className=\"border-t border-gray-100 pt-3\">\n                  <h4 className=\"font-semibold text-gray-800 mb-2\">è·ä¸»æƒ…å ±</h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700\">\n                    <div className=\"flex items-center\"><Building2 className=\"h-4 w-4 mr-2 text-gray-500\" />ä¼šç¤¾å: {shipment.shipper.companyName}</div>\n                    <div className=\"flex items-center\"><User className=\"h-4 w-4 mr-2 text-gray-500\" />æ‹…å½“è€…: {shipment.shipper.contactPerson}</div>\n                    <div className=\"flex items-center\"><Phone className=\"h-4 w-4 mr-2 text-gray-500\" />é›»è©±ç•ªå·: {shipment.shipper.phone}</div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":6559},"README.md":{"content":"# SIN JAPAN LOGI - ç‰©æµãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ \n\nè·ä¸»ã¨é‹é€ä¼šç¤¾ã‚’ã¤ãªãã€æ¬¡ä¸–ä»£ã®ç‰©æµãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚\n\n![SIN JAPAN LOGI](public/logo.png)\n\n## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿\n\n**æœ¬ç•ªç’°å¢ƒ**: [https://sin-japan-logi.vercel.app](https://sin-japan-logi.vercel.app)\n\n**é–‹ç™ºç’°å¢ƒ**: http://localhost:3050\n\n## ğŸš€ ç‰¹å¾´\n\n- **ç°¡å˜ãªæ¡ˆä»¶æŠ•ç¨¿**: è·ä¸»ã¯æ•°åˆ†ã§é…é€æ¡ˆä»¶ã‚’æŠ•ç¨¿å¯èƒ½\n- **åŠ¹ç‡çš„ãªãƒãƒƒãƒãƒ³ã‚°**: é‹é€ä¼šç¤¾ã¯æ¡ä»¶ã«åˆã†æ¡ˆä»¶ã‚’æ¤œç´¢ã—ã€è‡ªç”±ã«ã‚ªãƒ•ã‚¡ãƒ¼ã‚’ææ¡ˆ\n- **ã‚³ã‚¹ãƒˆå‰Šæ¸›**: è¤‡æ•°ã®é‹é€ä¼šç¤¾ã‹ã‚‰ç›¸è¦‹ç©ã‚‚ã‚ŠãŒå¯èƒ½\n- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: æ¡ˆä»¶ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚„ã‚ªãƒ•ã‚¡ãƒ¼çŠ¶æ³ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèª\n- **2ã¤ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—**: è·ä¸»ã¨é‹é€ä¼šç¤¾ãã‚Œãã‚Œã«æœ€é©åŒ–ã•ã‚ŒãŸUI\n\n## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯\n\n### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰\n- **Next.js 14**: React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n- **TypeScript**: å‹å®‰å…¨ãªé–‹ç™º\n- **Tailwind CSS**: ãƒ¢ãƒ€ãƒ³ãªUIãƒ‡ã‚¶ã‚¤ãƒ³\n- **Lucide React**: ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n- **date-fns**: æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ\n\n### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰\n- **Next.js API Routes**: ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\n- **Prisma**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ORM\n- **SQLite**: ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹\n- **JWT**: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³\n- **bcryptjs**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–\n\n## ğŸ“‹ å‰ææ¡ä»¶\n\n- Node.js 18.x ä»¥ä¸Š\n- npm ã¾ãŸã¯ yarn\n\n## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³\n\n```bash\ngit clone <repository-url>\ncd \"SIN JAPAN LOGI\"\n```\n\n### 2. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\nnpm install\n```\n\n### 3. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š\n\n`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ï¼š\n\n```env\n# Database (SQLite)\nDATABASE_URL=\"file:./dev.db\"\n\n# JWT Secret (ãƒ©ãƒ³ãƒ€ãƒ ãªæ–‡å­—åˆ—ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„)\nJWT_SECRET=\"your-secret-key-change-this-in-production\"\n```\n\n### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n```bash\n# Prisma ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ç”Ÿæˆ\nnpm run prisma:generate\n\n# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\nnpm run prisma:migrate\n```\n\n### 5. ãƒ†ã‚¹ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ\n\n```bash\nnode scripts/add-test-users.js\n```\n\nä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒä½œæˆã•ã‚Œã¾ã™ï¼š\n\n**è·ä¸»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**\n- ID: `info@sinjapan.jp`\n- PASS: `Kazuya8008`\n\n**é‹é€ä¼šç¤¾ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**\n- ID: `carrier@sinjapan.jp`\n- PASS: `Kazuya8008`\n\n**ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**\n- ID: `info@sinjapan.jp`\n- PASS: `Kazuya8008`\n- URL: http://localhost:3050/admin\n\n### 6. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•\n\n```bash\nnpm run dev\n```\n\nãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3050 ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚\n\n## ğŸ“š ä¸»ãªæ©Ÿèƒ½\n\n### è·ä¸»å‘ã‘æ©Ÿèƒ½\n\n- âœ… ä¼šå“¡ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³\n- âœ… é…é€æ¡ˆä»¶ã®æŠ•ç¨¿\n- âœ… æŠ•ç¨¿ã—ãŸæ¡ˆä»¶ã®ç®¡ç†\n- âœ… é‹é€ä¼šç¤¾ã‹ã‚‰ã®ã‚ªãƒ•ã‚¡ãƒ¼å—ä¿¡\n- âœ… ã‚ªãƒ•ã‚¡ãƒ¼ã®æ‰¿èªãƒ»æ‹’å¦\n- âœ… ãƒãƒƒãƒãƒ³ã‚°å¾Œã®é‹é€ä¼šç¤¾æƒ…å ±ç¢ºèª\n\n### é‹é€ä¼šç¤¾å‘ã‘æ©Ÿèƒ½\n\n- âœ… ä¼šå“¡ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³\n- âœ… é…é€æ¡ˆä»¶ã®æ¤œç´¢ãƒ»é–²è¦§\n- âœ… æ¡ä»¶ã§ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆé›†è·åœ°ã€é…é€å…ˆãªã©ï¼‰\n- âœ… æ¡ˆä»¶ã¸ã®ã‚ªãƒ•ã‚¡ãƒ¼é€ä¿¡\n- âœ… é€ä¿¡ã—ãŸã‚ªãƒ•ã‚¡ãƒ¼ã®ç®¡ç†\n- âœ… ãƒãƒƒãƒãƒ³ã‚°å¾Œã®è·ä¸»æƒ…å ±ç¢ºèª\n\n## ğŸ—‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ \n\n```\nSIN JAPAN LOGI/\nâ”œâ”€â”€ prisma/\nâ”‚   â””â”€â”€ schema.prisma          # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ app/                   # Next.js App Router\nâ”‚   â”‚   â”œâ”€â”€ api/              # APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\nâ”‚   â”‚   â”‚   â”œâ”€â”€ auth/        # èªè¨¼API\nâ”‚   â”‚   â”‚   â”œâ”€â”€ shipments/   # é…é€æ¡ˆä»¶API\nâ”‚   â”‚   â”‚   â””â”€â”€ offers/      # ã‚ªãƒ•ã‚¡ãƒ¼API\nâ”‚   â”‚   â”œâ”€â”€ dashboard/        # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸\nâ”‚   â”‚   â”œâ”€â”€ login/           # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸\nâ”‚   â”‚   â”œâ”€â”€ register/        # ç™»éŒ²ãƒšãƒ¼ã‚¸\nâ”‚   â”‚   â”œâ”€â”€ shipments/       # é…é€æ¡ˆä»¶ãƒšãƒ¼ã‚¸\nâ”‚   â”‚   â””â”€â”€ offers/          # ã‚ªãƒ•ã‚¡ãƒ¼ãƒšãƒ¼ã‚¸\nâ”‚   â”œâ”€â”€ components/           # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\nâ”‚   â””â”€â”€ lib/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°\nâ”‚       â”œâ”€â”€ prisma.ts        # Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ\nâ”‚       â”œâ”€â”€ auth.ts          # èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼\nâ”‚       â”œâ”€â”€ validators.ts    # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚­ãƒ¼ãƒ\nâ”‚       â””â”€â”€ api-response.ts  # APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒ«ãƒ‘ãƒ¼\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tailwind.config.js\nâ””â”€â”€ README.md\n```\n\n## ğŸ” èªè¨¼ãƒ•ãƒ­ãƒ¼\n\n1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç™»éŒ²/ãƒ­ã‚°ã‚¤ãƒ³\n2. JWTãƒˆãƒ¼ã‚¯ãƒ³ãŒç™ºè¡Œã•ã‚Œã‚‹\n3. ãƒˆãƒ¼ã‚¯ãƒ³ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜\n4. ä»¥é™ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨\n5. ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—\n\n## ğŸ¨ UIãƒ‡ã‚¶ã‚¤ãƒ³\n\n- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ\n- ãƒ¢ãƒ€ãƒ³ã§ã‚¯ãƒªãƒ¼ãƒ³ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹\n- ç›´æ„Ÿçš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³\n- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã«é…æ…®\n\n## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«\n\n### Userï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰\n- è·ä¸»ï¼ˆSHIPPERï¼‰ã¾ãŸã¯é‹é€ä¼šç¤¾ï¼ˆCARRIERï¼‰\n- ä¼šç¤¾æƒ…å ±ã€é€£çµ¡å…ˆæƒ…å ±\n\n### Shipmentï¼ˆé…é€æ¡ˆä»¶ï¼‰\n- è·ç‰©æƒ…å ±ï¼ˆåå‰ã€é‡é‡ã€å®¹ç©ãªã©ï¼‰\n- é›†è·æƒ…å ±ï¼ˆä½æ‰€ã€æ—¥æ™‚ãªã©ï¼‰\n- é…é€æƒ…å ±ï¼ˆä½æ‰€ã€æ—¥æ™‚ãªã©ï¼‰\n- è¦æ±‚äº‹é …ï¼ˆè»Šä¸¡ã‚¿ã‚¤ãƒ—ã€ç‰¹åˆ¥ãªè¦ä»¶ãªã©ï¼‰\n- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†\n\n### Offerï¼ˆã‚ªãƒ•ã‚¡ãƒ¼ï¼‰\n- é‹é€ä¼šç¤¾ã‹ã‚‰è·ä¸»ã¸ã®ã‚ªãƒ•ã‚¡ãƒ¼\n- ææ¡ˆé‡‘é¡\n- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†\n\n## ğŸš¢ ãƒ‡ãƒ—ãƒ­ã‚¤\n\n### Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤\n\n```bash\n# Vercel CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nnpm install -g vercel\n\n# ãƒ‡ãƒ—ãƒ­ã‚¤\nvercel\n```\n\n### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š\n\nVercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š\n\n- `DATABASE_URL`\n- `JWT_SECRET`\n- `NEXTAUTH_URL`\n- `NEXTAUTH_SECRET`\n\n## ğŸ›  é–‹ç™ºã‚³ãƒãƒ³ãƒ‰\n\n```bash\n# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•\nnpm run dev\n\n# æœ¬ç•ªãƒ“ãƒ«ãƒ‰\nnpm run build\n\n# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•\nnpm start\n\n# Prisma Studioï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹GUIï¼‰\nnpm run prisma:studio\n\n# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\nnpm run prisma:migrate\n\n# Linterå®Ÿè¡Œ\nnpm run lint\n```\n\n## ğŸ“ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\n\n### èªè¨¼\n- `POST /api/auth/register` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²\n- `POST /api/auth/login` - ãƒ­ã‚°ã‚¤ãƒ³\n- `GET /api/auth/me` - ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—\n\n### é…é€æ¡ˆä»¶\n- `GET /api/shipments` - æ¡ˆä»¶ä¸€è¦§å–å¾—\n- `POST /api/shipments` - æ¡ˆä»¶ä½œæˆï¼ˆè·ä¸»ã®ã¿ï¼‰\n- `GET /api/shipments/[id]` - æ¡ˆä»¶è©³ç´°å–å¾—\n- `PATCH /api/shipments/[id]` - æ¡ˆä»¶æ›´æ–°\n- `DELETE /api/shipments/[id]` - æ¡ˆä»¶å‰Šé™¤\n\n### ã‚ªãƒ•ã‚¡ãƒ¼\n- `GET /api/offers` - ã‚ªãƒ•ã‚¡ãƒ¼ä¸€è¦§å–å¾—\n- `POST /api/offers` - ã‚ªãƒ•ã‚¡ãƒ¼ä½œæˆï¼ˆé‹é€ä¼šç¤¾ã®ã¿ï¼‰\n- `POST /api/offers/[id]/accept` - ã‚ªãƒ•ã‚¡ãƒ¼æ‰¿èªï¼ˆè·ä¸»ã®ã¿ï¼‰\n- `POST /api/offers/[id]/reject` - ã‚ªãƒ•ã‚¡ãƒ¼æ‹’å¦ï¼ˆè·ä¸»ã®ã¿ï¼‰\n\n## ğŸ¤ è²¢çŒ®\n\nãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™ã€‚å¤§ããªå¤‰æ›´ã®å ´åˆã¯ã€ã¾ãšissueã‚’é–‹ã„ã¦å¤‰æ›´å†…å®¹ã‚’è­°è«–ã—ã¦ãã ã•ã„ã€‚\n\n## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹\n\nMIT License\n\n## ğŸ‘¥ ä½œæˆè€…\n\nSIN JAPAN LOGI Development Team\n\n## ğŸ“ ã‚µãƒãƒ¼ãƒˆ\n\nå•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€GitHubã®Issuesãƒšãƒ¼ã‚¸ã§å ±å‘Šã—ã¦ãã ã•ã„ã€‚\n\n---\n\nÂ© 2025 SIN JAPAN LOGI. All rights reserved.\n\n","size_bytes":7284},"src/app/dashboard/my-posts/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { Package, Plus, Edit, Trash2, Eye, Calendar, MapPin, Weight, DollarSign, Truck } from 'lucide-react'\n\ninterface MyPost {\n  id: string\n  type: 'shipment' | 'vehicle'\n  title: string\n  description: string\n  status: string\n  createdAt: string\n  updatedAt: string\n  data: any\n}\n\nexport default function MyPostsPage() {\n  const [posts, setPosts] = useState<MyPost[]>([])\n  const [loading, setLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState<'shipments' | 'vehicles'>('shipments')\n\n  useEffect(() => {\n    loadMyPosts()\n  }, [])\n\n  const loadMyPosts = async () => {\n    setLoading(true)\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/user/my-posts', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to load posts')\n      }\n\n      const data = await response.json()\n      setPosts(data.data || [])\n    } catch (error) {\n      console.error('Error loading posts:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('ã“ã®æŠ•ç¨¿ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return\n\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch(`/api/user/my-posts/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to delete post')\n      }\n\n      setPosts(prev => prev.filter(post => post.id !== id))\n    } catch (error) {\n      console.error('Error deleting post:', error)\n      alert('å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'OPEN': return 'bg-blue-100 text-blue-800'\n      case 'MATCHED': return 'bg-green-100 text-green-800'\n      case 'IN_TRANSIT': return 'bg-yellow-100 text-yellow-800'\n      case 'DELIVERED': return 'bg-gray-100 text-gray-800'\n      case 'CANCELLED': return 'bg-red-100 text-red-800'\n      case 'AVAILABLE': return 'bg-green-100 text-green-800'\n      case 'IN_USE': return 'bg-blue-100 text-blue-800'\n      case 'MAINTENANCE': return 'bg-yellow-100 text-yellow-800'\n      case 'UNAVAILABLE': return 'bg-red-100 text-red-800'\n      default: return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'OPEN': return 'å‹Ÿé›†ä¸­'\n      case 'MATCHED': return 'ãƒãƒƒãƒãƒ³ã‚°æ¸ˆã¿'\n      case 'IN_TRANSIT': return 'è¼¸é€ä¸­'\n      case 'DELIVERED': return 'é…é€å®Œäº†'\n      case 'CANCELLED': return 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'\n      case 'AVAILABLE': return 'åˆ©ç”¨å¯èƒ½'\n      case 'IN_USE': return 'ä½¿ç”¨ä¸­'\n      case 'MAINTENANCE': return 'ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­'\n      case 'UNAVAILABLE': return 'åˆ©ç”¨ä¸å¯'\n      default: return status\n    }\n  }\n\n  const filteredPosts = posts.filter(post => \n    activeTab === 'shipments' ? post.type === 'shipment' : post.type === 'vehicle'\n  )\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">ãƒã‚¤æŠ•ç¨¿</h1>\n            <p className=\"text-gray-600\">æŠ•ç¨¿ã—ãŸè·ç‰©ã‚„ç©ºè»Šæƒ…å ±ã‚’ç®¡ç†ã§ãã¾ã™</p>\n          </div>\n          <div className=\"flex space-x-2\">\n            <button className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\">\n              <Plus className=\"h-4 w-4\" />\n              <span>æ–°è¦æŠ•ç¨¿</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* ã‚¿ãƒ– */}\n      <div className=\"mb-6\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8\">\n            <button\n              onClick={() => setActiveTab('shipments')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'shipments'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              è·ç‰©æŠ•ç¨¿ ({posts.filter(p => p.type === 'shipment').length})\n            </button>\n            <button\n              onClick={() => setActiveTab('vehicles')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === 'vehicles'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              ç©ºè»ŠæŠ•ç¨¿ ({posts.filter(p => p.type === 'vehicle').length})\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            {activeTab === 'shipments' ? 'è·ç‰©æŠ•ç¨¿ä¸€è¦§' : 'ç©ºè»ŠæŠ•ç¨¿ä¸€è¦§'}\n          </h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : filteredPosts.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Package className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredPosts.map(post => (\n              <div key={post.id} className=\"p-6 hover:bg-gray-50\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-900\">{post.title}</h3>\n                    <p className=\"text-sm text-gray-600 mt-1\">{post.description}</p>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(post.status)}`}>\n                      {getStatusLabel(post.status)}\n                    </span>\n                    <div className=\"flex space-x-1\">\n                      <button className=\"p-2 text-gray-400 hover:text-blue-600\">\n                        <Eye className=\"h-4 w-4\" />\n                      </button>\n                      <button className=\"p-2 text-gray-400 hover:text-green-600\">\n                        <Edit className=\"h-4 w-4\" />\n                      </button>\n                      <button \n                        onClick={() => handleDelete(post.id)}\n                        className=\"p-2 text-gray-400 hover:text-red-600\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                {post.type === 'shipment' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-700\">\n                    <div className=\"flex items-center\">\n                      <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      ç™ºåœ°: {post.data.pickupPrefecture} {post.data.pickupCity}\n                    </div>\n                    <div className=\"flex items-center\">\n                      <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      ç€åœ°: {post.data.deliveryPrefecture} {post.data.deliveryCity}\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      ç™ºæ—¥æ™‚: {new Date(post.data.pickupDate).toLocaleDateString()}\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Weight className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      é‡é‡: {post.data.cargoWeight}kg\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Truck className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      è»Šç¨®: {post.data.requiredVehicleType}\n                    </div>\n                    <div className=\"flex items-center\">\n                      <DollarSign className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      äºˆç®—: {post.data.budget.toLocaleString()}å††\n                    </div>\n                  </div>\n                )}\n\n                {post.type === 'vehicle' && (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-700\">\n                    <div className=\"flex items-center\">\n                      <Truck className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      è»Šç¨®: {post.data.vehicleType}\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Weight className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      æœ€å¤§ç©è¼‰é‡é‡: {post.data.maxWeight}kg\n                    </div>\n                    <div className=\"flex items-center\">\n                      <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      é‹è¡Œå¯èƒ½ã‚¨ãƒªã‚¢: {post.data.availablePrefectures ? JSON.parse(post.data.availablePrefectures).join(', ') : '-'}\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      åˆ©ç”¨å¯èƒ½æœŸé–“: {new Date(post.data.availableFrom).toLocaleDateString()} - {new Date(post.data.availableTo).toLocaleDateString()}\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"mt-4 pt-4 border-t border-gray-100\">\n                  <div className=\"flex justify-between items-center text-sm text-gray-500\">\n                    <span>æŠ•ç¨¿æ—¥: {new Date(post.createdAt).toLocaleString('ja-JP')}</span>\n                    <span>æ›´æ–°æ—¥: {new Date(post.updatedAt).toLocaleString('ja-JP')}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}\n","size_bytes":10385},"src/lib/api-response.ts":{"content":"import { NextResponse } from 'next/server'\n\nexport function successResponse<T>(data: T, status = 200) {\n  return NextResponse.json(\n    {\n      success: true,\n      data,\n    },\n    { status }\n  )\n}\n\nexport function errorResponse(message: string, status = 400) {\n  return NextResponse.json(\n    {\n      success: false,\n      error: message,\n    },\n    { status }\n  )\n}\n\nexport function unauthorizedResponse(message = 'èªè¨¼ãŒå¿…è¦ã§ã™') {\n  return errorResponse(message, 401)\n}\n\nexport function forbiddenResponse(message = 'ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“') {\n  return errorResponse(message, 403)\n}\n\nexport function notFoundResponse(message = 'ãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“') {\n  return errorResponse(message, 404)\n}\n\n","size_bytes":735},"next.config.js":{"content":"/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  reactStrictMode: true,\n  swcMinify: true,\n  images: {\n    unoptimized: true,\n  },\n}\n\nmodule.exports = nextConfig\n\n","size_bytes":178},"src/components/StatsDisplay.tsx":{"content":"import { Package, Truck } from 'lucide-react'\nimport { useStats } from '@/hooks/useStats'\n\nexport default function StatsDisplay() {\n  const { stats } = useStats()\n\n  return (\n    <div className=\"flex items-center space-x-8\">\n      <div className=\"flex items-center space-x-3\">\n        <Package className=\"h-6 w-6 text-blue-600\" />\n        <span className=\"text-gray-600 text-sm\">è·ç‰©æ•°</span>\n        <span className=\"font-bold text-2xl text-blue-600\">{stats.shipmentCount.toLocaleString()}</span>\n      </div>\n      <div className=\"flex items-center space-x-3\">\n        <Truck className=\"h-6 w-6 text-green-600\" />\n        <span className=\"text-gray-600 text-sm\">ç©ºè»Šæ•°</span>\n        <span className=\"font-bold text-2xl text-blue-600\">{stats.vehicleCount.toLocaleString()}</span>\n      </div>\n    </div>\n  )\n}\n","size_bytes":818},"src/components/CountUpAnimation.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\n\ninterface CountUpAnimationProps {\n  end: number\n  duration?: number\n  className?: string\n  prefix?: string\n  suffix?: string\n}\n\nexport default function CountUpAnimation({ \n  end, \n  duration = 2000, \n  className = '',\n  prefix = '',\n  suffix = ''\n}: CountUpAnimationProps) {\n  const [count, setCount] = useState(0)\n\n  useEffect(() => {\n    let startTime: number\n    let animationFrame: number\n\n    const animate = (currentTime: number) => {\n      if (!startTime) startTime = currentTime\n      const progress = Math.min((currentTime - startTime) / duration, 1)\n      \n      // ã‚¤ãƒ¼ã‚¸ãƒ³ã‚°é–¢æ•°ï¼ˆeaseOutCubicï¼‰\n      const easeOutCubic = 1 - Math.pow(1 - progress, 3)\n      const currentCount = Math.floor(easeOutCubic * end)\n      \n      setCount(currentCount)\n\n      if (progress < 1) {\n        animationFrame = requestAnimationFrame(animate)\n      }\n    }\n\n    // å°‘ã—é…å»¶ã‚’å…¥ã‚Œã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹\n    const timeoutId = setTimeout(() => {\n      animationFrame = requestAnimationFrame(animate)\n    }, 200)\n\n    return () => {\n      clearTimeout(timeoutId)\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n    }\n  }, [end, duration])\n\n  return (\n    <span className={className}>\n      {prefix}{count.toLocaleString()}{suffix}\n    </span>\n  )\n}\n","size_bytes":1362},"src/app/dashboard/page.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Package, \n  Search, \n  Truck, \n  Building2, \n  Users, \n  Settings, \n  Bell, \n  User,\n  ChevronDown,\n  ChevronRight,\n  Filter,\n  X,\n  Plus,\n  Eye,\n  Calendar,\n  MapPin,\n  Weight,\n  Car,\n  User as UserIcon,\n  Globe,\n  FileText,\n  HelpCircle,\n  CheckCircle,\n  Bookmark,\n  History\n} from 'lucide-react'\n\nexport default function DashboardPage() {\n  const [shipments, setShipments] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState('å‹Ÿé›†ä¸­')\n\n  useEffect(() => {\n    loadShipments()\n  }, [])\n\n  const loadShipments = async () => {\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/shipments', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      if (!response.ok) throw new Error('Failed to load shipments')\n      \n      const data = await response.json()\n      setShipments(data.data || [])\n    } catch (error) {\n      console.error('Error loading shipments:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <DashboardLayout>\n      {/* ã‚¿ãƒ– */}\n      <div className=\"mb-6\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8\">\n            {['å‹Ÿé›†ä¸­', 'æˆç´„æ¸ˆã¿', 'è¼¸é€ä¸­', 'å®Œäº†'].map((tab) => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                  activeTab === tab\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                {tab}\n              </button>\n            ))}\n          </nav>\n        </div>\n      </div>\n\n      {/* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n          <div className=\"flex items-center\">\n            <div className=\"p-2 bg-blue-100 rounded-lg\">\n              <Package className=\"h-6 w-6 text-blue-600\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">ç·è·ç‰©æ•°</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{shipments.length}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n          <div className=\"flex items-center\">\n            <div className=\"p-2 bg-green-100 rounded-lg\">\n              <CheckCircle className=\"h-6 w-6 text-green-600\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">æˆç´„æ¸ˆã¿</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {shipments.filter(s => s.status === 'MATCHED').length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n          <div className=\"flex items-center\">\n            <div className=\"p-2 bg-yellow-100 rounded-lg\">\n              <Truck className=\"h-6 w-6 text-yellow-600\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">è¼¸é€ä¸­</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {shipments.filter(s => s.status === 'IN_TRANSIT').length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border\">\n          <div className=\"flex items-center\">\n            <div className=\"p-2 bg-gray-100 rounded-lg\">\n              <FileText className=\"h-6 w-6 text-gray-600\" />\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">å®Œäº†</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {shipments.filter(s => s.status === 'DELIVERED').length}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* è·ç‰©ä¸€è¦§ */}\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">è·ç‰©ä¸€è¦§</h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : shipments.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Package className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>è·ç‰©ãŒã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {shipments.map((shipment) => (\n              <div key={shipment.id} className=\"p-6 hover:bg-gray-50\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-lg font-medium text-gray-900\">\n                      {shipment.cargoName}\n                    </h3>\n                    <p className=\"text-sm text-gray-500 mt-1\">\n                      {shipment.cargoDescription}\n                    </p>\n                    <div className=\"mt-2 flex items-center space-x-4 text-sm text-gray-500\">\n                      <span className=\"flex items-center\">\n                        <MapPin className=\"h-4 w-4 mr-1\" />\n                        {shipment.pickupPrefecture} â†’ {shipment.deliveryPrefecture}\n                      </span>\n                      <span className=\"flex items-center\">\n                        <Calendar className=\"h-4 w-4 mr-1\" />\n                        {new Date(shipment.pickupDate).toLocaleDateString()}\n                      </span>\n                      <span className=\"flex items-center\">\n                        <Weight className=\"h-4 w-4 mr-1\" />\n                        {shipment.cargoWeight}kg\n                      </span>\n                      <span className=\"flex items-center\">\n                        <Truck className=\"h-4 w-4 mr-1\" />\n                        {shipment.requiredVehicleType}\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                      shipment.status === 'OPEN' ? 'bg-blue-100 text-blue-800' :\n                      shipment.status === 'MATCHED' ? 'bg-green-100 text-green-800' :\n                      shipment.status === 'IN_TRANSIT' ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-gray-100 text-gray-800'\n                    }`}>\n                      {shipment.status === 'OPEN' ? 'å‹Ÿé›†ä¸­' :\n                       shipment.status === 'MATCHED' ? 'æˆç´„æ¸ˆã¿' :\n                       shipment.status === 'IN_TRANSIT' ? 'è¼¸é€ä¸­' : 'å®Œäº†'}\n                    </span>\n                    <button className=\"p-2 text-gray-400 hover:text-gray-600\">\n                      <Eye className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":7514},"src/app/dashboard/settings/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Settings, \n  ChevronUp, \n  ChevronDown, \n  Building2, \n  User, \n  CreditCard, \n  FileText, \n  Mail, \n  DollarSign,\n  Users,\n  Bell,\n  LogOut,\n  Save,\n  X,\n  Edit\n} from 'lucide-react'\n\nexport default function SettingsPage() {\n  const router = useRouter()\n  const [activeSection, setActiveSection] = useState('åŸºæœ¬æƒ…å ±')\n  const [expandedSections, setExpandedSections] = useState({\n    'ä¼æ¥­æƒ…å ±ç®¡ç†': true,\n    'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†': false\n  })\n  const [editing, setEditing] = useState(false)\n  const [user, setUser] = useState<any>(null)\n  const [formData, setFormData] = useState({\n    contactPerson: '',\n    email: '',\n    phone: '',\n    companyName: '',\n    postalCode: '',\n    address: ''\n  })\n\n  useEffect(() => {\n    const userData = localStorage.getItem('user')\n    if (userData) {\n      const userProfile = JSON.parse(userData)\n      setUser(userProfile)\n      setFormData({\n        contactPerson: userProfile.contactPerson || '',\n        email: userProfile.email || '',\n        phone: userProfile.phone || '',\n        companyName: userProfile.companyName || '',\n        postalCode: userProfile.postalCode || '',\n        address: userProfile.address || ''\n      })\n    }\n  }, [])\n\n  const toggleSection = (section: string) => {\n    setExpandedSections(prev => ({\n      ...prev,\n      [section]: !prev[section as keyof typeof prev]\n    }))\n  }\n\n  const handleEdit = () => {\n    setEditing(true)\n  }\n\n  const handleCancel = () => {\n    setEditing(false)\n    if (user) {\n      setFormData({\n        contactPerson: user.contactPerson || '',\n        email: user.email || '',\n        phone: user.phone || '',\n        companyName: user.companyName || '',\n        postalCode: user.postalCode || '',\n        address: user.address || ''\n      })\n    }\n  }\n\n  const handleSave = async () => {\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/user/profile', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(formData)\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to update profile')\n      }\n\n      const updatedUser = { ...user, ...formData }\n      setUser(updatedUser)\n      localStorage.setItem('user', JSON.stringify(updatedUser))\n      setEditing(false)\n    } catch (error) {\n      console.error('Error updating profile:', error)\n      alert('ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    }\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem('token')\n    localStorage.removeItem('user')\n    router.push('/login')\n  }\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }))\n  }\n\n  const menuItems = [\n    {\n      section: 'ä¼æ¥­æƒ…å ±ç®¡ç†',\n      icon: Building2,\n      items: [\n        { id: 'åŸºæœ¬æƒ…å ±', label: 'åŸºæœ¬æƒ…å ±' },\n        { id: 'è©³ç´°æƒ…å ±', label: 'è©³ç´°æƒ…å ±' },\n        { id: 'ä¿¡ç”¨æƒ…å ±', label: 'ä¿¡ç”¨æƒ…å ±' },\n        { id: 'å¥‘ç´„å†…å®¹', label: 'å¥‘ç´„å†…å®¹' },\n        { id: 'å£åº§æƒ…å ±', label: 'å£åº§æƒ…å ±' },\n        { id: 'ãŠæ”¯æ‰•ã„æ–¹æ³•', label: 'ãŠæ”¯æ‰•ã„æ–¹æ³•' },\n        { id: 'è«‹æ±‚æ›¸å—é ˜è¨­å®š', label: 'è«‹æ±‚æ›¸å—é ˜è¨­å®š' },\n        { id: 'è«‹æ±‚æ›¸ç™ºè¡Œè¨­å®š', label: 'è«‹æ±‚æ›¸ç™ºè¡Œè¨­å®š' },\n        { id: 'çµŒç†æ‹…å½“è€…', label: 'çµŒç†æ‹…å½“è€…' }\n      ]\n    },\n    {\n      section: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†',\n      icon: Users,\n      items: [\n        { id: 'ãƒ¡ãƒ¼ãƒ«å—ä¿¡è¨­å®š', label: 'ãƒ¡ãƒ¼ãƒ«å—ä¿¡è¨­å®š' },\n        { id: 'ã”åˆ©ç”¨é‡‘é¡', label: 'ã”åˆ©ç”¨é‡‘é¡' },\n        { id: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ', label: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ', isLogout: true }\n      ]\n    }\n  ]\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">è¨­å®š</h1>\n        <p className=\"text-gray-600\">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®šã‚’ç®¡ç†ã§ãã¾ã™</p>\n      </div>\n\n      <div className=\"flex gap-6\">\n        {/* ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}\n        <div className=\"w-64 bg-white rounded-lg shadow-sm border\">\n          <div className=\"p-4\">\n            {menuItems.map((section) => (\n              <div key={section.section} className=\"mb-4\">\n                <button\n                  onClick={() => toggleSection(section.section)}\n                  className=\"w-full flex items-center justify-between p-2 text-left hover:bg-gray-50 rounded-lg\"\n                >\n                  <div className=\"flex items-center\">\n                    <section.icon className=\"h-4 w-4 mr-2 text-gray-600\" />\n                    <span className=\"font-medium text-gray-900\">{section.section}</span>\n                  </div>\n                  {expandedSections[section.section as keyof typeof expandedSections] ? (\n                    <ChevronUp className=\"h-4 w-4 text-gray-400\" />\n                  ) : (\n                    <ChevronDown className=\"h-4 w-4 text-gray-400\" />\n                  )}\n                </button>\n                \n                {expandedSections[section.section as keyof typeof expandedSections] && (\n                  <div className=\"ml-6 mt-2 space-y-1\">\n                    {section.items.map((item) => (\n                      <button\n                        key={item.id}\n                        onClick={() => {\n                          if (item.isLogout) {\n                            handleLogout()\n                          } else {\n                            setActiveSection(item.id)\n                          }\n                        }}\n                        className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${\n                          activeSection === item.id\n                            ? 'bg-green-50 text-green-800 border-r-2 border-green-600'\n                            : item.isLogout\n                            ? 'text-red-600 hover:bg-red-50'\n                            : 'text-gray-600 hover:bg-gray-50'\n                        }`}\n                      >\n                        {item.isLogout && <LogOut className=\"h-4 w-4 inline mr-2\" />}\n                        {item.label}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n        <div className=\"flex-1 bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">{activeSection}</h2>\n              {activeSection === 'åŸºæœ¬æƒ…å ±' && (\n                <div className=\"flex space-x-2\">\n                  {editing ? (\n                    <>\n                      <button\n                        onClick={handleSave}\n                        className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n                      >\n                        <Save className=\"h-4 w-4\" />\n                        <span>ä¿å­˜</span>\n                      </button>\n                      <button\n                        onClick={handleCancel}\n                        className=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 flex items-center space-x-2\"\n                      >\n                        <X className=\"h-4 w-4\" />\n                        <span>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</span>\n                      </button>\n                    </>\n                  ) : (\n                    <button\n                      onClick={handleEdit}\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n                    >\n                      <Edit className=\"h-4 w-4\" />\n                      <span>ç·¨é›†</span>\n                    </button>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"p-6\">\n            {activeSection === 'åŸºæœ¬æƒ…å ±' && (\n              <div className=\"space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä¼šç¤¾å</label>\n                  {editing ? (\n                    <input\n                      type=\"text\"\n                      value={formData.companyName}\n                      onChange={(e) => handleInputChange('companyName', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"ä¼šç¤¾åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.companyName || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">æ‹…å½“è€…å</label>\n                  {editing ? (\n                    <input\n                      type=\"text\"\n                      value={formData.contactPerson}\n                      onChange={(e) => handleInputChange('contactPerson', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"æ‹…å½“è€…åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.contactPerson || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>\n                  {editing ? (\n                    <input\n                      type=\"email\"\n                      value={formData.email}\n                      onChange={(e) => handleInputChange('email', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.email || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">é›»è©±ç•ªå·</label>\n                  {editing ? (\n                    <input\n                      type=\"tel\"\n                      value={formData.phone}\n                      onChange={(e) => handleInputChange('phone', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.phone || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">éƒµä¾¿ç•ªå·</label>\n                  {editing ? (\n                    <input\n                      type=\"text\"\n                      value={formData.postalCode}\n                      onChange={(e) => handleInputChange('postalCode', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"éƒµä¾¿ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.postalCode || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä½æ‰€</label>\n                  {editing ? (\n                    <textarea\n                      value={formData.address}\n                      onChange={(e) => handleInputChange('address', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      rows={3}\n                      placeholder=\"ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900\">{user?.address || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {activeSection === 'è©³ç´°æƒ…å ±' && (\n              <div className=\"text-center\">\n                <FileText className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p className=\"text-gray-500 mb-4\">è©³ç´°æƒ…å ±ã®è¨­å®šãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™</p>\n                <button\n                  onClick={() => router.push('/dashboard/settings/company-details')}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  è©³ç´°æƒ…å ±ã‚’è¨­å®š\n                </button>\n              </div>\n            )}\n\n            {activeSection === 'ä¿¡ç”¨æƒ…å ±' && (\n              <div className=\"text-center\">\n                <CreditCard className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p className=\"text-gray-500 mb-4\">ä¿¡ç”¨æƒ…å ±ã®ç¢ºèªãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™</p>\n                <button\n                  onClick={() => router.push('/dashboard/settings/credit-info')}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  ä¿¡ç”¨æƒ…å ±ã‚’ç¢ºèª\n                </button>\n              </div>\n            )}\n\n            {activeSection === 'å¥‘ç´„å†…å®¹' && (\n              <div className=\"text-center\">\n                <FileText className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p className=\"text-gray-500 mb-4\">å¥‘ç´„å†…å®¹ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™</p>\n                <button\n                  onClick={() => router.push('/dashboard/settings/contract')}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  å¥‘ç´„å†…å®¹ã‚’ç®¡ç†\n                </button>\n              </div>\n            )}\n\n            {activeSection === 'å£åº§æƒ…å ±' && (\n              <div className=\"text-center\">\n                <CreditCard className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p className=\"text-gray-500 mb-4\">å£åº§æƒ…å ±ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™</p>\n                <button\n                  onClick={() => router.push('/dashboard/settings/account-info')}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  å£åº§æƒ…å ±ã‚’ç®¡ç†\n                </button>\n              </div>\n            )}\n\n            {activeSection === 'ãŠæ”¯æ‰•ã„æ–¹æ³•' && (\n              <div className=\"text-center\">\n                <CreditCard className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p className=\"text-gray-500 mb-4\">ãŠæ”¯æ‰•ã„æ–¹æ³•ã®è¨­å®šãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™</p>\n                <button\n                  onClick={() => router.push('/dashboard/payment')}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n                >\n                  ãŠæ”¯æ‰•ã„æ–¹æ³•ã‚’è¨­å®š\n                </button>\n              </div>\n            )}\n\n            {activeSection === 'è«‹æ±‚æ›¸å—é ˜è¨­å®š' && (\n              <div className=\"text-center text-gray-500\">\n                <Mail className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p>è«‹æ±‚æ›¸å—é ˜è¨­å®šã¯æº–å‚™ä¸­ã§ã™</p>\n              </div>\n            )}\n\n            {activeSection === 'è«‹æ±‚æ›¸ç™ºè¡Œè¨­å®š' && (\n              <div className=\"text-center text-gray-500\">\n                <FileText className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p>è«‹æ±‚æ›¸ç™ºè¡Œè¨­å®šã¯æº–å‚™ä¸­ã§ã™</p>\n              </div>\n            )}\n\n            {activeSection === 'çµŒç†æ‹…å½“è€…' && (\n              <div className=\"text-center text-gray-500\">\n                <User className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p>çµŒç†æ‹…å½“è€…ã®è¨­å®šã¯æº–å‚™ä¸­ã§ã™</p>\n              </div>\n            )}\n\n            {activeSection === 'ãƒ¡ãƒ¼ãƒ«å—ä¿¡è¨­å®š' && (\n              <div className=\"text-center text-gray-500\">\n                <Mail className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p>ãƒ¡ãƒ¼ãƒ«å—ä¿¡è¨­å®šã¯æº–å‚™ä¸­ã§ã™</p>\n              </div>\n            )}\n\n            {activeSection === 'ã”åˆ©ç”¨é‡‘é¡' && (\n              <div className=\"text-center text-gray-500\">\n                <DollarSign className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                <p>ã”åˆ©ç”¨é‡‘é¡ã®ç¢ºèªã¯æº–å‚™ä¸­ã§ã™</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":17374},"src/app/api/admin/documents/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server'\nimport { prisma } from '@/lib/prisma'\nimport { verifyAdminSession } from '@/lib/auth'\n\n// ç®¡ç†è€…æ¨©é™ãƒã‚§ãƒƒã‚¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢\nasync function requireAdmin(request: NextRequest) {\n  const token = request.cookies.get('admin_token')?.value\n\n  if (!token) {\n    return NextResponse.json(\n      { error: 'ç®¡ç†è€…èªè¨¼ãŒå¿…è¦ã§ã™' },\n      { status: 401 }\n    )\n  }\n\n  const payload = verifyAdminSession(token)\n\n  if (!payload) {\n    return NextResponse.json(\n      { error: 'ç„¡åŠ¹ãªç®¡ç†è€…èªè¨¼ã§ã™' },\n      { status: 401 }\n    )\n  }\n\n  return payload\n}\n\n// è¨±å¯è¨¼ãƒ»æ›¸é¡ä¸€è¦§å–å¾—\nexport async function GET(request: NextRequest) {\n  try {\n    const admin = await requireAdmin(request)\n    if (admin instanceof NextResponse) return admin\n\n    const { searchParams } = new URL(request.url)\n    const status = searchParams.get('status')\n    const type = searchParams.get('type')\n    const page = parseInt(searchParams.get('page') || '1')\n    const limit = parseInt(searchParams.get('limit') || '50')\n\n    const where: any = {}\n    \n    if (status && status !== 'all') {\n      where.status = status\n    }\n    \n    if (type && type !== 'all') {\n      where.type = type\n    }\n\n    // ãƒ‡ãƒ¢ç”¨ã®æ›¸é¡ãƒ‡ãƒ¼ã‚¿\n    const sampleDocuments = [\n      {\n        id: '1',\n        userId: '1',\n        type: 'business_license',\n        name: 'äº‹æ¥­è¨±å¯è¨¼',\n        status: 'pending',\n        uploadedAt: '2024-01-15',\n        fileUrl: '/documents/business_license_1.pdf',\n        user: {\n          companyName: 'æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯',\n          contactPerson: 'å±±ç”°èŠ±å­',\n          email: 'yamada@translogic.co.jp'\n        }\n      },\n      {\n        id: '2',\n        userId: '2',\n        type: 'transport_license',\n        name: 'ä¸€èˆ¬è²¨ç‰©è‡ªå‹•è»Šé‹é€äº‹æ¥­è¨±å¯è¨¼',\n        status: 'pending',\n        uploadedAt: '2024-01-15',\n        fileUrl: '/documents/transport_license_2.pdf',\n        user: {\n          companyName: 'é–¢è¥¿ç‰©æµæ ªå¼ä¼šç¤¾',\n          contactPerson: 'éˆ´æœ¨ä¸€éƒ',\n          email: 'suzuki@kansai-logistics.co.jp'\n        }\n      },\n      {\n        id: '3',\n        userId: '1',\n        type: 'insurance',\n        name: 'ä¿é™ºè¨¼åˆ¸',\n        status: 'approved',\n        uploadedAt: '2024-01-10',\n        reviewedAt: '2024-01-12',\n        reviewer: 'ç®¡ç†è€…',\n        fileUrl: '/documents/insurance_1.pdf',\n        expiryDate: '2025-01-10',\n        user: {\n          companyName: 'æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯',\n          contactPerson: 'å±±ç”°èŠ±å­',\n          email: 'yamada@translogic.co.jp'\n        }\n      },\n      {\n        id: '4',\n        userId: '3',\n        type: 'tax_certificate',\n        name: 'ç´ç¨è¨¼æ˜æ›¸',\n        status: 'pending',\n        uploadedAt: '2024-01-16',\n        fileUrl: '/documents/tax_certificate_3.pdf',\n        user: {\n          companyName: 'ä¸­éƒ¨é‹é€æ ªå¼ä¼šç¤¾',\n          contactPerson: 'ç”°æ‘å››éƒ',\n          email: 'tamura@chubu-transport.co.jp'\n        }\n      },\n      {\n        id: '5',\n        userId: '4',\n        type: 'business_license',\n        name: 'äº‹æ¥­è¨±å¯è¨¼',\n        status: 'rejected',\n        uploadedAt: '2024-01-14',\n        reviewedAt: '2024-01-15',\n        reviewer: 'ç®¡ç†è€…',\n        comment: 'æ›¸é¡ãŒä¸é®®æ˜ã§ã™ã€‚å†æå‡ºã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚',\n        fileUrl: '/documents/business_license_4.pdf',\n        user: {\n          companyName: 'ã‚µãƒ³ãƒ—ãƒ«å•†äº‹æ ªå¼ä¼šç¤¾',\n          contactPerson: 'ä½è—¤å¤ªéƒ',\n          email: 'sato@sample.co.jp'\n        }\n      }\n    ]\n\n    let filteredDocuments = sampleDocuments\n\n    if (status && status !== 'all') {\n      filteredDocuments = filteredDocuments.filter(doc => doc.status === status)\n    }\n\n    if (type && type !== 'all') {\n      filteredDocuments = filteredDocuments.filter(doc => doc.type === type)\n    }\n\n    const total = filteredDocuments.length\n    const paginatedDocuments = filteredDocuments.slice(\n      (page - 1) * limit,\n      page * limit\n    )\n\n    return NextResponse.json({\n      documents: paginatedDocuments,\n      pagination: {\n        page,\n        limit,\n        total,\n        totalPages: Math.ceil(total / limit)\n      }\n    })\n  } catch (error) {\n    console.error('Get documents error:', error)\n    return NextResponse.json(\n      { error: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n\n// æ›¸é¡æ‰¿èª/æ‹’å¦\nexport async function PATCH(request: NextRequest) {\n  try {\n    const admin = await requireAdmin(request)\n    if (admin instanceof NextResponse) return admin\n\n    const { documentId, action, comment } = await request.json()\n\n    if (!documentId || !action) {\n      return NextResponse.json(\n        { error: 'æ›¸é¡IDã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå¿…è¦ã§ã™' },\n        { status: 400 }\n      )\n    }\n\n    // ãƒ‡ãƒ¢ç”¨ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹\n    const result = {\n      id: documentId,\n      status: action === 'approve' ? 'approved' : 'rejected',\n      reviewedAt: new Date().toISOString().split('T')[0],\n      reviewer: 'ç®¡ç†è€…',\n      comment: comment || ''\n    }\n\n    console.log(`Admin ${admin.userId} ${action} document ${documentId}${comment ? ` with comment: ${comment}` : ''}`)\n\n    return NextResponse.json({\n      message: `æ›¸é¡ã‚’${action === 'approve' ? 'æ‰¿èª' : 'æ‹’å¦'}ã—ã¾ã—ãŸ`,\n      document: result\n    })\n  } catch (error) {\n    console.error('Update document error:', error)\n    return NextResponse.json(\n      { error: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n","size_bytes":5580},"src/app/contact/page.tsx":{"content":"'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport Logo from '@/components/Logo'\nimport { ArrowLeft, Mail, Phone, MapPin, Clock } from 'lucide-react'\n\nexport default function ContactPage() {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [submitStatus, setSubmitStatus] = useState<'idle' | 'success' | 'error'>('idle')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    setIsSubmitting(true)\n    setSubmitStatus('idle')\n    setErrorMessage('')\n\n    const formData = new FormData(e.currentTarget)\n    const data = {\n      lastName: formData.get('lastName'),\n      firstName: formData.get('firstName'),\n      lastNameKana: formData.get('lastNameKana'),\n      firstNameKana: formData.get('firstNameKana'),\n      company: formData.get('company'),\n      department: formData.get('department'),\n      phone: formData.get('phone'),\n      email: formData.get('email'),\n      contactMethod: formData.get('contactMethod'),\n      message: formData.get('message'),\n      newsletter: formData.get('newsletter') === 'on'\n    }\n\n    try {\n      const response = await fetch('/api/contact', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      })\n\n      const result = await response.json()\n\n      if (result.success) {\n        setSubmitStatus('success')\n        e.currentTarget.reset()\n      } else {\n        setSubmitStatus('error')\n        setErrorMessage(result.error || 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ')\n      }\n    } catch (error) {\n      setSubmitStatus('error')\n      setErrorMessage('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚')\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen gradient-bg\">\n      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n      <header className=\"glass sticky top-0 z-50 border-b border-white/20\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex justify-between items-center\">\n            <Link href=\"/\" className=\"flex items-center\">\n              <Logo width={200} height={60} className=\"w-[150px] h-[45px] sm:w-[200px] sm:h-[60px]\" linkable={false} />\n            </Link>\n            <div className=\"flex items-center space-x-2 sm:space-x-6\">\n              <Link\n                href=\"/login\"\n                className=\"text-slate-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105\"\n              >\n                ãƒ­ã‚°ã‚¤ãƒ³\n              </Link>\n              <Link\n                href=\"/register\"\n                className=\"btn-primary text-sm px-6 py-3\"\n              >\n                æ–°è¦ç™»éŒ²\n              </Link>\n            </div>\n          </div>\n        </nav>\n      </header>\n\n      {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      <main className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"mb-8\">\n          <Link \n            href=\"/\" \n            className=\"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-300 mb-6\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹\n          </Link>\n          \n          <h1 className=\"text-4xl sm:text-5xl font-bold text-slate-800 mb-4\">\n            ãŠå•ã„åˆã‚ã›\n          </h1>\n          <p className=\"text-lg text-slate-600\">\n            ã”è³ªå•ãƒ»ã”ç›¸è«‡ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ  */}\n          <div className=\"floating-card\">\n            <h2 className=\"text-2xl font-bold text-slate-800 mb-6\">ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ </h2>\n            \n            {submitStatus === 'success' && (\n              <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\n                <p className=\"text-green-800 font-medium\">\n                  âœ“ ãŠå•ã„åˆã‚ã›ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚æ‹…å½“è€…ã‚ˆã‚ŠæŠ˜ã‚Šè¿”ã—ã”é€£çµ¡ã„ãŸã—ã¾ã™ã€‚\n                </p>\n              </div>\n            )}\n\n            {submitStatus === 'error' && (\n              <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                <p className=\"text-red-800 font-medium\">\n                  âœ— {errorMessage}\n                </p>\n              </div>\n            )}\n            \n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div>\n                  <label htmlFor=\"lastName\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    ãŠåå‰ï¼ˆå§“ï¼‰<span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"lastName\"\n                    name=\"lastName\"\n                    required\n                    className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                    placeholder=\"å±±ç”°\"\n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"firstName\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    ãŠåå‰ï¼ˆåï¼‰<span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"firstName\"\n                    name=\"firstName\"\n                    required\n                    className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                    placeholder=\"å¤ªéƒ\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                <div>\n                  <label htmlFor=\"lastNameKana\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    ãƒ•ãƒªã‚¬ãƒŠï¼ˆã‚»ã‚¤ï¼‰<span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"lastNameKana\"\n                    name=\"lastNameKana\"\n                    required\n                    className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                    placeholder=\"ãƒ¤ãƒãƒ€\"\n                  />\n                </div>\n                <div>\n                  <label htmlFor=\"firstNameKana\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                    ãƒ•ãƒªã‚¬ãƒŠï¼ˆãƒ¡ã‚¤ï¼‰<span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"firstNameKana\"\n                    name=\"firstNameKana\"\n                    required\n                    className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                    placeholder=\"ã‚¿ãƒ­ã‚¦\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label htmlFor=\"company\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                  ä¼šç¤¾å\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"company\"\n                  name=\"company\"\n                  className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                  placeholder=\"æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"department\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                  éƒ¨ç½²ãƒ»å½¹è·\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"department\"\n                  name=\"department\"\n                  className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                  placeholder=\"å–¶æ¥­éƒ¨ éƒ¨é•·\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"phone\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                  ãŠé›»è©±ç•ªå·<span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"tel\"\n                  id=\"phone\"\n                  name=\"phone\"\n                  required\n                  className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                  placeholder=\"03-1234-5678\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                  ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  required\n                  className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                  placeholder=\"example@company.com\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-slate-700 mb-2\">\n                  ã”å¸Œæœ›ã®é€£çµ¡æ–¹æ³•<span className=\"text-red-500\">*</span>\n                </label>\n                <div className=\"space-y-2\">\n                  <label className=\"flex items-center\">\n                    <input type=\"radio\" name=\"contactMethod\" value=\"email\" className=\"mr-2\" />\n                    <span>ãƒ¡ãƒ¼ãƒ«</span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input type=\"radio\" name=\"contactMethod\" value=\"phone\" className=\"mr-2\" />\n                    <span>é›»è©±</span>\n                  </label>\n                </div>\n              </div>\n\n              <div>\n                <label htmlFor=\"message\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                  ãŠå•ã„åˆã‚ã›å†…å®¹<span className=\"text-red-500\">*</span>\n                </label>\n                <textarea\n                  id=\"message\"\n                  name=\"message\"\n                  rows={6}\n                  required\n                  className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                  placeholder=\"ãŠå•ã„åˆã‚ã›å†…å®¹ã‚’ã”è¨˜å…¥ãã ã•ã„\"\n                ></textarea>\n              </div>\n\n              <div className=\"flex items-start\">\n                <input type=\"checkbox\" id=\"newsletter\" name=\"newsletter\" className=\"mt-1 mr-2\" />\n                <label htmlFor=\"newsletter\" className=\"text-sm text-slate-600\">\n                  é€ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ãŠçŸ¥ã‚‰ã›é…ä¿¡ã«ç™»éŒ²ã™ã‚‹\n                </label>\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"w-full btn-primary text-center disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {isSubmitting ? 'é€ä¿¡ä¸­...' : 'é€ä¿¡'}\n              </button>\n\n              <p className=\"text-xs text-slate-500\">\n                åˆ©ç”¨è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã‚’ãŠèª­ã¿ã®ä¸Šã€åŒæ„ã—ã¦é€ä¿¡ã—ã¦ä¸‹ã•ã„ã€‚\n              </p>\n            </form>\n          </div>\n\n          {/* ä¼šç¤¾æƒ…å ± */}\n          <div className=\"space-y-6\">\n            <div className=\"floating-card\">\n              <h2 className=\"text-2xl font-bold text-slate-800 mb-6\">ä¼šç¤¾æƒ…å ±</h2>\n              \n              <div className=\"space-y-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <MapPin className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">æœ¬ç¤¾æ‰€åœ¨åœ°</h3>\n                    <p className=\"text-slate-600\">ã€’243-0303</p>\n                    <p className=\"text-slate-600\">ç¥å¥ˆå·çœŒæ„›ç”²éƒ¡æ„›å·ç”ºä¸­æ´¥ï¼—ï¼’ï¼˜ï¼—</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <Phone className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">é›»è©±ç•ªå·</h3>\n                    <p className=\"text-slate-600\">046-212-2325</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <Phone className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">FAX</h3>\n                    <p className=\"text-slate-600\">046-212-2326</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <Mail className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</h3>\n                    <p className=\"text-slate-600\">info@sinjapan.jp</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <Clock className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">å—ä»˜æ™‚é–“</h3>\n                    <p className=\"text-slate-600\">9:00-21:00</p>\n                    <p className=\"text-sm text-slate-500\">ï¼ˆåœŸæ—¥ç¥æ—¥ã¯ä¼‘æ¥­ï¼‰</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"floating-card\">\n              <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">ãã®ä»–ã®ãŠå•ã„åˆã‚ã›</h2>\n              <div className=\"space-y-3\">\n                <Link \n                  href=\"/help\" \n                  className=\"block text-blue-600 hover:text-blue-700 transition-colors duration-300\"\n                >\n                  ã‚ˆãã‚ã‚‹ã”è³ªå•\n                </Link>\n                <Link \n                  href=\"/terms\" \n                  className=\"block text-blue-600 hover:text-blue-700 transition-colors duration-300\"\n                >\n                  åˆ©ç”¨è¦ç´„\n                </Link>\n                <Link \n                  href=\"/privacy\" \n                  className=\"block text-blue-600 hover:text-blue-700 transition-colors duration-300\"\n                >\n                  ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼\n                </Link>\n                <Link \n                  href=\"/about\" \n                  className=\"block text-blue-600 hover:text-blue-700 transition-colors duration-300\"\n                >\n                  ä¼šç¤¾æ¦‚è¦\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n","size_bytes":15581},"src/app/dashboard/my-shipments/page.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Package, \n  MapPin, \n  Calendar, \n  Weight, \n  Truck, \n  DollarSign, \n  Eye, \n  Edit, \n  Trash2,\n  Plus,\n  Filter,\n  Search,\n  MoreVertical,\n  CheckCircle,\n  Clock,\n  AlertCircle\n} from 'lucide-react'\n\ninterface Shipment {\n  id: string\n  cargoName: string\n  cargoDescription: string\n  status: 'OPEN' | 'MATCHED' | 'IN_TRANSIT' | 'DELIVERED' | 'CANCELLED'\n  pickupPrefecture: string\n  pickupCity: string\n  deliveryPrefecture: string\n  deliveryCity: string\n  pickupDate: string\n  deliveryDate: string\n  cargoWeight: number\n  requiredVehicleType: string\n  budget: number\n  createdAt: string\n  updatedAt: string\n}\n\nexport default function MyShipmentsPage() {\n  const router = useRouter()\n  const [shipments, setShipments] = useState<Shipment[]>([])\n  const [loading, setLoading] = useState(true)\n  const [filter, setFilter] = useState<'all' | 'OPEN' | 'MATCHED' | 'IN_TRANSIT' | 'DELIVERED' | 'CANCELLED'>('all')\n  const [searchTerm, setSearchTerm] = useState('')\n\n  useEffect(() => {\n    loadMyShipments()\n  }, [])\n\n  const loadMyShipments = async () => {\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/user/my-posts', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      if (!response.ok) throw new Error('Failed to load shipments')\n      \n      const data = await response.json()\n      // è·ç‰©ã®ã¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆtype: 'shipment'ï¼‰\n      const shipmentPosts = data.data?.filter((post: any) => post.type === 'shipment') || []\n      setShipments(shipmentPosts)\n    } catch (error) {\n      console.error('Error loading shipments:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDelete = async (shipmentId: string) => {\n    if (!confirm('ã“ã®è·ç‰©ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return\n\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch(`/api/user/my-posts/${shipmentId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      if (!response.ok) throw new Error('Failed to delete shipment')\n      \n      setShipments(prev => prev.filter(s => s.id !== shipmentId))\n    } catch (error) {\n      console.error('Error deleting shipment:', error)\n      alert('å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    }\n  }\n\n  const getStatusInfo = (status: string) => {\n    switch (status) {\n      case 'OPEN':\n        return { label: 'å‹Ÿé›†ä¸­', color: 'bg-blue-100 text-blue-800', icon: Clock }\n      case 'MATCHED':\n        return { label: 'æˆç´„æ¸ˆã¿', color: 'bg-green-100 text-green-800', icon: CheckCircle }\n      case 'IN_TRANSIT':\n        return { label: 'è¼¸é€ä¸­', color: 'bg-yellow-100 text-yellow-800', icon: Truck }\n      case 'DELIVERED':\n        return { label: 'å®Œäº†', color: 'bg-gray-100 text-gray-800', icon: CheckCircle }\n      case 'CANCELLED':\n        return { label: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«', color: 'bg-red-100 text-red-800', icon: AlertCircle }\n      default:\n        return { label: 'ä¸æ˜', color: 'bg-gray-100 text-gray-800', icon: Clock }\n    }\n  }\n\n  const filteredShipments = shipments.filter(shipment => {\n    const matchesFilter = filter === 'all' || shipment.status === filter\n    const matchesSearch = searchTerm === '' || \n      shipment.cargoName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      shipment.cargoDescription.toLowerCase().includes(searchTerm.toLowerCase())\n    return matchesFilter && matchesSearch\n  })\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">ç™»éŒ²ã—ãŸè·ç‰©</h1>\n            <p className=\"text-gray-600\">ã‚ãªãŸãŒç™»éŒ²ã—ãŸè·ç‰©ã®ä¸€è¦§ã§ã™</p>\n          </div>\n          <button\n            onClick={() => router.push('/dashboard/shipments/new')}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            <span>æ–°è¦ç™»éŒ²</span>\n          </button>\n        </div>\n      </div>\n\n      {/* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¨æ¤œç´¢ */}\n      <div className=\"bg-white rounded-lg shadow-sm border mb-6\">\n        <div className=\"p-4\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"è·ç‰©åã‚„èª¬æ˜ã§æ¤œç´¢...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Filter className=\"h-4 w-4 text-gray-500\" />\n              <select\n                value={filter}\n                onChange={(e) => setFilter(e.target.value as any)}\n                className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"all\">ã™ã¹ã¦</option>\n                <option value=\"OPEN\">å‹Ÿé›†ä¸­</option>\n                <option value=\"MATCHED\">æˆç´„æ¸ˆã¿</option>\n                <option value=\"IN_TRANSIT\">è¼¸é€ä¸­</option>\n                <option value=\"DELIVERED\">å®Œäº†</option>\n                <option value=\"CANCELLED\">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* è·ç‰©ä¸€è¦§ */}\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            ç™»éŒ²ã—ãŸè·ç‰©ä¸€è¦§ ({filteredShipments.length}ä»¶)\n          </h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : filteredShipments.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Package className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>ç™»éŒ²ã—ãŸè·ç‰©ã¯ã‚ã‚Šã¾ã›ã‚“</p>\n            <button\n              onClick={() => router.push('/dashboard/shipments/new')}\n              className=\"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n            >\n              æœ€åˆã®è·ç‰©ã‚’ç™»éŒ²ã™ã‚‹\n            </button>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredShipments.map((shipment) => {\n              const statusInfo = getStatusInfo(shipment.status)\n              const StatusIcon = statusInfo.icon\n              \n              return (\n                <div key={shipment.id} className=\"p-6 hover:bg-gray-50\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        <h3 className=\"text-lg font-medium text-gray-900\">\n                          {shipment.cargoName}\n                        </h3>\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${statusInfo.color}`}>\n                          <StatusIcon className=\"h-3 w-3\" />\n                          <span>{statusInfo.label}</span>\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-gray-500 mb-3\">\n                        {shipment.cargoDescription}\n                      </p>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600\">\n                        <div className=\"flex items-center\">\n                          <MapPin className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{shipment.pickupPrefecture} â†’ {shipment.deliveryPrefecture}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Calendar className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{new Date(shipment.pickupDate).toLocaleDateString()}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Weight className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{shipment.cargoWeight}kg</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <DollarSign className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>Â¥{shipment.budget.toLocaleString()}</span>\n                        </div>\n                      </div>\n                      <div className=\"mt-3 text-xs text-gray-400\">\n                        ç™»éŒ²æ—¥: {new Date(shipment.createdAt).toLocaleString('ja-JP')}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        onClick={() => router.push(`/shipments/${shipment.id}`)}\n                        className=\"p-2 text-gray-400 hover:text-blue-600\"\n                        title=\"è©³ç´°ã‚’è¦‹ã‚‹\"\n                      >\n                        <Eye className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => router.push(`/dashboard/shipments/edit/${shipment.id}`)}\n                        className=\"p-2 text-gray-400 hover:text-green-600\"\n                        title=\"ç·¨é›†\"\n                      >\n                        <Edit className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(shipment.id)}\n                        className=\"p-2 text-gray-400 hover:text-red-600\"\n                        title=\"å‰Šé™¤\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":10657},"src/app/api/admin/users/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server'\nimport { prisma } from '@/lib/prisma'\nimport { verifyAdminSession } from '@/lib/auth'\n\n// ç®¡ç†è€…æ¨©é™ãƒã‚§ãƒƒã‚¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢\nasync function requireAdmin(request: NextRequest) {\n  const token = request.cookies.get('admin_token')?.value\n\n  if (!token) {\n    return NextResponse.json(\n      { error: 'ç®¡ç†è€…èªè¨¼ãŒå¿…è¦ã§ã™' },\n      { status: 401 }\n    )\n  }\n\n  const payload = verifyAdminSession(token)\n\n  if (!payload) {\n    return NextResponse.json(\n      { error: 'ç„¡åŠ¹ãªç®¡ç†è€…èªè¨¼ã§ã™' },\n      { status: 401 }\n    )\n  }\n\n  return payload\n}\n\n// å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—\nexport async function GET(request: NextRequest) {\n  try {\n    const admin = await requireAdmin(request)\n    if (admin instanceof NextResponse) return admin\n\n    const { searchParams } = new URL(request.url)\n    const status = searchParams.get('status')\n    const userType = searchParams.get('userType')\n    const page = parseInt(searchParams.get('page') || '1')\n    const limit = parseInt(searchParams.get('limit') || '50')\n    const search = searchParams.get('search')\n\n    const where: any = {}\n    \n    if (status && status !== 'all') {\n      where.status = status\n    }\n    \n    if (userType && userType !== 'all') {\n      where.userType = userType\n    }\n\n    if (search) {\n      where.OR = [\n        { companyName: { contains: search } },\n        { contactPerson: { contains: search } },\n        { email: { contains: search } }\n      ]\n    }\n\n    const [users, total] = await Promise.all([\n      prisma.user.findMany({\n        where,\n        skip: (page - 1) * limit,\n        take: limit,\n        orderBy: { createdAt: 'desc' },\n        include: {\n          shipments: {\n            select: {\n              id: true,\n              status: true,\n              createdAt: true\n            }\n          },\n          vehicles: {\n            select: {\n              id: true,\n              vehicleType: true,\n              status: true\n            }\n          }\n        }\n      }),\n      prisma.user.count({ where })\n    ])\n\n    // çµ±è¨ˆæƒ…å ±ã‚’è¿½åŠ \n    const usersWithStats = users.map(user => ({\n      ...user,\n      totalShipments: user.shipments.length,\n      completedShipments: user.shipments.filter(s => s.status === 'DELIVERED').length,\n      totalVehicles: user.vehicles.length,\n      activeVehicles: user.vehicles.filter(v => v.status === 'AVAILABLE').length,\n      lastLogin: user.updatedAt, // å®Ÿéš›ã«ã¯åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã§ç®¡ç†\n      creditScore: Math.floor(Math.random() * 40) + 60, // ãƒ‡ãƒ¢ç”¨\n      rating: (Math.random() * 2 + 3).toFixed(1), // ãƒ‡ãƒ¢ç”¨\n      monthlyRevenue: Math.floor(Math.random() * 3000000) + 500000, // ãƒ‡ãƒ¢ç”¨\n      totalRevenue: Math.floor(Math.random() * 20000000) + 2000000, // ãƒ‡ãƒ¢ç”¨\n      verificationStatus: Math.random() > 0.3 ? 'verified' : 'pending' // ãƒ‡ãƒ¢ç”¨\n    }))\n\n    return NextResponse.json({\n      users: usersWithStats,\n      pagination: {\n        page,\n        limit,\n        total,\n        totalPages: Math.ceil(total / limit)\n      }\n    })\n  } catch (error) {\n    console.error('Get users error:', error)\n    return NextResponse.json(\n      { error: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èª/æ‹’å¦\nexport async function PATCH(request: NextRequest) {\n  try {\n    const admin = await requireAdmin(request)\n    if (admin instanceof NextResponse) return admin\n\n    const { userId, action, reason } = await request.json()\n\n    if (!userId || !action) {\n      return NextResponse.json(\n        { error: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå¿…è¦ã§ã™' },\n        { status: 400 }\n      )\n    }\n\n    const user = await prisma.user.findUnique({\n      where: { id: userId }\n    })\n\n    if (!user) {\n      return NextResponse.json(\n        { error: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“' },\n        { status: 404 }\n      )\n    }\n\n    let updateData: any = {}\n    \n    if (action === 'approve') {\n      updateData = { \n        status: 'approved',\n        verificationStatus: 'verified'\n      }\n    } else if (action === 'reject') {\n      updateData = { \n        status: 'rejected',\n        verificationStatus: 'rejected'\n      }\n    } else if (action === 'suspend') {\n      updateData = { status: 'suspended' }\n    } else {\n      return NextResponse.json(\n        { error: 'ç„¡åŠ¹ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ã™' },\n        { status: 400 }\n      )\n    }\n\n    const updatedUser = await prisma.user.update({\n      where: { id: userId },\n      data: updateData\n    })\n\n    // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã‚’è¨˜éŒ²\n    console.log(`Admin ${admin.userId} ${action} user ${userId}${reason ? ` with reason: ${reason}` : ''}`)\n\n    return NextResponse.json({\n      message: `ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’${action === 'approve' ? 'æ‰¿èª' : action === 'reject' ? 'æ‹’å¦' : 'åœæ­¢'}ã—ã¾ã—ãŸ`,\n      user: updatedUser\n    })\n  } catch (error) {\n    console.error('Update user error:', error)\n    return NextResponse.json(\n      { error: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n","size_bytes":5095},"src/lib/validators.ts":{"content":"import { z } from 'zod'\n\n// ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²\nexport const registerSchema = z.object({\n  email: z.string().email('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  password: z.string().min(8, 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),\n  userType: z.enum(['SHIPPER', 'CARRIER'], {\n    errorMap: () => ({ message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—ã‚’é¸æŠã—ã¦ãã ã•ã„' }),\n  }),\n  companyName: z.string().min(1, 'ä¼šç¤¾åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  contactPerson: z.string().min(1, 'æ‹…å½“è€…åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  phone: z.string().min(10, 'æœ‰åŠ¹ãªé›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  postalCode: z.string().optional(),\n  address: z.string().optional(),\n})\n\n// ãƒ­ã‚°ã‚¤ãƒ³\nexport const loginSchema = z.object({\n  email: z.string().email('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  password: z.string().min(1, 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n})\n\n// é…é€æ¡ˆä»¶ä½œæˆ\nexport const createShipmentSchema = z.object({\n  cargoName: z.string().min(1, 'è·ç‰©åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  cargoDescription: z.string().optional(),\n  cargoWeight: z.number().positive('é‡é‡ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),\n  cargoVolume: z.number().positive().optional(),\n  cargoValue: z.number().positive().optional(),\n  \n  pickupAddress: z.string().min(1, 'é›†è·å…ˆä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  pickupCity: z.string().min(1, 'é›†è·å…ˆå¸‚åŒºç”ºæ‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  pickupPrefecture: z.string().min(1, 'é›†è·å…ˆéƒ½é“åºœçœŒã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  pickupPostalCode: z.string().min(1, 'é›†è·å…ˆéƒµä¾¿ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  pickupDate: z.string().min(1, 'é›†è·æ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  pickupTimeFrom: z.string().optional(),\n  pickupTimeTo: z.string().optional(),\n  \n  deliveryAddress: z.string().min(1, 'é…é€å…ˆä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  deliveryCity: z.string().min(1, 'é…é€å…ˆå¸‚åŒºç”ºæ‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  deliveryPrefecture: z.string().min(1, 'é…é€å…ˆéƒ½é“åºœçœŒã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  deliveryPostalCode: z.string().min(1, 'é…é€å…ˆéƒµä¾¿ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  deliveryDate: z.string().min(1, 'é…é€æ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),\n  deliveryTimeFrom: z.string().optional(),\n  deliveryTimeTo: z.string().optional(),\n  \n  requiredVehicleType: z.enum([\n    'LIGHT_TRUCK',\n    'SMALL_TRUCK',\n    'MEDIUM_TRUCK',\n    'LARGE_TRUCK',\n    'TRAILER',\n    'REFRIGERATED',\n    'FLATBED',\n    'WING',\n  ]),\n  needsHelper: z.boolean().default(false),\n  needsLiftGate: z.boolean().default(false),\n  temperature: z.string().optional(),\n  specialInstructions: z.string().optional(),\n  \n  budget: z.number().positive('äºˆç®—ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),\n})\n\n// ã‚ªãƒ•ã‚¡ãƒ¼ä½œæˆ\nexport const createOfferSchema = z.object({\n  shipmentId: z.string().min(1, 'é…é€æ¡ˆä»¶IDãŒå¿…è¦ã§ã™'),\n  proposedPrice: z.number().positive('ææ¡ˆé‡‘é¡ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),\n  message: z.string().optional(),\n  vehicleInfo: z.string().optional(),\n  estimatedPickupTime: z.string().optional(),\n  estimatedDeliveryTime: z.string().optional(),\n})\n\nexport type RegisterInput = z.infer<typeof registerSchema>\nexport type LoginInput = z.infer<typeof loginSchema>\nexport type CreateShipmentInput = z.infer<typeof createShipmentSchema>\nexport type CreateOfferInput = z.infer<typeof createOfferSchema>\n\n","size_bytes":3424},"src/app/shipments/search/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Navbar from '@/components/Navbar'\nimport { \n  Search, \n  MapPin, \n  Calendar, \n  Weight, \n  DollarSign, \n  Truck, \n  Filter,\n  Star,\n  Clock,\n  User,\n  Phone,\n  Mail,\n  Eye,\n  Heart,\n  Share2,\n  ArrowRight,\n  Package\n} from 'lucide-react'\n\ninterface Shipment {\n  id: string\n  title: string\n  description: string\n  shipper: {\n    id: string\n    companyName: string\n    contactPerson: string\n    rating: number\n    creditScore: number\n  }\n  pickupLocation: {\n    prefecture: string\n    address: string\n    dateTime: string\n  }\n  deliveryLocation: {\n    prefecture: string\n    address: string\n    dateTime: string\n  }\n  cargo: {\n    type: string\n    weight: number\n    size: string\n    specialRequirements?: string\n  }\n  vehicleType: string\n  price: number\n  urgency: 'urgent' | 'high' | 'normal' | 'low'\n  status: 'available' | 'matched' | 'in_transit' | 'delivered'\n  createdAt: string\n  aiMatchScore?: number\n  isBookmarked?: boolean\n}\n\nexport default function ShipmentSearchPage() {\n  const router = useRouter()\n  const [shipments, setShipments] = useState<Shipment[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchForm, setSearchForm] = useState({\n    pickupPrefecture: '',\n    deliveryPrefecture: '',\n    cargoType: '',\n    vehicleType: '',\n    urgency: '',\n    minPrice: '',\n    maxPrice: '',\n    dateRange: ''\n  })\n  const [sortBy, setSortBy] = useState('newest')\n  const [showFilters, setShowFilters] = useState(false)\n\n  useEffect(() => {\n    loadShipments()\n  }, [])\n\n  const loadShipments = async () => {\n    setLoading(true)\n    try {\n      // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n      const sampleShipments: Shipment[] = [\n        {\n          id: '1',\n          title: 'æ±äº¬ã‹ã‚‰å¤§é˜ªã¸ã®å¤§å‹è²¨ç‰©é…é€',\n          description: 'å¤§å‹æ©Ÿæ¢°ã®è¼¸é€ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚å–ã‚Šæ‰±ã„ã«ã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚',\n          shipper: {\n            id: 'shipper-1',\n            companyName: 'ã‚µãƒ³ãƒ—ãƒ«å•†äº‹æ ªå¼ä¼šç¤¾',\n            contactPerson: 'ä½è—¤å¤ªéƒ',\n            rating: 4.5,\n            creditScore: 90\n          },\n          pickupLocation: {\n            prefecture: 'æ±äº¬éƒ½',\n            address: 'å“å·åŒºå¤§å´1-2-3',\n            dateTime: '2024-01-20 09:00'\n          },\n          deliveryLocation: {\n            prefecture: 'å¤§é˜ªåºœ',\n            address: 'å¤§é˜ªå¸‚åŒ—åŒºæ¢…ç”°1-1-1',\n            dateTime: '2024-01-21 15:00'\n          },\n          cargo: {\n            type: 'å¤§å‹æ©Ÿæ¢°',\n            weight: 5000,\n            size: '300cm Ã— 200cm Ã— 150cm',\n            specialRequirements: 'å–ã‚Šæ‰±ã„æ³¨æ„ã€ã‚¯ãƒ¬ãƒ¼ãƒ³ä½œæ¥­å¿…è¦'\n          },\n          vehicleType: 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯',\n          price: 150000,\n          urgency: 'normal',\n          status: 'available',\n          createdAt: '2024-01-15',\n          aiMatchScore: 95,\n          isBookmarked: false\n        },\n        {\n          id: '2',\n          title: 'åå¤å±‹ã‹ã‚‰ç¦å²¡ã¸ã®å†·è”µè²¨ç‰©é…é€',\n          description: 'ç”Ÿé®®é£Ÿå“ã®å†·è”µè¼¸é€ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚æ¸©åº¦ç®¡ç†ãŒé‡è¦ã§ã™ã€‚',\n          shipper: {\n            id: 'shipper-2',\n            companyName: 'ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒ•ãƒ¼ã‚ºæ ªå¼ä¼šç¤¾',\n            contactPerson: 'ç”°ä¸­èŠ±å­',\n            rating: 4.8,\n            creditScore: 95\n          },\n          pickupLocation: {\n            prefecture: 'æ„›çŸ¥çœŒ',\n            address: 'åå¤å±‹å¸‚ä¸­åŒºæ „2-3-4',\n            dateTime: '2024-01-22 08:00'\n          },\n          deliveryLocation: {\n            prefecture: 'ç¦å²¡çœŒ',\n            address: 'ç¦å²¡å¸‚åšå¤šåŒºåšå¤šé§…å‰1-1-1',\n            dateTime: '2024-01-23 12:00'\n          },\n          cargo: {\n            type: 'ç”Ÿé®®é£Ÿå“',\n            weight: 2000,\n            size: '200cm Ã— 150cm Ã— 100cm',\n            specialRequirements: 'å†·è”µè¼¸é€å¿…é ˆã€æ¸©åº¦-2â„ƒä»¥ä¸‹'\n          },\n          vehicleType: 'å†·è”µè»Š',\n          price: 120000,\n          urgency: 'high',\n          status: 'available',\n          createdAt: '2024-01-16',\n          aiMatchScore: 87,\n          isBookmarked: true\n        },\n        {\n          id: '3',\n          title: 'æœ­å¹Œã‹ã‚‰æ±äº¬ã¸ã®æ€¥ä¾¿é…é€',\n          description: 'ç·Šæ€¥æ›¸é¡ã®é…é€ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚æ™‚é–“å³å®ˆã§ãŠé¡˜ã„ã—ã¾ã™ã€‚',\n          shipper: {\n            id: 'shipper-3',\n            companyName: 'åŒ—æµ·é“ç‰©æµæ ªå¼ä¼šç¤¾',\n            contactPerson: 'éˆ´æœ¨ä¸€éƒ',\n            rating: 4.2,\n            creditScore: 85\n          },\n          pickupLocation: {\n            prefecture: 'åŒ—æµ·é“',\n            address: 'æœ­å¹Œå¸‚ä¸­å¤®åŒºå¤§é€šè¥¿1-1-1',\n            dateTime: '2024-01-18 10:00'\n          },\n          deliveryLocation: {\n            prefecture: 'æ±äº¬éƒ½',\n            address: 'åƒä»£ç”°åŒºä¸¸ã®å†…1-1-1',\n            dateTime: '2024-01-19 16:00'\n          },\n          cargo: {\n            type: 'æ›¸é¡',\n            weight: 5,\n            size: '30cm Ã— 20cm Ã— 5cm',\n            specialRequirements: 'æ™‚é–“å³å®ˆã€å—å–äººç¢ºèªå¿…é ˆ'\n          },\n          vehicleType: 'è»½ãƒˆãƒ©ãƒƒã‚¯',\n          price: 80000,\n          urgency: 'urgent',\n          status: 'available',\n          createdAt: '2024-01-17',\n          aiMatchScore: 92,\n          isBookmarked: false\n        }\n      ]\n\n      setShipments(sampleShipments)\n    } catch (error) {\n      console.error('Error loading shipments:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault()\n    loadShipments()\n  }\n\n  const handleInputChange = (field: string, value: string) => {\n    setSearchForm(prev => ({ ...prev, [field]: value }))\n  }\n\n  const handleBookmark = (shipmentId: string) => {\n    setShipments(prev => prev.map(shipment => \n      shipment.id === shipmentId \n        ? { ...shipment, isBookmarked: !shipment.isBookmarked }\n        : shipment\n    ))\n  }\n\n  const getUrgencyColor = (urgency: string) => {\n    switch (urgency) {\n      case 'urgent': return 'text-red-600 bg-red-100'\n      case 'high': return 'text-orange-600 bg-orange-100'\n      case 'normal': return 'text-blue-600 bg-blue-100'\n      case 'low': return 'text-green-600 bg-green-100'\n      default: return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  const getUrgencyText = (urgency: string) => {\n    switch (urgency) {\n      case 'urgent': return 'ç·Šæ€¥'\n      case 'high': return 'é«˜'\n      case 'normal': return 'é€šå¸¸'\n      case 'low': return 'ä½'\n      default: return 'ä¸æ˜'\n    }\n  }\n\n  const renderStars = (rating: number) => {\n    return Array.from({ length: 5 }, (_, i) => (\n      <Star\n        key={i}\n        className={`h-4 w-4 ${\n          i < Math.floor(rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'\n        }`}\n      />\n    ))\n  }\n\n  const prefectures = [\n    'åŒ—æµ·é“', 'é’æ£®çœŒ', 'å²©æ‰‹çœŒ', 'å®®åŸçœŒ', 'ç§‹ç”°çœŒ', 'å±±å½¢çœŒ', 'ç¦å³¶çœŒ',\n    'èŒ¨åŸçœŒ', 'æ ƒæœ¨çœŒ', 'ç¾¤é¦¬çœŒ', 'åŸ¼ç‰çœŒ', 'åƒè‘‰çœŒ', 'æ±äº¬éƒ½', 'ç¥å¥ˆå·çœŒ',\n    'æ–°æ½ŸçœŒ', 'å¯Œå±±çœŒ', 'çŸ³å·çœŒ', 'ç¦äº•çœŒ', 'å±±æ¢¨çœŒ', 'é•·é‡çœŒ', 'å²é˜œçœŒ',\n    'é™å²¡çœŒ', 'æ„›çŸ¥çœŒ', 'ä¸‰é‡çœŒ', 'æ»‹è³€çœŒ', 'äº¬éƒ½åºœ', 'å¤§é˜ªåºœ', 'å…µåº«çœŒ',\n    'å¥ˆè‰¯çœŒ', 'å’Œæ­Œå±±çœŒ', 'é³¥å–çœŒ', 'å³¶æ ¹çœŒ', 'å²¡å±±çœŒ', 'åºƒå³¶çœŒ', 'å±±å£çœŒ',\n    'å¾³å³¶çœŒ', 'é¦™å·çœŒ', 'æ„›åª›çœŒ', 'é«˜çŸ¥çœŒ', 'ç¦å²¡çœŒ', 'ä½è³€çœŒ', 'é•·å´çœŒ',\n    'ç†Šæœ¬çœŒ', 'å¤§åˆ†çœŒ', 'å®®å´çœŒ', 'é¹¿å…å³¶çœŒ', 'æ²–ç¸„çœŒ'\n  ]\n\n  const cargoTypes = [\n    'ä¸€èˆ¬è²¨ç‰©', 'å†·è”µãƒ»å†·å‡', 'å±é™ºç‰©', 'ç”Ÿé®®é£Ÿå“', 'ç²¾å¯†æ©Ÿå™¨', 'ç¾è¡“å“', 'åŒ»è–¬å“', 'ãã®ä»–'\n  ]\n\n  const vehicleTypes = [\n    'è»½ãƒˆãƒ©ãƒƒã‚¯', 'å°å‹ãƒˆãƒ©ãƒƒã‚¯', 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯', 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯', 'ãƒˆãƒ¬ãƒ¼ãƒ©ãƒ¼', 'å†·å‡è»Š', 'å†·è”µè»Š', 'ãã®ä»–'\n  ]\n\n  const urgencyLevels = [\n    { value: 'urgent', label: 'ç·Šæ€¥ï¼ˆ24æ™‚é–“ä»¥å†…ï¼‰' },\n    { value: 'high', label: 'é«˜ï¼ˆ3æ—¥ä»¥å†…ï¼‰' },\n    { value: 'normal', label: 'é€šå¸¸ï¼ˆ1é€±é–“ä»¥å†…ï¼‰' },\n    { value: 'low', label: 'ä½ï¼ˆ2é€±é–“ä»¥å†…ï¼‰' }\n  ]\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      \n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">è·ç‰©æ¤œç´¢</h1>\n          <p className=\"text-gray-600\">æ¡ä»¶ã«åˆã†é…é€æ¡ˆä»¶ã‚’æ¤œç´¢ã§ãã¾ã™</p>\n        </div>\n\n        {/* æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6 mb-8\">\n          <form onSubmit={handleSearch} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">é›†è·éƒ½é“åºœçœŒ</label>\n                <select\n                  value={searchForm.pickupPrefecture}\n                  onChange={(e) => handleInputChange('pickupPrefecture', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                  {prefectures.map(pref => (\n                    <option key={pref} value={pref}>{pref}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">é…é€å…ˆéƒ½é“åºœçœŒ</label>\n                <select\n                  value={searchForm.deliveryPrefecture}\n                  onChange={(e) => handleInputChange('deliveryPrefecture', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                  {prefectures.map(pref => (\n                    <option key={pref} value={pref}>{pref}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">è·ç‰©ã®ç¨®é¡</label>\n                <select\n                  value={searchForm.cargoType}\n                  onChange={(e) => handleInputChange('cargoType', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                  {cargoTypes.map(type => (\n                    <option key={type} value={type}>{type}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">è»Šä¸¡ã‚¿ã‚¤ãƒ—</label>\n                <select\n                  value={searchForm.vehicleType}\n                  onChange={(e) => handleInputChange('vehicleType', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                  {vehicleTypes.map(type => (\n                    <option key={type} value={type}>{type}</option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"flex flex-wrap gap-4\">\n              <button\n                type=\"button\"\n                onClick={() => setShowFilters(!showFilters)}\n                className=\"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n              >\n                <Filter className=\"h-4 w-4\" />\n                <span>è©³ç´°ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</span>\n              </button>\n              <button\n                type=\"submit\"\n                className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n              >\n                <Search className=\"h-4 w-4\" />\n                <span>æ¤œç´¢</span>\n              </button>\n            </div>\n\n            {showFilters && (\n              <div className=\"border-t pt-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">ç·Šæ€¥åº¦</label>\n                    <select\n                      value={searchForm.urgency}\n                      onChange={(e) => handleInputChange('urgency', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    >\n                      <option value=\"\">ã™ã¹ã¦</option>\n                      {urgencyLevels.map(level => (\n                        <option key={level.value} value={level.value}>{level.label}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">æœ€ä½ä¾¡æ ¼</label>\n                    <input\n                      type=\"number\"\n                      value={searchForm.minPrice}\n                      onChange={(e) => handleInputChange('minPrice', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"0\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">æœ€é«˜ä¾¡æ ¼</label>\n                    <input\n                      type=\"number\"\n                      value={searchForm.maxPrice}\n                      onChange={(e) => handleInputChange('maxPrice', e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"1000000\"\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n          </form>\n        </div>\n\n        {/* æ¤œç´¢çµæœ */}\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            æ¤œç´¢çµæœ ({shipments.length}ä»¶)\n          </h2>\n          <div className=\"flex items-center space-x-4\">\n            <select\n              value={sortBy}\n              onChange={(e) => setSortBy(e.target.value)}\n              className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"newest\">æ–°ã—ã„é †</option>\n              <option value=\"oldest\">å¤ã„é †</option>\n              <option value=\"price_high\">ä¾¡æ ¼ã®é«˜ã„é †</option>\n              <option value=\"price_low\">ä¾¡æ ¼ã®å®‰ã„é †</option>\n              <option value=\"urgency\">ç·Šæ€¥åº¦é †</option>\n            </select>\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">æ¤œç´¢ä¸­...</p>\n          </div>\n        ) : shipments.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <Package className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p className=\"text-gray-600\">è©²å½“ã™ã‚‹è·ç‰©ã¯ã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {shipments.map((shipment) => (\n              <div key={shipment.id} className=\"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow\">\n                <div className=\"p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">{shipment.title}</h3>\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${getUrgencyColor(shipment.urgency)}`}>\n                          {getUrgencyText(shipment.urgency)}\n                        </span>\n                        {shipment.aiMatchScore && (\n                          <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800\">\n                            AIãƒãƒƒãƒãƒ³ã‚°: {shipment.aiMatchScore}%\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-gray-600 mb-3\">{shipment.description}</p>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => handleBookmark(shipment.id)}\n                        className={`p-2 rounded-lg ${\n                          shipment.isBookmarked ? 'text-red-600 bg-red-100' : 'text-gray-400 hover:text-red-600'\n                        }`}\n                      >\n                        <Heart className={`h-5 w-5 ${shipment.isBookmarked ? 'fill-current' : ''}`} />\n                      </button>\n                      <button className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600\">\n                        <Share2 className=\"h-5 w-5\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4\">\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-2\">é›†è·æƒ…å ±</h4>\n                      <div className=\"space-y-1\">\n                        <p className=\"text-sm text-gray-600\">\n                          <MapPin className=\"h-4 w-4 inline mr-1\" />\n                          {shipment.pickupLocation.prefecture} {shipment.pickupLocation.address}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          <Calendar className=\"h-4 w-4 inline mr-1\" />\n                          {new Date(shipment.pickupLocation.dateTime).toLocaleString('ja-JP')}\n                        </p>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-2\">é…é€å…ˆæƒ…å ±</h4>\n                      <div className=\"space-y-1\">\n                        <p className=\"text-sm text-gray-600\">\n                          <MapPin className=\"h-4 w-4 inline mr-1\" />\n                          {shipment.deliveryLocation.prefecture} {shipment.deliveryLocation.address}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          <Calendar className=\"h-4 w-4 inline mr-1\" />\n                          {new Date(shipment.deliveryLocation.dateTime).toLocaleString('ja-JP')}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-2\">è·ç‰©æƒ…å ±</h4>\n                      <div className=\"space-y-1\">\n                        <p className=\"text-sm text-gray-600\">\n                          <Package className=\"h-4 w-4 inline mr-1\" />\n                          {shipment.cargo.type}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          <Weight className=\"h-4 w-4 inline mr-1\" />\n                          {shipment.cargo.weight}kg\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          ã‚µã‚¤ã‚º: {shipment.cargo.size}\n                        </p>\n                        {shipment.cargo.specialRequirements && (\n                          <p className=\"text-sm text-orange-600\">\n                            ç‰¹è¨˜äº‹é …: {shipment.cargo.specialRequirements}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-2\">é‹é€æƒ…å ±</h4>\n                      <div className=\"space-y-1\">\n                        <p className=\"text-sm text-gray-600\">\n                          <Truck className=\"h-4 w-4 inline mr-1\" />\n                          {shipment.vehicleType}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          <Clock className=\"h-4 w-4 inline mr-1\" />\n                          æŠ•ç¨¿æ—¥: {new Date(shipment.createdAt).toLocaleDateString('ja-JP')}\n                        </p>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-700 mb-2\">è·ä¸»æƒ…å ±</h4>\n                      <div className=\"space-y-1\">\n                        <p className=\"text-sm text-gray-600\">\n                          <User className=\"h-4 w-4 inline mr-1\" />\n                          {shipment.shipper.companyName}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          æ‹…å½“: {shipment.shipper.contactPerson}\n                        </p>\n                        <div className=\"flex items-center space-x-1\">\n                          {renderStars(shipment.shipper.rating)}\n                          <span className=\"text-sm text-gray-600\">({shipment.shipper.rating})</span>\n                        </div>\n                        <p className=\"text-sm text-gray-600\">\n                          ä¿¡ç”¨ã‚¹ã‚³ã‚¢: {shipment.shipper.creditScore}ç‚¹\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-between items-center pt-4 border-t border-gray-200\">\n                    <div className=\"text-2xl font-bold text-gray-900\">\n                      Â¥{shipment.price.toLocaleString()}\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <button className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2\">\n                        <Eye className=\"h-4 w-4\" />\n                        <span>è©³ç´°ã‚’è¦‹ã‚‹</span>\n                      </button>\n                      <button className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\">\n                        <span>å¿œå‹Ÿã™ã‚‹</span>\n                        <ArrowRight className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}","size_bytes":23271},"src/app/dashboard/limited-shipments/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Package, \n  Search, \n  Filter, \n  Star, \n  Clock, \n  MapPin, \n  Calendar, \n  Weight, \n  Truck, \n  DollarSign, \n  Eye, \n  Bookmark,\n  Building2,\n  User,\n  Phone,\n  Mail,\n  AlertCircle,\n  CheckCircle,\n  Crown,\n  Zap\n} from 'lucide-react'\n\ninterface LimitedShipment {\n  id: string\n  cargoName: string\n  cargoDescription: string\n  status: 'OPEN' | 'MATCHED' | 'IN_TRANSIT' | 'DELIVERED' | 'CANCELLED'\n  pickupPrefecture: string\n  pickupCity: string\n  deliveryPrefecture: string\n  deliveryCity: string\n  pickupDate: string\n  deliveryDate: string\n  cargoWeight: number\n  requiredVehicleType: string\n  budget: number\n  specialConditions: string[]\n  priority: 'high' | 'medium' | 'low'\n  isUrgent: boolean\n  isPremium: boolean\n  shipper: {\n    companyName: string\n    contactPerson: string\n    phone: string\n    email: string\n  }\n  createdAt: string\n  expiresAt: string\n}\n\nexport default function LimitedShipmentsPage() {\n  const router = useRouter()\n  const [shipments, setShipments] = useState<LimitedShipment[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [priorityFilter, setPriorityFilter] = useState<'all' | 'high' | 'medium' | 'low'>('all')\n  const [typeFilter, setTypeFilter] = useState<'all' | 'urgent' | 'premium' | 'special'>('all')\n\n  useEffect(() => {\n    loadLimitedShipments()\n  }, [])\n\n  const loadLimitedShipments = async () => {\n    try {\n      // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n      const sampleShipments: LimitedShipment[] = [\n        {\n          id: '1',\n          cargoName: 'åŒ»ç™‚æ©Ÿå™¨ï¼ˆç·Šæ€¥è¼¸é€ï¼‰',\n          cargoDescription: 'æ‰‹è¡“ç”¨åŒ»ç™‚æ©Ÿå™¨ã®ç·Šæ€¥è¼¸é€ã€‚æ¸©åº¦ç®¡ç†å¿…é ˆã€‚',\n          status: 'OPEN',\n          pickupPrefecture: 'æ±äº¬éƒ½',\n          pickupCity: 'æ¸¯åŒº',\n          deliveryPrefecture: 'å¤§é˜ªåºœ',\n          deliveryCity: 'å¤§é˜ªå¸‚',\n          pickupDate: '2024-01-20',\n          deliveryDate: '2024-01-20',\n          cargoWeight: 50,\n          requiredVehicleType: 'å†·è”µè»Š',\n          budget: 150000,\n          specialConditions: ['ç·Šæ€¥è¼¸é€', 'æ¸©åº¦ç®¡ç†', 'åŒ»ç™‚æ©Ÿå™¨', '24æ™‚é–“å¯¾å¿œ'],\n          priority: 'high',\n          isUrgent: true,\n          isPremium: true,\n          shipper: {\n            companyName: 'ãƒ¡ãƒ‡ã‚£ã‚«ãƒ«ã‚µãƒ—ãƒ©ã‚¤æ ªå¼ä¼šç¤¾',\n            contactPerson: 'å±±ç”°å¤ªéƒ',\n            phone: '03-1234-5678',\n            email: 'yamada@medical-supply.co.jp'\n          },\n          createdAt: '2024-01-19T10:00:00',\n          expiresAt: '2024-01-20T18:00:00'\n        },\n        {\n          id: '2',\n          cargoName: 'ç¾è¡“å“ï¼ˆç‰¹åˆ¥è¼¸é€ï¼‰',\n          cargoDescription: 'é«˜ä¾¡ãªç¾è¡“å“ã®ç‰¹åˆ¥è¼¸é€ã€‚å°‚ç”¨è»Šä¸¡ãƒ»è­¦å‚™å“¡ä»˜ãã€‚',\n          status: 'OPEN',\n          pickupPrefecture: 'äº¬éƒ½åºœ',\n          pickupCity: 'äº¬éƒ½å¸‚',\n          deliveryPrefecture: 'æ±äº¬éƒ½',\n          deliveryCity: 'æ¸‹è°·åŒº',\n          pickupDate: '2024-01-25',\n          deliveryDate: '2024-01-25',\n          cargoWeight: 200,\n          requiredVehicleType: 'ç‰¹åˆ¥è»Šä¸¡',\n          budget: 500000,\n          specialConditions: ['ç¾è¡“å“è¼¸é€', 'è­¦å‚™å“¡ä»˜ã', 'å°‚ç”¨è»Šä¸¡', 'ä¿é™ºå¿…é ˆ'],\n          priority: 'high',\n          isUrgent: false,\n          isPremium: true,\n          shipper: {\n            companyName: 'ã‚¢ãƒ¼ãƒˆã‚®ãƒ£ãƒ©ãƒªãƒ¼äº¬éƒ½',\n            contactPerson: 'ä½è—¤èŠ±å­',\n            phone: '075-1234-5678',\n            email: 'sato@art-gallery-kyoto.co.jp'\n          },\n          createdAt: '2024-01-18T14:00:00',\n          expiresAt: '2024-01-24T17:00:00'\n        },\n        {\n          id: '3',\n          cargoName: 'å±é™ºç‰©ï¼ˆåŒ–å­¦è–¬å“ï¼‰',\n          cargoDescription: 'åŒ–å­¦è–¬å“ã®è¼¸é€ã€‚å±é™ºç‰©è¼¸é€è³‡æ ¼å¿…é ˆã€‚',\n          status: 'OPEN',\n          pickupPrefecture: 'æ„›çŸ¥çœŒ',\n          pickupCity: 'åå¤å±‹å¸‚',\n          deliveryPrefecture: 'ç¥å¥ˆå·çœŒ',\n          deliveryCity: 'æ¨ªæµœå¸‚',\n          pickupDate: '2024-01-22',\n          deliveryDate: '2024-01-23',\n          cargoWeight: 1000,\n          requiredVehicleType: 'å±é™ºç‰©è¼¸é€è»Š',\n          budget: 200000,\n          specialConditions: ['å±é™ºç‰©è¼¸é€', 'è³‡æ ¼å¿…é ˆ', 'å°‚ç”¨è»Šä¸¡', 'å®‰å…¨å¯¾ç­–'],\n          priority: 'medium',\n          isUrgent: false,\n          isPremium: false,\n          shipper: {\n            companyName: 'ã‚±ãƒŸã‚«ãƒ«å·¥æ¥­æ ªå¼ä¼šç¤¾',\n            contactPerson: 'ç”°ä¸­æ¬¡éƒ',\n            phone: '052-1234-5678',\n            email: 'tanaka@chemical-industry.co.jp'\n          },\n          createdAt: '2024-01-17T09:00:00',\n          expiresAt: '2024-01-21T17:00:00'\n        },\n        {\n          id: '4',\n          cargoName: 'ç”Ÿé®®é£Ÿå“ï¼ˆæ·±å¤œé…é€ï¼‰',\n          cargoDescription: 'ç”Ÿé®®é£Ÿå“ã®æ·±å¤œé…é€ã€‚æ—©æœåˆ°ç€å¿…é ˆã€‚',\n          status: 'OPEN',\n          pickupPrefecture: 'é’æ£®çœŒ',\n          pickupCity: 'é’æ£®å¸‚',\n          deliveryPrefecture: 'æ±äº¬éƒ½',\n          deliveryCity: 'ä¸­å¤®åŒº',\n          pickupDate: '2024-01-21',\n          deliveryDate: '2024-01-22',\n          cargoWeight: 300,\n          requiredVehicleType: 'å†·è”µè»Š',\n          budget: 80000,\n          specialConditions: ['æ·±å¤œé…é€', 'æ—©æœåˆ°ç€', 'å†·è”µè¼¸é€', 'é®®åº¦ä¿æŒ'],\n          priority: 'medium',\n          isUrgent: true,\n          isPremium: false,\n          shipper: {\n            companyName: 'é’æ£®ãƒ•ãƒ«ãƒ¼ãƒ„è¾²å”',\n            contactPerson: 'éˆ´æœ¨ä¸€éƒ',\n            phone: '017-1234-5678',\n            email: 'suzuki@aomori-fruits.co.jp'\n          },\n          createdAt: '2024-01-16T16:00:00',\n          expiresAt: '2024-01-20T20:00:00'\n        }\n      ]\n      \n      setShipments(sampleShipments)\n    } catch (error) {\n      console.error('Error loading limited shipments:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const getPriorityInfo = (priority: string) => {\n    switch (priority) {\n      case 'high':\n        return { label: 'é«˜å„ªå…ˆåº¦', color: 'bg-red-100 text-red-800', icon: AlertCircle }\n      case 'medium':\n        return { label: 'ä¸­å„ªå…ˆåº¦', color: 'bg-yellow-100 text-yellow-800', icon: Clock }\n      case 'low':\n        return { label: 'ä½å„ªå…ˆåº¦', color: 'bg-green-100 text-green-800', icon: CheckCircle }\n      default:\n        return { label: 'ä¸æ˜', color: 'bg-gray-100 text-gray-800', icon: Clock }\n    }\n  }\n\n  const filteredShipments = shipments.filter(shipment => {\n    const matchesSearch = searchTerm === '' || \n      shipment.cargoName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      shipment.cargoDescription.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      shipment.specialConditions.some(condition => \n        condition.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    \n    const matchesPriority = priorityFilter === 'all' || shipment.priority === priorityFilter\n    \n    const matchesType = typeFilter === 'all' || \n      (typeFilter === 'urgent' && shipment.isUrgent) ||\n      (typeFilter === 'premium' && shipment.isPremium) ||\n      (typeFilter === 'special' && !shipment.isUrgent && !shipment.isPremium)\n    \n    return matchesSearch && matchesPriority && matchesType\n  })\n\n  const handleBookmark = (shipmentId: string) => {\n    // ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯æ©Ÿèƒ½ã®å®Ÿè£…\n    console.log('Bookmark shipment:', shipmentId)\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">é™å®šè·ç‰©</h1>\n        <p className=\"text-gray-600\">ç‰¹åˆ¥ãªæ¡ä»¶ã‚„ç·Šæ€¥åº¦ã®é«˜ã„è·ç‰©ã‚’ã”ç¢ºèªã„ãŸã ã‘ã¾ã™</p>\n      </div>\n\n      {/* æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */}\n      <div className=\"bg-white rounded-lg shadow-sm border mb-6\">\n        <div className=\"p-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"è·ç‰©åã€æ¡ä»¶ã§æ¤œç´¢...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <div>\n              <div className=\"flex items-center space-x-2\">\n                <Filter className=\"h-4 w-4 text-gray-500\" />\n                <select\n                  value={priorityFilter}\n                  onChange={(e) => setPriorityFilter(e.target.value as any)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"all\">ã™ã¹ã¦ã®å„ªå…ˆåº¦</option>\n                  <option value=\"high\">é«˜å„ªå…ˆåº¦</option>\n                  <option value=\"medium\">ä¸­å„ªå…ˆåº¦</option>\n                  <option value=\"low\">ä½å„ªå…ˆåº¦</option>\n                </select>\n              </div>\n            </div>\n            <div>\n              <select\n                value={typeFilter}\n                onChange={(e) => setTypeFilter(e.target.value as any)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"all\">ã™ã¹ã¦ã®ã‚¿ã‚¤ãƒ—</option>\n                <option value=\"urgent\">ç·Šæ€¥</option>\n                <option value=\"premium\">ãƒ—ãƒ¬ãƒŸã‚¢ãƒ </option>\n                <option value=\"special\">ç‰¹åˆ¥æ¡ä»¶</option>\n              </select>\n            </div>\n            <div>\n              <button\n                onClick={() => {\n                  setSearchTerm('')\n                  setPriorityFilter('all')\n                  setTypeFilter('all')\n                }}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700\"\n              >\n                ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ã‚¯ãƒªã‚¢\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* é™å®šè·ç‰©ä¸€è¦§ */}\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            é™å®šè·ç‰©ä¸€è¦§ ({filteredShipments.length}ä»¶)\n          </h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : filteredShipments.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Package className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹é™å®šè·ç‰©ã¯ã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredShipments.map((shipment) => {\n              const priorityInfo = getPriorityInfo(shipment.priority)\n              const PriorityIcon = priorityInfo.icon\n              \n              return (\n                <div key={shipment.id} className=\"p-6 hover:bg-gray-50\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        <h3 className=\"text-lg font-medium text-gray-900\">\n                          {shipment.cargoName}\n                        </h3>\n                        {shipment.isUrgent && (\n                          <span className=\"flex items-center px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800\">\n                            <Zap className=\"h-3 w-3 mr-1\" />\n                            ç·Šæ€¥\n                          </span>\n                        )}\n                        {shipment.isPremium && (\n                          <span className=\"flex items-center px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800\">\n                            <Crown className=\"h-3 w-3 mr-1\" />\n                            ãƒ—ãƒ¬ãƒŸã‚¢ãƒ \n                          </span>\n                        )}\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${priorityInfo.color}`}>\n                          <PriorityIcon className=\"h-3 w-3\" />\n                          <span>{priorityInfo.label}</span>\n                        </span>\n                      </div>\n                      \n                      <p className=\"text-sm text-gray-600 mb-3\">{shipment.cargoDescription}</p>\n                      \n                      {/* ç‰¹åˆ¥æ¡ä»¶ */}\n                      <div className=\"mb-3\">\n                        <h4 className=\"text-sm font-medium text-gray-800 mb-2\">ç‰¹åˆ¥æ¡ä»¶</h4>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {shipment.specialConditions.map((condition, index) => (\n                            <span\n                              key={index}\n                              className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\"\n                            >\n                              {condition}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n\n                      {/* åŸºæœ¬æƒ…å ± */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 mb-4\">\n                        <div className=\"flex items-center\">\n                          <MapPin className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{shipment.pickupPrefecture} â†’ {shipment.deliveryPrefecture}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Calendar className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{new Date(shipment.pickupDate).toLocaleDateString()}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Weight className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{shipment.cargoWeight}kg</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <DollarSign className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>Â¥{shipment.budget.toLocaleString()}</span>\n                        </div>\n                      </div>\n\n                      {/* è·ä¸»æƒ…å ± */}\n                      <div className=\"border-t border-gray-100 pt-3 mb-3\">\n                        <h4 className=\"font-semibold text-gray-800 mb-2\">è·ä¸»æƒ…å ±</h4>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700\">\n                          <div className=\"flex items-center\">\n                            <Building2 className=\"h-4 w-4 mr-2 text-gray-500\" />\n                            <span>{shipment.shipper.companyName}</span>\n                          </div>\n                          <div className=\"flex items-center\">\n                            <User className=\"h-4 w-4 mr-2 text-gray-500\" />\n                            <span>{shipment.shipper.contactPerson}</span>\n                          </div>\n                          <div className=\"flex items-center\">\n                            <Phone className=\"h-4 w-4 mr-2 text-gray-500\" />\n                            <span>{shipment.shipper.phone}</span>\n                          </div>\n                          <div className=\"flex items-center\">\n                            <Mail className=\"h-4 w-4 mr-2 text-gray-500\" />\n                            <span>{shipment.shipper.email}</span>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"flex items-center justify-between text-xs text-gray-400\">\n                        <span>ç™»éŒ²æ—¥: {new Date(shipment.createdAt).toLocaleString('ja-JP')}</span>\n                        <span className=\"text-red-500\">\n                          æœŸé™: {new Date(shipment.expiresAt).toLocaleString('ja-JP')}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        onClick={() => router.push(`/shipments/${shipment.id}`)}\n                        className=\"p-2 text-gray-400 hover:text-blue-600\"\n                        title=\"è©³ç´°ã‚’è¦‹ã‚‹\"\n                      >\n                        <Eye className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleBookmark(shipment.id)}\n                        className=\"p-2 text-gray-400 hover:text-yellow-600\"\n                        title=\"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯\"\n                      >\n                        <Bookmark className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":17496},"src/app/about/page.tsx":{"content":"'use client'\n\nimport Link from 'next/link'\nimport Logo from '@/components/Logo'\nimport { ArrowLeft, MapPin, Phone, Mail, Globe, Building, Users, Target, Award } from 'lucide-react'\n\nexport default function AboutPage() {\n  return (\n    <div className=\"min-h-screen gradient-bg\">\n      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n      <header className=\"glass sticky top-0 z-50 border-b border-white/20\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex justify-between items-center\">\n            <Link href=\"/\" className=\"flex items-center\">\n              <Logo width={200} height={60} className=\"w-[150px] h-[45px] sm:w-[200px] sm:h-[60px]\" linkable={false} />\n            </Link>\n            <div className=\"flex items-center space-x-2 sm:space-x-6\">\n              <Link\n                href=\"/login\"\n                className=\"text-slate-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105\"\n              >\n                ãƒ­ã‚°ã‚¤ãƒ³\n              </Link>\n              <Link\n                href=\"/register\"\n                className=\"btn-primary text-sm px-6 py-3\"\n              >\n                æ–°è¦ç™»éŒ²\n              </Link>\n            </div>\n          </div>\n        </nav>\n      </header>\n\n      {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      <main className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"mb-8\">\n          <Link \n            href=\"/\" \n            className=\"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-300 mb-6\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹\n          </Link>\n          \n          <h1 className=\"text-4xl sm:text-5xl font-bold text-slate-800 mb-4\">\n            ä¼šç¤¾æ¦‚è¦\n          </h1>\n          <p className=\"text-lg text-slate-600\">\n            åˆåŒä¼šç¤¾SIN JAPANã«ã¤ã„ã¦\n          </p>\n        </div>\n\n        <div className=\"space-y-8\">\n          {/* ä¼šç¤¾åŸºæœ¬æƒ…å ± */}\n          <div className=\"floating-card\">\n            <h2 className=\"text-2xl font-bold text-slate-800 mb-6 flex items-center\">\n              <Building className=\"h-6 w-6 mr-3 text-blue-600\" />\n              ä¼šç¤¾åŸºæœ¬æƒ…å ±\n            </h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <Building className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">ä¼šç¤¾å</h3>\n                    <p className=\"text-slate-600\">åˆåŒä¼šç¤¾SIN JAPAN</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <MapPin className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">æœ¬ç¤¾æ‰€åœ¨åœ°</h3>\n                    <p className=\"text-slate-600\">ã€’243-0303</p>\n                    <p className=\"text-slate-600\">ç¥å¥ˆå·çœŒæ„›ç”²éƒ¡æ„›å·ç”ºä¸­æ´¥ï¼—ï¼’ï¼˜ï¼—</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <Phone className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">é›»è©±ç•ªå·</h3>\n                    <p className=\"text-slate-600\">046-212-2325</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <Phone className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">FAX</h3>\n                    <p className=\"text-slate-600\">046-212-2326</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"space-y-4\">\n                <div className=\"flex items-start space-x-3\">\n                  <Mail className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</h3>\n                    <p className=\"text-slate-600\">info@sinjapan.jp</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <Globe className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</h3>\n                    <a \n                      href=\"https://sinjapan.work/\" \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"text-blue-600 hover:text-blue-700 transition-colors duration-300\"\n                    >\n                      https://sinjapan.work/\n                    </a>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3\">\n                  <Users className=\"h-5 w-5 text-blue-600 mt-1\" />\n                  <div>\n                    <h3 className=\"font-semibold text-slate-800\">äº‹æ¥­å†…å®¹</h3>\n                    <p className=\"text-slate-600\">ä¸€èˆ¬è²¨ç‰©ãƒ»è»½è²¨ç‰©é‹é€</p>\n                    <p className=\"text-slate-600\">ç‰©æµAIãƒãƒƒãƒãƒ³ã‚°</p>\n                    <p className=\"text-slate-600\">ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ”¯æ´</p>\n                    <p className=\"text-slate-600\">WEBåˆ¶ä½œ</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* ä¼æ¥­ç†å¿µ */}\n          <div className=\"floating-card\">\n            <h2 className=\"text-2xl font-bold text-slate-800 mb-6 flex items-center\">\n              <Target className=\"h-6 w-6 mr-3 text-blue-600\" />\n              ä¼æ¥­ç†å¿µ\n            </h2>\n            \n            <div className=\"space-y-6\">\n              <div className=\"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-lg\">\n                <h3 className=\"text-xl font-bold text-slate-800 mb-3\">ã€Œæ–­ã‚‰ãªã„ç‰©æµã€ã‚’å®Ÿç¾ã™ã‚‹</h3>\n                <p className=\"text-slate-700 leading-relaxed\">\n                  ç§ãŸã¡ã¯ã€Œè·ç‰©ã‚’æ–­ã‚‰ã‚Œã‚‹â€¦ãã‚“ãªå½“ãŸã‚Šå‰ã‚’å¤‰ãˆãŸã„ã€‚ã€ã¨ã„ã†æƒ³ã„ã‹ã‚‰ã€<br />\n                  ã€Œæ–­ã‚‰ãªã„ç‰©æµã€ã‚’å®Ÿç¾ã™ã‚‹ç·åˆç‰©æµä¼æ¥­ã¨ã—ã¦ã€äººã¨ITã®åŠ›ã§å…¨å›½ã«å±Šã‘ã‚‰ã‚Œã‚‹ä»•çµ„ã¿ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚\n                </p>\n              </div>\n\n              <div className=\"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg\">\n                <h3 className=\"text-xl font-bold text-slate-800 mb-3\">äººã‚’å¤§åˆ‡ã«ã€ç‰©æµã‚’æ­¢ã‚ãªã„</h3>\n                <p className=\"text-slate-700 leading-relaxed\">\n                  äººã‚’å¤§åˆ‡ã«ã—ã€ç‰©æµã‚’æ­¢ã‚ãªã„ã“ã¨ãŒç§ãŸã¡ã®ä½¿å‘½ã§ã™ã€‚<br />\n                  è¤‡é›‘ãªæ¥­å‹™ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã«ã€èª°ã§ã‚‚ä½¿ãˆã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­è¨ˆã—ã€æŒç¶šå¯èƒ½ãªç¤¾ä¼šã‚’ITã‹ã‚‰æ”¯ãˆã¾ã™ã€‚\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* äº‹æ¥­å†…å®¹è©³ç´° */}\n          <div className=\"floating-card\">\n            <h2 className=\"text-2xl font-bold text-slate-800 mb-6 flex items-center\">\n              <Award className=\"h-6 w-6 mr-3 text-blue-600\" />\n              äº‹æ¥­å†…å®¹\n            </h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"space-y-4\">\n                <div className=\"border-l-4 border-blue-500 pl-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">ä¸€èˆ¬è²¨ç‰©ãƒ»è»½è²¨ç‰©è¼¸é€</h3>\n                  <p className=\"text-slate-600 text-sm\">\n                    ç¥å¥ˆå·çœŒæ„›ç”²éƒ¡æ„›å·ç”ºã‚’æ‹ ç‚¹ã¨ã—ãŸé‹é€äº‹æ¥­ã€‚é–¢æ±åœã‚’ä¸­å¿ƒã¨ã—ãŸè»½è²¨ç‰©é…é€ã¨ä¸€èˆ¬è²¨ç‰©è¼¸é€ã‚’ã€è‡ªç¤¾è»Šä¸¡ä¿æœ‰ï¼‹å”åŠ›ä¼šç¤¾ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚ˆã‚ŠæŸ”è»Ÿã«å¯¾å¿œã—ã¾ã™ã€‚\n                  </p>\n                </div>\n\n                <div className=\"border-l-4 border-green-500 pl-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">ç‰©æµAIãƒãƒƒãƒãƒ³ã‚°</h3>\n                  <p className=\"text-slate-600 text-sm\">\n                    AIã‚’æ´»ç”¨ã—ãŸæ±‚è·æ±‚è»Šã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºãƒ»é‹å–¶ã€‚è·ä¸»ã¨é‹é€ä¼šç¤¾ã‚’åŠ¹ç‡çš„ã«ãƒãƒƒãƒãƒ³ã‚°ã—ã€ã€Œæ–­ã‚‰ãªã„ç‰©æµã€ã‚’å®Ÿç¾ã—ã¾ã™ã€‚\n                  </p>\n                </div>\n\n                <div className=\"border-l-4 border-purple-500 pl-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ”¯æ´</h3>\n                  <p className=\"text-slate-600 text-sm\">\n                    ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ãƒ»ECã‚µã‚¤ãƒˆæ§‹ç¯‰ã€SNSåºƒå‘Šãƒ»SEOãƒ»LPOå¯¾ç­–ãªã©ã€ç·åˆçš„ãªãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ”¯æ´ã‚’æä¾›ã—ã¾ã™ã€‚\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"space-y-4\">\n                <div className=\"border-l-4 border-orange-500 pl-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">WEBåˆ¶ä½œ</h3>\n                  <p className=\"text-slate-600 text-sm\">\n                    ä¼æ¥­ã®ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–ã‚’æ”¯æ´ã™ã‚‹WEBã‚µã‚¤ãƒˆåˆ¶ä½œãƒ»ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã‚’è¡Œã„ã¾ã™ã€‚èª°ã§ã‚‚ç°¡å˜ã«ä½¿ãˆã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­è¨ˆã—ã¾ã™ã€‚\n                  </p>\n                </div>\n\n                <div className=\"border-l-4 border-red-500 pl-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">æµ·å¤–äº‹æ¥­å±•é–‹</h3>\n                  <p className=\"text-slate-600 text-sm\">\n                    ãƒ•ã‚£ãƒªãƒ”ãƒ³ã‚’ä¸­å¿ƒã¨ã—ãŸæµ·å¤–äº‹æ¥­å±•é–‹æ”¯æ´ã€‚ç¾åœ°æ³•äººè¨­ç«‹ãƒ»åº—èˆ—ãƒ“ã‚¸ãƒã‚¹ã‚µãƒãƒ¼ãƒˆã€ç¾å®¹ãƒ»åŒ»ç™‚ã‚¯ãƒªãƒ‹ãƒƒã‚¯é‹å–¶ã‚’è¡Œã„ã¾ã™ã€‚\n                  </p>\n                </div>\n\n                <div className=\"border-l-4 border-teal-500 pl-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">ãã®ä»–äº‹æ¥­</h3>\n                  <p className=\"text-slate-600 text-sm\">\n                    ä¸å‹•ç”£ä»²ä»‹ãƒ»è²¸ä¼šè­°å®¤é‹å–¶ã€ä¸­å¤è»Šè²©å£²ï¼ˆå•†ç”¨è»Šä¸­å¿ƒï¼‰ã€ãƒ©ã‚¤ãƒ–ãƒãƒ£ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ãƒ»é‹ç”¨ãªã©ã€å¤šå²ã«ã‚ãŸã‚‹äº‹æ¥­ã‚’å±•é–‹ã—ã¦ã„ã¾ã™ã€‚\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* ãŠå•ã„åˆã‚ã› */}\n          <div className=\"floating-card\">\n            <h2 className=\"text-2xl font-bold text-slate-800 mb-6\">ãŠå•ã„åˆã‚ã›</h2>\n            <p className=\"text-slate-600 mb-6\">\n              ã”è³ªå•ãƒ»ã”ç›¸è«‡ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <Link \n                href=\"/contact\" \n                className=\"btn-primary text-center\"\n              >\n                ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ \n              </Link>\n              <Link \n                href=\"/help\" \n                className=\"btn-secondary text-center\"\n              >\n                ã‚ˆãã‚ã‚‹ã”è³ªå•\n              </Link>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n","size_bytes":11329},"src/app/api/shipments/route.ts":{"content":"import { NextRequest } from 'next/server'\nexport const dynamic = 'force-dynamic'\nimport { getUserFromRequest } from '@/lib/auth'\nimport { createShipmentSchema } from '@/lib/validators'\nimport {\n  successResponse,\n  errorResponse,\n  unauthorizedResponse,\n  forbiddenResponse,\n} from '@/lib/api-response'\nimport prisma from '@/lib/prisma'\n\n// é…é€æ¡ˆä»¶ä¸€è¦§å–å¾—\nexport async function GET(request: NextRequest) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    const { searchParams } = new URL(request.url)\n    const status = searchParams.get('status')\n    const pickupPrefecture = searchParams.get('pickupPrefecture')\n    const deliveryPrefecture = searchParams.get('deliveryPrefecture')\n    \n    const where: any = {}\n    \n    // è·ä¸»ã®å ´åˆã¯è‡ªåˆ†ã®æ¡ˆä»¶ã®ã¿è¡¨ç¤º\n    if (user.userType === 'SHIPPER') {\n      where.shipperId = user.userId\n    }\n    \n    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼\n    if (status) {\n      where.status = status\n    }\n    \n    // é›†è·åœ°ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼\n    if (pickupPrefecture) {\n      where.pickupPrefecture = pickupPrefecture\n    }\n    \n    // é…é€åœ°ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼\n    if (deliveryPrefecture) {\n      where.deliveryPrefecture = deliveryPrefecture\n    }\n    \n    const shipments = await prisma.shipment.findMany({\n      where,\n      include: {\n        shipper: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n            phone: true,\n          },\n        },\n        carrier: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n            phone: true,\n          },\n        },\n        offers: {\n          include: {\n            carrier: {\n              select: {\n                id: true,\n                companyName: true,\n                contactPerson: true,\n              },\n            },\n          },\n        },\n      },\n      orderBy: {\n        createdAt: 'desc',\n      },\n    })\n    \n    return successResponse(shipments)\n  } catch (error) {\n    console.error('Get shipments error:', error)\n    return errorResponse('é…é€æ¡ˆä»¶ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n// é…é€æ¡ˆä»¶ä½œæˆ\nexport async function POST(request: NextRequest) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    // è·ä¸»ã®ã¿ä½œæˆå¯èƒ½\n    if (user.userType !== 'SHIPPER') {\n      return forbiddenResponse('è·ä¸»ã®ã¿ãŒé…é€æ¡ˆä»¶ã‚’ä½œæˆã§ãã¾ã™')\n    }\n    \n    const body = await request.json()\n    \n    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    const validatedData = createShipmentSchema.parse(body)\n    \n    // é…é€æ¡ˆä»¶ä½œæˆ\n    const shipment = await prisma.shipment.create({\n      data: {\n        shipperId: user.userId,\n        cargoName: validatedData.cargoName,\n        cargoDescription: validatedData.cargoDescription,\n        cargoWeight: validatedData.cargoWeight,\n        cargoVolume: validatedData.cargoVolume,\n        cargoValue: validatedData.cargoValue,\n        \n        pickupAddress: validatedData.pickupAddress,\n        pickupCity: validatedData.pickupCity,\n        pickupPrefecture: validatedData.pickupPrefecture,\n        pickupPostalCode: validatedData.pickupPostalCode,\n        pickupDate: new Date(validatedData.pickupDate),\n        pickupTimeFrom: validatedData.pickupTimeFrom,\n        pickupTimeTo: validatedData.pickupTimeTo,\n        \n        deliveryAddress: validatedData.deliveryAddress,\n        deliveryCity: validatedData.deliveryCity,\n        deliveryPrefecture: validatedData.deliveryPrefecture,\n        deliveryPostalCode: validatedData.deliveryPostalCode,\n        deliveryDate: new Date(validatedData.deliveryDate),\n        deliveryTimeFrom: validatedData.deliveryTimeFrom,\n        deliveryTimeTo: validatedData.deliveryTimeTo,\n        \n        requiredVehicleType: validatedData.requiredVehicleType,\n        needsHelper: validatedData.needsHelper,\n        needsLiftGate: validatedData.needsLiftGate,\n        temperature: validatedData.temperature,\n        specialInstructions: validatedData.specialInstructions,\n        \n        budget: validatedData.budget,\n      },\n      include: {\n        shipper: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n            phone: true,\n          },\n        },\n      },\n    })\n    \n    return successResponse(shipment, 201)\n  } catch (error: any) {\n    if (error.name === 'ZodError') {\n      return errorResponse(error.errors[0].message)\n    }\n    console.error('Create shipment error:', error)\n    return errorResponse('é…é€æ¡ˆä»¶ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n","size_bytes":4728},"src/app/layout.tsx":{"content":"import type { Metadata } from 'next'\nimport { Inter } from 'next/font/google'\nimport './globals.css'\n\nconst inter = Inter({ subsets: ['latin'] })\n\nexport const metadata: Metadata = {\n  title: 'SIN JAPAN LOGI MATCH - ç‰©æµãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ',\n  description: 'è·ä¸»ã¨é‹é€ä¼šç¤¾ã‚’ã¤ãªãç‰©æµãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ',\n}\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <html lang=\"ja\">\n      <body className={inter.className}>{children}</body>\n    </html>\n  )\n}\n\n","size_bytes":560},"src/app/dashboard/settings/contract/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  FileText, \n  Calendar, \n  DollarSign, \n  CheckCircle, \n  AlertCircle, \n  Download, \n  Upload,\n  Edit,\n  Save,\n  X,\n  Clock,\n  Shield,\n  User\n} from 'lucide-react'\n\ninterface Contract {\n  id: string\n  contractType: string\n  contractNumber: string\n  startDate: string\n  endDate: string\n  status: 'active' | 'expired' | 'pending' | 'terminated'\n  monthlyFee: number\n  paymentMethod: string\n  autoRenewal: boolean\n  terms: string\n  specialConditions: string\n  contactPerson: string\n  lastUpdated: string\n}\n\nexport default function ContractPage() {\n  const [contracts, setContracts] = useState<Contract[]>([])\n  const [editingContract, setEditingContract] = useState<Contract | null>(null)\n  const [showAddModal, setShowAddModal] = useState(false)\n  const [formData, setFormData] = useState({\n    contractType: '',\n    contractNumber: '',\n    startDate: '',\n    endDate: '',\n    status: 'active' as 'active' | 'expired' | 'pending' | 'terminated',\n    monthlyFee: '',\n    paymentMethod: '',\n    autoRenewal: false,\n    terms: '',\n    specialConditions: '',\n    contactPerson: ''\n  })\n\n  useEffect(() => {\n    loadContracts()\n  }, [])\n\n  const loadContracts = async () => {\n    // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n    const sampleContracts: Contract[] = [\n      {\n        id: '1',\n        contractType: 'åŸºæœ¬ãƒ—ãƒ©ãƒ³',\n        contractNumber: 'CNT-2024-001',\n        startDate: '2024-01-01',\n        endDate: '2024-12-31',\n        status: 'active',\n        monthlyFee: 50000,\n        paymentMethod: 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰',\n        autoRenewal: true,\n        terms: 'æœˆé¡åˆ©ç”¨æ–™é‡‘ã«åŸºã¥ãåŸºæœ¬ã‚µãƒ¼ãƒ“ã‚¹å¥‘ç´„',\n        specialConditions: 'å¤§å‹è²¨ç‰©è¼¸é€ã®å‰²å¼•é©ç”¨',\n        contactPerson: 'ç”°ä¸­å¤ªéƒ',\n        lastUpdated: '2024-01-15'\n      },\n      {\n        id: '2',\n        contractType: 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³',\n        contractNumber: 'CNT-2024-002',\n        startDate: '2024-02-01',\n        endDate: '2025-01-31',\n        status: 'active',\n        monthlyFee: 100000,\n        paymentMethod: 'éŠ€è¡ŒæŒ¯è¾¼',\n        autoRenewal: true,\n        terms: 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ©Ÿèƒ½ã‚’å«ã‚€åŒ…æ‹¬çš„ã‚µãƒ¼ãƒ“ã‚¹å¥‘ç´„',\n        specialConditions: '24æ™‚é–“ã‚µãƒãƒ¼ãƒˆã€å„ªå…ˆãƒãƒƒãƒãƒ³ã‚°',\n        contactPerson: 'ä½è—¤èŠ±å­',\n        lastUpdated: '2024-01-20'\n      }\n    ]\n\n    setContracts(sampleContracts)\n  }\n\n  const handleAddContract = () => {\n    setFormData({\n      contractType: '',\n      contractNumber: '',\n      startDate: '',\n      endDate: '',\n      status: 'active',\n      monthlyFee: '',\n      paymentMethod: '',\n      autoRenewal: false,\n      terms: '',\n      specialConditions: '',\n      contactPerson: ''\n    })\n    setEditingContract(null)\n    setShowAddModal(true)\n  }\n\n  const handleEditContract = (contract: Contract) => {\n    setFormData({\n      contractType: contract.contractType,\n      contractNumber: contract.contractNumber,\n      startDate: contract.startDate,\n      endDate: contract.endDate,\n      status: contract.status,\n      monthlyFee: contract.monthlyFee.toString(),\n      paymentMethod: contract.paymentMethod,\n      autoRenewal: contract.autoRenewal,\n      terms: contract.terms,\n      specialConditions: contract.specialConditions,\n      contactPerson: contract.contactPerson\n    })\n    setEditingContract(contract)\n    setShowAddModal(true)\n  }\n\n  const handleSaveContract = () => {\n    if (editingContract) {\n      // ç·¨é›†\n      setContracts(prev => prev.map(contract => \n        contract.id === editingContract.id \n          ? { ...contract, ...formData, monthlyFee: parseFloat(formData.monthlyFee), lastUpdated: new Date().toISOString().split('T')[0] }\n          : contract\n      ))\n    } else {\n      // æ–°è¦è¿½åŠ \n      const newContract: Contract = {\n        id: Date.now().toString(),\n        ...formData,\n        monthlyFee: parseFloat(formData.monthlyFee),\n        lastUpdated: new Date().toISOString().split('T')[0]\n      }\n      setContracts(prev => [...prev, newContract])\n    }\n    setShowAddModal(false)\n    setEditingContract(null)\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'active': return 'text-green-600 bg-green-100'\n      case 'expired': return 'text-red-600 bg-red-100'\n      case 'pending': return 'text-yellow-600 bg-yellow-100'\n      case 'terminated': return 'text-gray-600 bg-gray-100'\n      default: return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'active': return 'æœ‰åŠ¹'\n      case 'expired': return 'æœŸé™åˆ‡ã‚Œ'\n      case 'pending': return 'æ‰¿èªå¾…ã¡'\n      case 'terminated': return 'çµ‚äº†'\n      default: return 'ä¸æ˜'\n    }\n  }\n\n  const contractTypes = [\n    'åŸºæœ¬ãƒ—ãƒ©ãƒ³', 'ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³', 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³', 'ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ—ãƒ©ãƒ³', 'ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ©ãƒ³'\n  ]\n\n  const paymentMethods = [\n    'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰', 'éŠ€è¡ŒæŒ¯è¾¼', 'å£åº§æŒ¯æ›¿', 'é›»å­ãƒãƒãƒ¼', 'ã‚³ãƒ³ãƒ“ãƒ‹æ‰•ã„'\n  ]\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">å¥‘ç´„å†…å®¹</h1>\n            <p className=\"text-gray-600\">å¥‘ç´„ã®è©³ç´°æƒ…å ±ã‚’ç®¡ç†ã§ãã¾ã™</p>\n          </div>\n          <button\n            onClick={handleAddContract}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n          >\n            <FileText className=\"h-4 w-4\" />\n            <span>å¥‘ç´„ã‚’è¿½åŠ </span>\n          </button>\n        </div>\n      </div>\n\n      {/* å¥‘ç´„ä¸€è¦§ */}\n      <div className=\"space-y-6\">\n        {contracts.map((contract) => (\n          <div key={contract.id} className=\"bg-white rounded-lg shadow-sm border\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  <h2 className=\"text-lg font-semibold text-gray-900\">{contract.contractType}</h2>\n                  <p className=\"text-sm text-gray-600\">å¥‘ç´„ç•ªå·: {contract.contractNumber}</p>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(contract.status)}`}>\n                    {getStatusText(contract.status)}\n                  </span>\n                  <button\n                    onClick={() => handleEditContract(contract)}\n                    className=\"text-blue-600 hover:text-blue-800\"\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-2\">å¥‘ç´„æœŸé–“</h3>\n                  <div className=\"space-y-1\">\n                    <p className=\"text-sm text-gray-900\">\n                      <Calendar className=\"h-4 w-4 inline mr-1\" />\n                      é–‹å§‹: {new Date(contract.startDate).toLocaleDateString('ja-JP')}\n                    </p>\n                    <p className=\"text-sm text-gray-900\">\n                      <Calendar className=\"h-4 w-4 inline mr-1\" />\n                      çµ‚äº†: {new Date(contract.endDate).toLocaleDateString('ja-JP')}\n                    </p>\n                  </div>\n                </div>\n\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-2\">æ–™é‡‘æƒ…å ±</h3>\n                  <div className=\"space-y-1\">\n                    <p className=\"text-sm text-gray-900\">\n                      <DollarSign className=\"h-4 w-4 inline mr-1\" />\n                      æœˆé¡æ–™é‡‘: Â¥{contract.monthlyFee.toLocaleString()}\n                    </p>\n                    <p className=\"text-sm text-gray-900\">\n                      æ”¯æ‰•ã„æ–¹æ³•: {contract.paymentMethod}\n                    </p>\n                    <p className=\"text-sm text-gray-900\">\n                      è‡ªå‹•æ›´æ–°: {contract.autoRenewal ? 'æœ‰åŠ¹' : 'ç„¡åŠ¹'}\n                    </p>\n                  </div>\n                </div>\n\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-2\">é€£çµ¡å…ˆ</h3>\n                  <div className=\"space-y-1\">\n                    <p className=\"text-sm text-gray-900\">\n                      <User className=\"h-4 w-4 inline mr-1\" />\n                      æ‹…å½“è€…: {contract.contactPerson}\n                    </p>\n                    <p className=\"text-sm text-gray-900\">\n                      <Clock className=\"h-4 w-4 inline mr-1\" />\n                      æœ€çµ‚æ›´æ–°: {new Date(contract.lastUpdated).toLocaleDateString('ja-JP')}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-6 space-y-4\">\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-2\">å¥‘ç´„æ¡ä»¶</h3>\n                  <p className=\"text-sm text-gray-900 bg-gray-50 p-3 rounded-lg\">{contract.terms}</p>\n                </div>\n\n                {contract.specialConditions && (\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-700 mb-2\">ç‰¹åˆ¥æ¡ä»¶</h3>\n                    <p className=\"text-sm text-gray-900 bg-blue-50 p-3 rounded-lg\">{contract.specialConditions}</p>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mt-6 flex justify-end space-x-2\">\n                <button className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2\">\n                  <Download className=\"h-4 w-4\" />\n                  <span>å¥‘ç´„æ›¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</span>\n                </button>\n                <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\">\n                  <Upload className=\"h-4 w-4\" />\n                  <span>å¥‘ç´„æ›¸ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* è¿½åŠ ãƒ»ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">\n                  {editingContract ? 'å¥‘ç´„ã‚’ç·¨é›†' : 'å¥‘ç´„ã‚’è¿½åŠ '}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowAddModal(false)\n                    setEditingContract(null)\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"h-6 w-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">å¥‘ç´„ã‚¿ã‚¤ãƒ— *</label>\n                  <select\n                    value={formData.contractType}\n                    onChange={(e) => setFormData(prev => ({ ...prev, contractType: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                    {contractTypes.map(type => (\n                      <option key={type} value={type}>{type}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">å¥‘ç´„ç•ªå· *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.contractNumber}\n                    onChange={(e) => setFormData(prev => ({ ...prev, contractNumber: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"CNT-2024-001\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">é–‹å§‹æ—¥ *</label>\n                  <input\n                    type=\"date\"\n                    required\n                    value={formData.startDate}\n                    onChange={(e) => setFormData(prev => ({ ...prev, startDate: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">çµ‚äº†æ—¥ *</label>\n                  <input\n                    type=\"date\"\n                    required\n                    value={formData.endDate}\n                    onChange={(e) => setFormData(prev => ({ ...prev, endDate: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ *</label>\n                  <select\n                    value={formData.status}\n                    onChange={(e) => setFormData(prev => ({ ...prev, status: e.target.value as any }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"active\">æœ‰åŠ¹</option>\n                    <option value=\"expired\">æœŸé™åˆ‡ã‚Œ</option>\n                    <option value=\"pending\">æ‰¿èªå¾…ã¡</option>\n                    <option value=\"terminated\">çµ‚äº†</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">æœˆé¡æ–™é‡‘ (å††) *</label>\n                  <input\n                    type=\"number\"\n                    required\n                    min=\"0\"\n                    value={formData.monthlyFee}\n                    onChange={(e) => setFormData(prev => ({ ...prev, monthlyFee: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"50000\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">æ”¯æ‰•ã„æ–¹æ³• *</label>\n                  <select\n                    value={formData.paymentMethod}\n                    onChange={(e) => setFormData(prev => ({ ...prev, paymentMethod: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                    {paymentMethods.map(method => (\n                      <option key={method} value={method}>{method}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">æ‹…å½“è€… *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.contactPerson}\n                    onChange={(e) => setFormData(prev => ({ ...prev, contactPerson: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"ç”°ä¸­å¤ªéƒ\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">è‡ªå‹•æ›´æ–°</label>\n                <label className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.autoRenewal}\n                    onChange={(e) => setFormData(prev => ({ ...prev, autoRenewal: e.target.checked }))}\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  />\n                  <span className=\"text-sm text-gray-700\">è‡ªå‹•æ›´æ–°ã‚’æœ‰åŠ¹ã«ã™ã‚‹</span>\n                </label>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">å¥‘ç´„æ¡ä»¶ *</label>\n                <textarea\n                  required\n                  value={formData.terms}\n                  onChange={(e) => setFormData(prev => ({ ...prev, terms: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  rows={3}\n                  placeholder=\"å¥‘ç´„ã®è©³ç´°æ¡ä»¶ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ç‰¹åˆ¥æ¡ä»¶</label>\n                <textarea\n                  value={formData.specialConditions}\n                  onChange={(e) => setFormData(prev => ({ ...prev, specialConditions: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  rows={3}\n                  placeholder=\"ç‰¹åˆ¥ãªæ¡ä»¶ã‚„ç‰¹è¨˜äº‹é …ãŒã‚ã‚Œã°è¨˜è¼‰ã—ã¦ãã ã•ã„\"\n                />\n              </div>\n            </div>\n\n            <div className=\"px-6 py-4 border-t border-gray-200 flex justify-end space-x-2\">\n              <button\n                onClick={() => {\n                  setShowAddModal(false)\n                  setEditingContract(null)\n                }}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n              >\n                ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n              </button>\n              <button\n                onClick={handleSaveContract}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n              >\n                <Save className=\"h-4 w-4\" />\n                <span>{editingContract ? 'æ›´æ–°' : 'è¿½åŠ '}</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </DashboardLayout>\n  )\n}\n\n","size_bytes":19394},"src/app/shipments/new/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Navbar from '@/components/Navbar'\nimport { \n  Package, \n  MapPin, \n  Calendar, \n  Truck, \n  DollarSign, \n  Brain, \n  Target, \n  Star, \n  Shield, \n  Clock, \n  TrendingUp, \n  Award,\n  CheckCircle,\n  ArrowRight\n} from 'lucide-react'\n\ninterface RecommendedCarrier {\n  id: string\n  companyName: string\n  contactPerson: string\n  phone: string\n  email: string\n  rating: number\n  creditScore: number\n  specialties: string[]\n  responseTime: number\n  reliabilityScore: number\n  aiMatchScore: number\n  aiRecommendationReason: string\n  estimatedDeliveryTime: number\n  costEfficiency: number\n}\n\ninterface AISearchResult {\n  carriers: RecommendedCarrier[]\n  aiInsights: {\n    totalMatches: number\n    averageMatchScore: number\n    topSpecialties: string[]\n    marketTrends: string\n  }\n}\n\nexport default function NewShipmentPage() {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [aiSearching, setAiSearching] = useState(false)\n  const [aiResults, setAiResults] = useState<AISearchResult | null>(null)\n  const [showAIResults, setShowAIResults] = useState(false)\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    pickupLocation: '',\n    pickupPrefecture: '',\n    pickupDateTime: '',\n    deliveryLocation: '',\n    deliveryPrefecture: '',\n    deliveryDateTime: '',\n    cargoType: '',\n    cargoWeight: '',\n    cargoSize: '',\n    requiredVehicleType: 'SMALL_TRUCK',\n    price: '',\n    notes: '',\n    urgency: 'normal',\n    specialRequirements: ''\n  })\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    const userData = localStorage.getItem('user')\n    \n    if (!token || !userData) {\n      router.push('/login')\n      return\n    }\n\n    const parsedUser = JSON.parse(userData)\n    if (parsedUser.userType !== 'SHIPPER') {\n      router.push('/dashboard')\n      return\n    }\n\n    setUser(parsedUser)\n  }, [router])\n\n  const performAISearch = async () => {\n    if (!formData.cargoWeight || !formData.cargoType || !formData.pickupPrefecture || !formData.deliveryPrefecture) {\n      alert('AIæ¤œç´¢ã«ã¯è·ç‰©ã®é‡é‡ã€ç¨®é¡ã€é›†è·ãƒ»é…é€å…ˆã®éƒ½é“åºœçœŒãŒå¿…è¦ã§ã™')\n      return\n    }\n\n    setAiSearching(true)\n    try {\n      // AIæ¤œç´¢ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\n      const mockAISearchResult: AISearchResult = {\n        carriers: [\n          {\n            id: 'carrier-1',\n            companyName: 'æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯',\n            contactPerson: 'å±±ç”°èŠ±å­',\n            phone: '03-1234-5678',\n            email: 'yamada@translogic.co.jp',\n            rating: 4.8,\n            creditScore: 95,\n            specialties: ['å¤§å‹è²¨ç‰©', 'é–¢æ±åœ', 'æ€¥ä¾¿å¯¾å¿œ'],\n            responseTime: 15,\n            reliabilityScore: 98,\n            aiMatchScore: 95,\n            aiRecommendationReason: 'è·ç‰©ã®é‡é‡ã¨ç·Šæ€¥åº¦ã«æœ€é©ãªé‹é€ä¼šç¤¾ã€‚éå»ã®å®Ÿç¸¾ã¨é«˜ã„ä¿¡ç”¨ã‚¹ã‚³ã‚¢ã§ä¿¡é ¼æ€§ãŒé«˜ã„ã€‚',\n            estimatedDeliveryTime: 6,\n            costEfficiency: 92\n          },\n          {\n            id: 'carrier-2',\n            companyName: 'é–¢è¥¿ç‰©æµæ ªå¼ä¼šç¤¾',\n            contactPerson: 'éˆ´æœ¨ä¸€éƒ',\n            phone: '06-9876-5432',\n            email: 'suzuki@kansai-logistics.co.jp',\n            rating: 4.6,\n            creditScore: 88,\n            specialties: ['å†·è”µè¼¸é€', 'é–¢è¥¿åœ', 'ç”Ÿé®®é£Ÿå“'],\n            responseTime: 25,\n            reliabilityScore: 94,\n            aiMatchScore: 87,\n            aiRecommendationReason: 'å†·è”µè¼¸é€ã«ç‰¹åŒ–ã—ãŸé‹é€ä¼šç¤¾ã§ã€ç”Ÿé®®é£Ÿå“ã®è¼¸é€å®Ÿç¸¾ãŒè±Šå¯Œã€‚',\n            estimatedDeliveryTime: 8,\n            costEfficiency: 85\n          },\n          {\n            id: 'carrier-3',\n            companyName: 'ä¸­éƒ¨é‹é€æ ªå¼ä¼šç¤¾',\n            contactPerson: 'ç”°æ‘å››éƒ',\n            phone: '052-5555-1234',\n            email: 'tamura@chubu-transport.co.jp',\n            rating: 4.4,\n            creditScore: 82,\n            specialties: ['ä¸€èˆ¬è²¨ç‰©', 'ä¸­éƒ¨åœ', 'ã‚³ã‚¹ãƒˆé‡è¦–'],\n            responseTime: 30,\n            reliabilityScore: 89,\n            aiMatchScore: 78,\n            aiRecommendationReason: 'ã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒè‰¯ãã€ä¸­å°è¦æ¨¡ã®è·ç‰©ã«é©ã—ã¦ã„ã‚‹ã€‚',\n            estimatedDeliveryTime: 12,\n            costEfficiency: 95\n          }\n        ],\n        aiInsights: {\n          totalMatches: 3,\n          averageMatchScore: 87,\n          topSpecialties: ['å¤§å‹è²¨ç‰©', 'å†·è”µè¼¸é€', 'é–¢æ±åœ'],\n          marketTrends: 'ç¾åœ¨ã€å¤§å‹è²¨ç‰©ã®éœ€è¦ãŒé«˜ãã€å†·è”µè¼¸é€ã®éœ€è¦ã‚‚å¢—åŠ å‚¾å‘ã«ã‚ã‚Šã¾ã™ã€‚'\n        }\n      }\n      \n      // å®Ÿéš›ã®APIå‘¼ã³å‡ºã—ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ\n      await new Promise(resolve => setTimeout(resolve, 2000))\n      \n      setAiResults(mockAISearchResult)\n      setShowAIResults(true)\n    } catch (error) {\n      console.error('Error performing AI search:', error)\n      alert('AIæ¤œç´¢ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    } finally {\n      setAiSearching(false)\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/shipments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          ...formData,\n          cargoWeight: parseFloat(formData.cargoWeight),\n          price: parseFloat(formData.price),\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || 'æ¡ˆä»¶ã®æŠ•ç¨¿ã«å¤±æ•—ã—ã¾ã—ãŸ')\n      }\n\n      router.push('/shipments')\n    } catch (err: any) {\n      setError(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const prefectures = [\n    'åŒ—æµ·é“', 'é’æ£®çœŒ', 'å²©æ‰‹çœŒ', 'å®®åŸçœŒ', 'ç§‹ç”°çœŒ', 'å±±å½¢çœŒ', 'ç¦å³¶çœŒ',\n    'èŒ¨åŸçœŒ', 'æ ƒæœ¨çœŒ', 'ç¾¤é¦¬çœŒ', 'åŸ¼ç‰çœŒ', 'åƒè‘‰çœŒ', 'æ±äº¬éƒ½', 'ç¥å¥ˆå·çœŒ',\n    'æ–°æ½ŸçœŒ', 'å¯Œå±±çœŒ', 'çŸ³å·çœŒ', 'ç¦äº•çœŒ', 'å±±æ¢¨çœŒ', 'é•·é‡çœŒ',\n    'å²é˜œçœŒ', 'é™å²¡çœŒ', 'æ„›çŸ¥çœŒ', 'ä¸‰é‡çœŒ',\n    'æ»‹è³€çœŒ', 'äº¬éƒ½åºœ', 'å¤§é˜ªåºœ', 'å…µåº«çœŒ', 'å¥ˆè‰¯çœŒ', 'å’Œæ­Œå±±çœŒ',\n    'é³¥å–çœŒ', 'å³¶æ ¹çœŒ', 'å²¡å±±çœŒ', 'åºƒå³¶çœŒ', 'å±±å£çœŒ',\n    'å¾³å³¶çœŒ', 'é¦™å·çœŒ', 'æ„›åª›çœŒ', 'é«˜çŸ¥çœŒ',\n    'ç¦å²¡çœŒ', 'ä½è³€çœŒ', 'é•·å´çœŒ', 'ç†Šæœ¬çœŒ', 'å¤§åˆ†çœŒ', 'å®®å´çœŒ', 'é¹¿å…å³¶çœŒ', 'æ²–ç¸„çœŒ'\n  ]\n\n  const vehicleTypes = [\n    { value: 'LIGHT_TRUCK', label: 'è»½ãƒˆãƒ©ãƒƒã‚¯' },\n    { value: 'SMALL_TRUCK', label: 'å°å‹ãƒˆãƒ©ãƒƒã‚¯' },\n    { value: 'MEDIUM_TRUCK', label: 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯' },\n    { value: 'LARGE_TRUCK', label: 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯' },\n    { value: 'TRAILER', label: 'ãƒˆãƒ¬ãƒ¼ãƒ©ãƒ¼' },\n    { value: 'REFRIGERATED', label: 'å†·å‡ãƒ»å†·è”µè»Š' },\n    { value: 'FLATBED', label: 'å¹³ãƒœãƒ‡ã‚£' },\n    { value: 'WING', label: 'ã‚¦ã‚£ãƒ³ã‚°è»Š' },\n  ]\n\n  const urgencyLevels = [\n    { value: 'urgent', label: 'ç·Šæ€¥ï¼ˆ24æ™‚é–“ä»¥å†…ï¼‰', color: 'text-red-600' },\n    { value: 'high', label: 'é«˜ï¼ˆ3æ—¥ä»¥å†…ï¼‰', color: 'text-orange-600' },\n    { value: 'normal', label: 'é€šå¸¸ï¼ˆ1é€±é–“ä»¥å†…ï¼‰', color: 'text-blue-600' },\n    { value: 'low', label: 'ä½ï¼ˆ2é€±é–“ä»¥å†…ï¼‰', color: 'text-green-600' }\n  ]\n\n  const getCreditScoreColor = (score: number) => {\n    if (score >= 90) return 'text-green-600 bg-green-100'\n    if (score >= 80) return 'text-blue-600 bg-blue-100'\n    if (score >= 70) return 'text-yellow-600 bg-yellow-100'\n    return 'text-red-600 bg-red-100'\n  }\n\n  const getMatchScoreColor = (score: number) => {\n    if (score >= 90) return 'text-green-600'\n    if (score >= 80) return 'text-blue-600'\n    if (score >= 70) return 'text-yellow-600'\n    return 'text-red-600'\n  }\n\n  const renderStars = (rating: number) => {\n    return Array.from({ length: 5 }, (_, i) => (\n      <Star\n        key={i}\n        className={`h-4 w-4 ${\n          i < Math.floor(rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'\n        }`}\n      />\n    ))\n  }\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-white\">\n      <Navbar />\n      \n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\n        <div className=\"mb-8 fade-in-up\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-gray-900 mb-2\">\n            æ–°è¦æ¡ˆä»¶ã‚’æŠ•ç¨¿\n          </h1>\n          <p className=\"text-gray-600\">\n            é…é€æ¡ˆä»¶ã®è©³ç´°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-8\">\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl\">\n              {error}\n            </div>\n          )}\n\n          {/* åŸºæœ¬æƒ…å ± */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.1s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-blue-600 to-cyan-500 p-3 rounded-xl\">\n                <Package className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">åŸºæœ¬æƒ…å ±</h2>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  æ¡ˆä»¶ã‚¿ã‚¤ãƒˆãƒ« *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"ä¾‹: æ±äº¬ã‹ã‚‰å¤§é˜ªã¸ã®è·ç‰©é…é€\"\n                  value={formData.title}\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  è©³ç´°èª¬æ˜ *\n                </label>\n                <textarea\n                  required\n                  rows={4}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"é…é€å†…å®¹ã®è©³ç´°ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„\"\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* é›†è·æƒ…å ± */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.2s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-green-600 to-emerald-500 p-3 rounded-xl\">\n                <MapPin className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">é›†è·æƒ…å ±</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é›†è·éƒ½é“åºœçœŒ *\n                </label>\n                <select\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  value={formData.pickupPrefecture}\n                  onChange={(e) => setFormData({ ...formData, pickupPrefecture: e.target.value })}\n                >\n                  <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                  {prefectures.map((pref) => (\n                    <option key={pref} value={pref}>{pref}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é›†è·ä½æ‰€ *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"å¸‚åŒºç”ºæ‘ä»¥é™ã®ä½æ‰€\"\n                  value={formData.pickupLocation}\n                  onChange={(e) => setFormData({ ...formData, pickupLocation: e.target.value })}\n                />\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é›†è·å¸Œæœ›æ—¥æ™‚ *\n                </label>\n                <input\n                  type=\"datetime-local\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  value={formData.pickupDateTime}\n                  onChange={(e) => setFormData({ ...formData, pickupDateTime: e.target.value })}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* é…é€å…ˆæƒ…å ± */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.3s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-purple-600 to-pink-500 p-3 rounded-xl\">\n                <MapPin className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">é…é€å…ˆæƒ…å ±</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é…é€å…ˆéƒ½é“åºœçœŒ *\n                </label>\n                <select\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  value={formData.deliveryPrefecture}\n                  onChange={(e) => setFormData({ ...formData, deliveryPrefecture: e.target.value })}\n                >\n                  <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                  {prefectures.map((pref) => (\n                    <option key={pref} value={pref}>{pref}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é…é€å…ˆä½æ‰€ *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"å¸‚åŒºç”ºæ‘ä»¥é™ã®ä½æ‰€\"\n                  value={formData.deliveryLocation}\n                  onChange={(e) => setFormData({ ...formData, deliveryLocation: e.target.value })}\n                />\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é…é€å¸Œæœ›æ—¥æ™‚ *\n                </label>\n                <input\n                  type=\"datetime-local\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  value={formData.deliveryDateTime}\n                  onChange={(e) => setFormData({ ...formData, deliveryDateTime: e.target.value })}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* è·ç‰©æƒ…å ± */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.4s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-orange-600 to-yellow-500 p-3 rounded-xl\">\n                <Truck className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">è·ç‰©æƒ…å ±</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  è·ç‰©ã®ç¨®é¡ *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"ä¾‹: é›»åŒ–è£½å“ã€é£Ÿå“ã€å»ºæãªã©\"\n                  value={formData.cargoType}\n                  onChange={(e) => setFormData({ ...formData, cargoType: e.target.value })}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é‡é‡ (kg) *\n                </label>\n                <input\n                  type=\"number\"\n                  required\n                  step=\"0.01\"\n                  min=\"0\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"100\"\n                  value={formData.cargoWeight}\n                  onChange={(e) => setFormData({ ...formData, cargoWeight: e.target.value })}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  ã‚µã‚¤ã‚º *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"ä¾‹: 100cm Ã— 50cm Ã— 30cm\"\n                  value={formData.cargoSize}\n                  onChange={(e) => setFormData({ ...formData, cargoSize: e.target.value })}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  å¿…è¦ãªè»Šä¸¡ã‚¿ã‚¤ãƒ— *\n                </label>\n                <select\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  value={formData.requiredVehicleType}\n                  onChange={(e) => setFormData({ ...formData, requiredVehicleType: e.target.value })}\n                >\n                  {vehicleTypes.map((type) => (\n                    <option key={type.value} value={type.value}>{type.label}</option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* AIæ¤œç´¢ç”¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.5s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-purple-600 to-blue-500 p-3 rounded-xl\">\n                <Brain className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">AI ãŠã™ã™ã‚æ¤œç´¢</h2>\n              <span className=\"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full\">NEW</span>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    ç·Šæ€¥åº¦\n                  </label>\n                  <select\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 transition\"\n                    value={formData.urgency}\n                    onChange={(e) => setFormData({ ...formData, urgency: e.target.value })}\n                  >\n                    {urgencyLevels.map(level => (\n                      <option key={level.value} value={level.value}>{level.label}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    ç‰¹åˆ¥ãªè¦ä»¶\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 transition\"\n                    placeholder=\"ä¾‹: æ¸©åº¦ç®¡ç†ã€å±é™ºç‰©è¼¸é€è³‡æ ¼ã€24æ™‚é–“å¯¾å¿œãªã©\"\n                    value={formData.specialRequirements}\n                    onChange={(e) => setFormData({ ...formData, specialRequirements: e.target.value })}\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <button\n                  type=\"button\"\n                  onClick={performAISearch}\n                  disabled={aiSearching}\n                  className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-3 rounded-xl hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n                >\n                  {aiSearching ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                      <span>AIæ¤œç´¢ä¸­...</span>\n                    </>\n                  ) : (\n                    <>\n                      <Brain className=\"h-4 w-4\" />\n                      <span>AI ãŠã™ã™ã‚é‹é€ä¼šç¤¾ã‚’æ¤œç´¢</span>\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* AIæ¤œç´¢çµæœ */}\n          {showAIResults && aiResults && (\n            <div className=\"card fade-in-up\" style={{animationDelay: '0.6s'}}>\n              <div className=\"flex items-center space-x-3 mb-6\">\n                <div className=\"bg-gradient-to-r from-green-600 to-emerald-500 p-3 rounded-xl\">\n                  <Target className=\"h-6 w-6 text-white\" />\n                </div>\n                <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">AI ãŠã™ã™ã‚é‹é€ä¼šç¤¾</h2>\n              </div>\n\n              {/* AIã‚¤ãƒ³ã‚µã‚¤ãƒˆ */}\n              <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 mb-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div className=\"text-center\">\n                    <div className=\"text-2xl font-bold text-purple-600\">{aiResults.aiInsights.totalMatches}ä»¶</div>\n                    <div className=\"text-sm text-gray-600\">ãƒãƒƒãƒãƒ³ã‚°æ•°</div>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"text-2xl font-bold text-blue-600\">{aiResults.aiInsights.averageMatchScore}%</div>\n                    <div className=\"text-sm text-gray-600\">å¹³å‡ãƒãƒƒãƒãƒ³ã‚°ç‡</div>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"text-sm text-gray-600\">å¸‚å ´å‹•å‘</div>\n                    <div className=\"text-xs text-gray-500 mt-1\">{aiResults.aiInsights.marketTrends}</div>\n                  </div>\n                </div>\n              </div>\n\n              {/* ãŠã™ã™ã‚é‹é€ä¼šç¤¾ä¸€è¦§ */}\n              <div className=\"space-y-4\">\n                {aiResults.carriers.map((carrier, index) => (\n                  <div key={carrier.id} className=\"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow\">\n                    <div className=\"flex items-start justify-between mb-4\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-3 mb-2\">\n                          <span className=\"bg-purple-100 text-purple-800 text-xs font-medium px-2 py-1 rounded-full\">\n                            #{index + 1} ãŠã™ã™ã‚\n                          </span>\n                          <h3 className=\"text-lg font-semibold text-gray-900\">{carrier.companyName}</h3>\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${getMatchScoreColor(carrier.aiMatchScore)}`}>\n                            <Target className=\"h-3 w-3 inline mr-1\" />\n                            ãƒãƒƒãƒãƒ³ã‚°ç‡: {carrier.aiMatchScore}%\n                          </span>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-3\">{carrier.aiRecommendationReason}</p>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-700\">æ‹…å½“è€…</p>\n                        <p className=\"text-sm text-gray-600\">{carrier.contactPerson}</p>\n                        <p className=\"text-sm text-gray-600\">TEL: {carrier.phone}</p>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm text-gray-700\">è©•ä¾¡</span>\n                          <div className=\"flex items-center\">\n                            {renderStars(carrier.rating)}\n                            <span className=\"ml-1 text-sm text-gray-600\">({carrier.rating})</span>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm text-gray-700\">ä¿¡ç”¨ã‚¹ã‚³ã‚¢</span>\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${getCreditScoreColor(carrier.creditScore)}`}>\n                            {carrier.creditScore}ç‚¹\n                          </span>\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm text-gray-700\">ä¿¡é ¼æ€§</span>\n                          <span className=\"text-sm text-gray-600\">{carrier.reliabilityScore}%</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex flex-wrap gap-1 mb-4\">\n                      {carrier.specialties.map((specialty, idx) => (\n                        <span key={idx} className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\n                          {specialty}\n                        </span>\n                      ))}\n                    </div>\n\n                    <div className=\"bg-blue-50 p-4 rounded-lg mb-4\">\n                      <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                        <Brain className=\"h-4 w-4 mr-2\" />\n                        AI äºˆæ¸¬æƒ…å ±\n                      </h4>\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                        <div className=\"flex items-center\">\n                          <Clock className=\"h-4 w-4 mr-2 text-blue-500\" />\n                          <span className=\"text-gray-700\">äºˆæƒ³é…é€æ™‚é–“: {carrier.estimatedDeliveryTime}æ™‚é–“</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <TrendingUp className=\"h-4 w-4 mr-2 text-green-500\" />\n                          <span className=\"text-gray-700\">ã‚³ã‚¹ãƒˆåŠ¹ç‡: {carrier.costEfficiency}%</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Shield className=\"h-4 w-4 mr-2 text-purple-500\" />\n                          <span className=\"text-gray-700\">ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“: {carrier.responseTime}åˆ†</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex justify-end space-x-2\">\n                      <button className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm\">\n                        è©³ç´°ã‚’è¦‹ã‚‹\n                      </button>\n                      <button className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 text-sm\">\n                        AI ãŠã™ã™ã‚ã§ä¾é ¼\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* æ–™é‡‘ãƒ»å‚™è€ƒ */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.7s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-teal-600 to-cyan-500 p-3 rounded-xl\">\n                <DollarSign className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">æ–™é‡‘ãƒ»å‚™è€ƒ</h2>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  å¸Œæœ›é‹è³ƒ (å††) *\n                </label>\n                <input\n                  type=\"number\"\n                  required\n                  min=\"0\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"50000\"\n                  value={formData.price}\n                  onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  å‚™è€ƒãƒ»ç‰¹è¨˜äº‹é …\n                </label>\n                <textarea\n                  rows={3}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"ãã®ä»–ã€ç‰¹åˆ¥ãªè¦æœ›ã‚„æ³¨æ„äº‹é …ãŒã‚ã‚Œã°è¨˜è¼‰ã—ã¦ãã ã•ã„\"\n                  value={formData.notes}\n                  onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* é€ä¿¡ãƒœã‚¿ãƒ³ */}\n          <div className=\"flex flex-col sm:flex-row gap-4 fade-in-up\" style={{animationDelay: '0.8s'}}>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 btn-primary py-4 text-lg disabled:opacity-50\"\n            >\n              {loading ? 'æŠ•ç¨¿ä¸­...' : 'æ¡ˆä»¶ã‚’æŠ•ç¨¿'}\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => router.push('/dashboard')}\n              className=\"flex-1 btn-secondary py-4 text-lg\"\n            >\n              ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n            </button>\n          </div>\n        </form>\n      </main>\n    </div>\n  )\n}\n","size_bytes":31695},"src/app/api/offers/[id]/reject/route.ts":{"content":"import { NextRequest } from 'next/server'\nimport { getUserFromRequest } from '@/lib/auth'\nimport {\n  successResponse,\n  errorResponse,\n  unauthorizedResponse,\n  forbiddenResponse,\n  notFoundResponse,\n} from '@/lib/api-response'\nimport prisma from '@/lib/prisma'\n\nexport const dynamic = 'force-dynamic'\n\n// ã‚ªãƒ•ã‚¡ãƒ¼æ‹’å¦\nexport async function POST(\n  request: NextRequest,\n  { params }: { params: { id: string } }\n) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    // ã‚ªãƒ•ã‚¡ãƒ¼å–å¾—\n    const offer = await prisma.offer.findUnique({\n      where: { id: params.id },\n      include: {\n        shipment: true,\n      },\n    })\n    \n    if (!offer) {\n      return notFoundResponse('ã‚ªãƒ•ã‚¡ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')\n    }\n    \n    // è·ä¸»ã®ã¿ãŒæ‹’å¦å¯èƒ½\n    if (offer.shipment.shipperId !== user.userId) {\n      return forbiddenResponse('ã“ã®ã‚ªãƒ•ã‚¡ãƒ¼ã‚’æ‹’å¦ã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“')\n    }\n    \n    // ã‚ªãƒ•ã‚¡ãƒ¼ã‚’æ‹’å¦\n    const updatedOffer = await prisma.offer.update({\n      where: { id: params.id },\n      data: { status: 'REJECTED' },\n    })\n    \n    return successResponse(updatedOffer)\n  } catch (error) {\n    console.error('Reject offer error:', error)\n    return errorResponse('ã‚ªãƒ•ã‚¡ãƒ¼ã®æ‹’å¦ã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n","size_bytes":1357},"src/app/profile/page.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Navbar from '@/components/Navbar'\nimport { User, Building2, Phone, Mail, MapPin, Edit, Save, X } from 'lucide-react'\n\nexport default function ProfilePage() {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [isEditing, setIsEditing] = useState(false)\n  const [formData, setFormData] = useState({\n    companyName: '',\n    contactPerson: '',\n    phone: '',\n    postalCode: '',\n    address: '',\n  })\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    const userData = localStorage.getItem('user')\n\n    if (!token || !userData) {\n      router.push('/login')\n      return\n    }\n\n    const userObj = JSON.parse(userData)\n    setUser(userObj)\n    setFormData({\n      companyName: userObj.companyName || '',\n      contactPerson: userObj.contactPerson || '',\n      phone: userObj.phone || '',\n      postalCode: userObj.postalCode || '',\n      address: userObj.address || '',\n    })\n    setLoading(false)\n  }, [])\n\n  const handleSave = async () => {\n    setSaving(true)\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/auth/me', {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(formData),\n      })\n\n      if (!response.ok) throw new Error('æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ')\n\n      const updatedUser = { ...user, ...formData }\n      setUser(updatedUser)\n      localStorage.setItem('user', JSON.stringify(updatedUser))\n      setIsEditing(false)\n    } catch (error) {\n      console.error('Error updating profile:', error)\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleCancel = () => {\n    setFormData({\n      companyName: user?.companyName || '',\n      contactPerson: user?.contactPerson || '',\n      phone: user?.phone || '',\n      postalCode: user?.postalCode || '',\n      address: user?.address || '',\n    })\n    setIsEditing(false)\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen\">\n        <Navbar userType={user?.userType} />\n        <div className=\"flex items-center justify-center h-96\">\n          <div className=\"text-gray-600 text-lg\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      <Navbar userType={user?.userType} />\n\n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n        <div className=\"mb-6 sm:mb-8\">\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900\">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h1>\n          <p className=\"text-gray-600 mt-2 text-sm sm:text-base\">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’ç®¡ç†ã§ãã¾ã™</p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ± */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">åŸºæœ¬æƒ…å ±</h2>\n                {!isEditing ? (\n                  <button\n                    onClick={() => setIsEditing(true)}\n                    className=\"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition\"\n                  >\n                    <Edit className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n                    <span className=\"text-sm sm:text-base\">ç·¨é›†</span>\n                  </button>\n                ) : (\n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={handleSave}\n                      disabled={saving}\n                      className=\"flex items-center space-x-1 bg-blue-600 text-white px-3 py-1 rounded-lg hover:bg-blue-700 transition text-sm disabled:opacity-50\"\n                    >\n                      <Save className=\"h-4 w-4\" />\n                      <span>{saving ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜'}</span>\n                    </button>\n                    <button\n                      onClick={handleCancel}\n                      className=\"flex items-center space-x-1 bg-gray-500 text-white px-3 py-1 rounded-lg hover:bg-gray-600 transition text-sm\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                      <span>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"space-y-4 sm:space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    <Building2 className=\"inline h-4 w-4 mr-2\" />\n                    ä¼šç¤¾å\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      value={formData.companyName}\n                      onChange={(e) => setFormData({ ...formData, companyName: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 text-sm sm:text-base\">{user?.companyName || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    <User className=\"inline h-4 w-4 mr-2\" />\n                    æ‹…å½“è€…å\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      value={formData.contactPerson}\n                      onChange={(e) => setFormData({ ...formData, contactPerson: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 text-sm sm:text-base\">{user?.contactPerson || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    <Phone className=\"inline h-4 w-4 mr-2\" />\n                    é›»è©±ç•ªå·\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"tel\"\n                      value={formData.phone}\n                      onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 text-sm sm:text-base\">{user?.phone || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    <Mail className=\"inline h-4 w-4 mr-2\" />\n                    ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹\n                  </label>\n                  <p className=\"text-gray-900 text-sm sm:text-base\">{user?.email}</p>\n                  <p className=\"text-xs text-gray-500 mt-1\">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¤‰æ›´ã§ãã¾ã›ã‚“</p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    <MapPin className=\"inline h-4 w-4 mr-2\" />\n                    éƒµä¾¿ç•ªå·\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      value={formData.postalCode}\n                      onChange={(e) => setFormData({ ...formData, postalCode: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                      placeholder=\"ä¾‹: 1000001\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 text-sm sm:text-base\">{user?.postalCode || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    <MapPin className=\"inline h-4 w-4 mr-2\" />\n                    ä½æ‰€\n                  </label>\n                  {isEditing ? (\n                    <textarea\n                      value={formData.address}\n                      onChange={(e) => setFormData({ ...formData, address: e.target.value })}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                      placeholder=\"ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                    />\n                  ) : (\n                    <p className=\"text-gray-900 text-sm sm:text-base\">{user?.address || 'æœªè¨­å®š'}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"card\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¨®åˆ¥</span>\n                  <span className=\"text-sm font-semibold text-blue-600\">\n                    {user?.userType === 'SHIPPER' ? 'è·ä¸»' : 'é‹é€ä¼šç¤¾'}\n                  </span>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">ç™»éŒ²æ—¥</span>\n                  <span className=\"text-sm text-gray-900\">\n                    {user?.createdAt ? new Date(user.createdAt).toLocaleDateString('ja-JP') : 'ä¸æ˜'}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card mt-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š</h3>\n              <div className=\"space-y-3\">\n                <button className=\"w-full text-left text-sm text-blue-600 hover:text-blue-700 transition\">\n                  ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´\n                </button>\n                <button className=\"w-full text-left text-sm text-blue-600 hover:text-blue-700 transition\">\n                  é€šçŸ¥è¨­å®š\n                </button>\n                <button className=\"w-full text-left text-sm text-red-600 hover:text-red-700 transition\">\n                  ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n","size_bytes":11199},"src/app/login/page.tsx":{"content":"'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport Logo from '@/components/Logo'\n\nexport default function LoginPage() {\n  const router = useRouter()\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  })\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || 'ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ')\n      }\n\n      // ãƒˆãƒ¼ã‚¯ãƒ³ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜\n      localStorage.setItem('token', data.data.token)\n      localStorage.setItem('user', JSON.stringify(data.data.user))\n\n      // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\n      router.push('/dashboard')\n    } catch (err: any) {\n      setError(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen gradient-bg flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full\">\n        {/* ã‚¿ã‚¤ãƒˆãƒ« */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-slate-800 mb-2\">\n            ãƒ­ã‚°ã‚¤ãƒ³\n          </h1>\n          <p className=\"text-slate-600\">\n            ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„\n          </p>\n        </div>\n\n        {/* ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ  */}\n        <div className=\"floating-card\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm\">\n                {error}\n              </div>\n            )}\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                required\n                className=\"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                placeholder=\"email@example.com\"\n                value={formData.email}\n                onChange={(e) =>\n                  setFormData({ ...formData, email: e.target.value })\n                }\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                className=\"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                placeholder=\"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰\"\n                value={formData.password}\n                onChange={(e) =>\n                  setFormData({ ...formData, password: e.target.value })\n                }\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full btn-primary py-3 text-lg disabled:opacity-50\"\n            >\n              {loading ? 'ãƒ­ã‚°ã‚¤ãƒ³ä¸­...' : 'ãƒ­ã‚°ã‚¤ãƒ³'}\n            </button>\n\n            <div className=\"text-center\">\n              <span className=\"text-slate-600\">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹ã¯ </span>\n              <Link href=\"/register\" className=\"text-blue-600 hover:text-blue-700 font-semibold hover:scale-105 transition-transform\">\n                æ–°è¦ç™»éŒ²\n              </Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n}","size_bytes":4206},"src/app/globals.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --foreground-rgb: 15, 23, 42;\n  --background-start: #f8fafc;\n  --background-end: #e2e8f0;\n  --primary-blue: #0ea5e9;\n  --primary-blue-dark: #0284c7;\n  --accent-blue: #38bdf8;\n  --light-blue: #e0f2fe;\n  --gradient-primary: linear-gradient(135deg, #0ea5e9 0%, #38bdf8 50%, #7dd3fc 100%);\n  --gradient-secondary: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  --gradient-hero: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);\n}\n\nbody {\n  color: rgb(var(--foreground-rgb));\n  background: var(--gradient-secondary);\n  min-height: 100vh;\n  overflow-x: hidden;\n  font-feature-settings: \"rlig\" 1, \"calt\" 1;\n}\n\n@layer utilities {\n  .text-balance {\n    text-wrap: balance;\n  }\n  \n  .gradient-text {\n    background: var(--gradient-primary);\n    background-clip: text;\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    animation: shimmer 3s ease-in-out infinite;\n    background-size: 200% 200%;\n  }\n  \n  .floating {\n    animation: floating 6s ease-in-out infinite;\n  }\n  \n  .slide-in-left {\n    animation: slideInLeft 0.8s ease-out;\n  }\n  \n  .slide-in-right {\n    animation: slideInRight 0.8s ease-out;\n  }\n  \n  .fade-in-up {\n    animation: fadeInUp 1s ease-out;\n  }\n  \n  .slide-in-up {\n    animation: slideInUp 0.8s ease-out;\n  }\n  \n  .scale-in {\n    animation: scaleIn 0.6s ease-out;\n  }\n  \n  .rotate-in {\n    animation: rotateIn 1s ease-out;\n  }\n  \n  .pulse-slow {\n    animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n  }\n  \n  .bounce {\n    animation: bounce 1s ease-in-out infinite;\n  }\n  \n  .shake {\n    animation: shake 0.5s ease-in-out;\n  }\n  \n  .flip {\n    animation: flip 1s ease-in-out;\n  }\n  \n  .zoom-in {\n    animation: zoomIn 0.5s ease-out;\n  }\n  \n  .zoom-out {\n    animation: zoomOut 0.5s ease-out;\n  }\n  \n  .glow-pulse {\n    animation: glowPulse 2s ease-in-out infinite;\n  }\n  \n  .wiggle {\n    animation: wiggle 0.5s ease-in-out;\n  }\n  \n  .heartbeat {\n    animation: heartbeat 1.5s ease-in-out infinite;\n  }\n  \n  .slide-in-down {\n    animation: slideInDown 0.8s ease-out;\n  }\n  \n  .fade-in {\n    animation: fadeIn 1s ease-out;\n  }\n  \n  .spin-slow {\n    animation: spinSlow 3s linear infinite;\n  }\n  \n  /* ã‚¹ã‚¿ãƒƒã‚¬ãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ */\n  .stagger-1 {\n    animation-delay: 0.1s;\n  }\n  \n  .stagger-2 {\n    animation-delay: 0.2s;\n  }\n  \n  .stagger-3 {\n    animation-delay: 0.3s;\n  }\n  \n  .stagger-4 {\n    animation-delay: 0.4s;\n  }\n  \n  .stagger-5 {\n    animation-delay: 0.5s;\n  }\n}\n\n@layer components {\n  .card {\n    @apply bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl p-8 hover:shadow-2xl transition-all duration-500 hover:scale-105 border border-white/20;\n    background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.8) 100%);\n  }\n  \n  .btn-primary {\n    background: var(--gradient-primary);\n    @apply text-white px-8 py-4 rounded-2xl font-semibold transition-all duration-500 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95;\n    position: relative;\n    overflow: hidden;\n  }\n  \n  .btn-primary::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n    transition: left 0.5s;\n  }\n  \n  .btn-primary:hover::before {\n    left: 100%;\n  }\n  \n  .btn-secondary {\n    @apply bg-white/90 backdrop-blur-sm text-blue-600 border-2 border-blue-500/30 px-8 py-4 rounded-2xl font-semibold transition-all duration-500 hover:bg-blue-50/80 hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl;\n  }\n  \n  .hero-gradient {\n    background: var(--gradient-hero);\n    background-size: 400% 400%;\n    animation: gradientShift 8s ease infinite;\n  }\n  \n  .glass {\n    @apply bg-white/10 backdrop-blur-xl border border-white/20;\n    background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);\n  }\n  \n  .gradient-bg {\n    background: var(--gradient-secondary);\n  }\n  \n  .floating-card {\n    @apply card;\n    animation: floatingCard 6s ease-in-out infinite;\n  }\n  \n  .glow-effect {\n    box-shadow: 0 0 20px rgba(14, 165, 233, 0.3);\n  }\n  \n  .text-glow {\n    text-shadow: 0 0 10px rgba(14, 165, 233, 0.5);\n  }\n}\n\n@keyframes shimmer {\n  0% { background-position: -200% center; }\n  100% { background-position: 200% center; }\n}\n\n@keyframes floating {\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-20px); }\n}\n\n@keyframes slideInLeft {\n  0% { transform: translateX(-100%); opacity: 0; }\n  100% { transform: translateX(0); opacity: 1; }\n}\n\n@keyframes slideInRight {\n  0% { transform: translateX(100%); opacity: 0; }\n  100% { transform: translateX(0); opacity: 1; }\n}\n\n@keyframes fadeInUp {\n  0% { transform: translateY(30px); opacity: 0; }\n  100% { transform: translateY(0); opacity: 1; }\n}\n\n@keyframes gradientShift {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n}\n\n@keyframes floatingCard {\n  0%, 100% { \n    transform: translateY(0px) rotate(0deg); \n  }\n  25% { \n    transform: translateY(-10px) rotate(0.5deg); \n  }\n  50% { \n    transform: translateY(-20px) rotate(0deg); \n  }\n  75% { \n    transform: translateY(-10px) rotate(-0.5deg); \n  }\n}\n\n@keyframes slideInUp {\n  0% { \n    transform: translateY(50px); \n    opacity: 0; \n  }\n  100% { \n    transform: translateY(0); \n    opacity: 1; \n  }\n}\n\n@keyframes scaleIn {\n  0% { \n    transform: scale(0.8); \n    opacity: 0; \n  }\n  100% { \n    transform: scale(1); \n    opacity: 1; \n  }\n}\n\n@keyframes rotateIn {\n  0% { \n    transform: rotate(-180deg) scale(0.5); \n    opacity: 0; \n  }\n  100% { \n    transform: rotate(0deg) scale(1); \n    opacity: 1; \n  }\n}\n\n@keyframes bounce {\n  0%, 100% { \n    transform: translateY(0); \n  }\n  50% { \n    transform: translateY(-25px); \n  }\n}\n\n@keyframes shake {\n  0%, 100% { \n    transform: translateX(0); \n  }\n  10%, 30%, 50%, 70%, 90% { \n    transform: translateX(-10px); \n  }\n  20%, 40%, 60%, 80% { \n    transform: translateX(10px); \n  }\n}\n\n@keyframes flip {\n  0% {\n    transform: perspective(400px) rotateY(0);\n  }\n  100% {\n    transform: perspective(400px) rotateY(360deg);\n  }\n}\n\n@keyframes zoomIn {\n  0% {\n    transform: scale(0);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes zoomOut {\n  0% {\n    transform: scale(1.2);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes glowPulse {\n  0%, 100% {\n    box-shadow: 0 0 20px rgba(14, 165, 233, 0.4), 0 0 40px rgba(14, 165, 233, 0.2);\n  }\n  50% {\n    box-shadow: 0 0 40px rgba(14, 165, 233, 0.8), 0 0 80px rgba(14, 165, 233, 0.4);\n  }\n}\n\n@keyframes wiggle {\n  0%, 100% { \n    transform: rotate(0deg); \n  }\n  25% { \n    transform: rotate(-5deg); \n  }\n  75% { \n    transform: rotate(5deg); \n  }\n}\n\n@keyframes heartbeat {\n  0%, 100% {\n    transform: scale(1);\n  }\n  10%, 30% {\n    transform: scale(0.9);\n  }\n  20%, 40% {\n    transform: scale(1.1);\n  }\n}\n\n@keyframes slideInDown {\n  0% {\n    transform: translateY(-100%);\n    opacity: 0;\n  }\n  100% {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes ripple {\n  0% {\n    transform: scale(0);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(4);\n    opacity: 0;\n  }\n}\n\n@keyframes spinSlow {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n/* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é…å»¶ã‚¯ãƒ©ã‚¹ */\n.animation-delay-100 {\n  animation-delay: 0.1s;\n}\n\n.animation-delay-200 {\n  animation-delay: 0.2s;\n}\n\n.animation-delay-300 {\n  animation-delay: 0.3s;\n}\n\n.animation-delay-500 {\n  animation-delay: 0.5s;\n}\n\n.animation-delay-1000 {\n  animation-delay: 1s;\n}\n\n.animation-delay-2000 {\n  animation-delay: 2s;\n}\n\n.animation-delay-4000 {\n  animation-delay: 4s;\n}\n\n/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */\n@media (max-width: 768px) {\n  .card {\n    @apply p-4;\n  }\n\n  .btn-primary, .btn-secondary {\n    @apply px-4 py-2 text-sm;\n  }\n\n  /* ãƒ¢ãƒã‚¤ãƒ«ã§ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è»½æ¸› */\n  .floating {\n    animation: none;\n  }\n\n  .pulse-slow {\n    animation: none;\n  }\n}\n\n/* 430Ã—932 ã‚µã‚¤ã‚ºæœ€é©åŒ– */\n@media (max-width: 430px) {\n  /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºèª¿æ•´ */\n  .text-4xl {\n    font-size: 1.75rem;\n  }\n\n  .text-5xl {\n    font-size: 2rem;\n  }\n\n  .text-6xl {\n    font-size: 2.25rem;\n  }\n\n  .text-7xl {\n    font-size: 2.5rem;\n  }\n\n  .text-3xl {\n    font-size: 1.5rem;\n  }\n\n  .text-2xl {\n    font-size: 1.25rem;\n  }\n\n  .text-xl {\n    font-size: 1.125rem;\n  }\n\n  .text-lg {\n    font-size: 1rem;\n  }\n\n  /* ã‚«ãƒ¼ãƒ‰ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èª¿æ•´ */\n  .card {\n    @apply p-3;\n  }\n\n  /* ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚ºèª¿æ•´ */\n  .btn-primary, .btn-secondary {\n    @apply px-3 py-2 text-sm;\n  }\n\n  /* ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°èª¿æ•´ */\n  .space-x-6 > :not([hidden]) ~ :not([hidden]) {\n    margin-left: 1rem;\n  }\n\n  .space-x-4 > :not([hidden]) ~ :not([hidden]) {\n    margin-left: 0.75rem;\n  }\n\n  /* ã‚°ãƒªãƒƒãƒ‰èª¿æ•´ */\n  .grid-cols-1 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n\n  /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³èª¿æ•´ */\n  nav .flex {\n    @apply flex-col space-y-2 space-x-0;\n  }\n\n  /* ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³èª¿æ•´ */\n  .hero-gradient {\n    min-height: 60vh;\n  }\n\n  /* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ã®èª¿æ•´ */\n  .stats-grid {\n    @apply grid-cols-1 gap-4;\n  }\n\n  /* ãƒ•ãƒƒã‚¿ãƒ¼èª¿æ•´ */\n  footer .flex {\n    @apply flex-col space-y-2 space-x-0;\n  }\n}\n\n@media (max-width: 640px) {\n  .text-4xl {\n    font-size: 2rem;\n  }\n\n  .text-5xl {\n    font-size: 2.5rem;\n  }\n\n  .text-6xl {\n    font-size: 3rem;\n  }\n\n  .text-7xl {\n    font-size: 3.5rem;\n  }\n}\n\n","size_bytes":9690},"src/app/api/vehicles/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server'\nimport { prisma } from '@/lib/prisma'\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url)\n    \n    // æ¤œç´¢ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—\n    const vehicleType = searchParams.get('vehicleType') || ''\n    const prefecture = searchParams.get('prefecture') || ''\n    const status = searchParams.get('status') || 'AVAILABLE'\n    const page = parseInt(searchParams.get('page') || '1')\n    const limit = parseInt(searchParams.get('limit') || '20')\n    const offset = (page - 1) * limit\n\n    // æ¤œç´¢æ¡ä»¶ã‚’æ§‹ç¯‰\n    const where: any = {}\n\n    // è»Šä¸¡ã‚¿ã‚¤ãƒ—\n    if (vehicleType) {\n      where.vehicleType = vehicleType\n    }\n\n    // éƒ½é“åºœçœŒï¼ˆJSONé…åˆ—å†…ã‚’æ¤œç´¢ï¼‰\n    if (prefecture) {\n      where.availablePrefectures = {\n        contains: prefecture\n      }\n    }\n\n    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n    if (status) {\n      where.status = status\n    }\n\n    // ç¾åœ¨æ—¥æ™‚ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆåˆ©ç”¨å¯èƒ½ãªæœŸé–“å†…ï¼‰\n    const now = new Date()\n    where.availableFrom = {\n      lte: now\n    }\n    where.availableTo = {\n      gte: now\n    }\n\n    // è»Šä¸¡ã‚’æ¤œç´¢\n    const [vehicles, totalCount] = await Promise.all([\n      prisma.vehicle.findMany({\n        where,\n        include: {\n          carrier: {\n            select: {\n              id: true,\n              companyName: true,\n              contactPerson: true,\n              phone: true,\n              email: true\n            }\n          }\n        },\n        orderBy: { createdAt: 'desc' },\n        skip: offset,\n        take: limit\n      }),\n      prisma.vehicle.count({ where })\n    ])\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        vehicles,\n        pagination: {\n          page,\n          limit,\n          totalCount,\n          totalPages: Math.ceil(totalCount / limit)\n        }\n      }\n    })\n  } catch (error) {\n    console.error('Error fetching vehicles:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch vehicles' },\n      { status: 500 }\n    )\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json()\n    const token = request.headers.get('authorization')?.replace('Bearer ', '')\n    \n    if (!token) {\n      return NextResponse.json(\n        { success: false, error: 'Authorization token required' },\n        { status: 401 }\n      )\n    }\n\n    // ãƒˆãƒ¼ã‚¯ãƒ³ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ï¼ˆç°¡æ˜“å®Ÿè£…ï¼‰\n    // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€JWTãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¤œè¨¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™\n    const user = await prisma.user.findFirst({\n      where: { userType: 'CARRIER' }\n    })\n\n    if (!user) {\n      return NextResponse.json(\n        { success: false, error: 'User not found' },\n        { status: 404 }\n      )\n    }\n\n    // éƒ½é“åºœçœŒé…åˆ—ã‚’JSONæ–‡å­—åˆ—ã«å¤‰æ›\n    const availablePrefectures = JSON.stringify(body.availablePrefectures || [])\n\n    // è»Šä¸¡ã‚’ä½œæˆ\n    const vehicle = await prisma.vehicle.create({\n      data: {\n        carrierId: user.id,\n        vehicleType: body.vehicleType,\n        vehicleNumber: body.vehicleNumber,\n        driverName: body.driverName,\n        driverPhone: body.driverPhone,\n        maxWeight: parseFloat(body.maxWeight),\n        maxVolume: body.maxVolume ? parseFloat(body.maxVolume) : null,\n        length: body.length ? parseFloat(body.length) : null,\n        width: body.width ? parseFloat(body.width) : null,\n        height: body.height ? parseFloat(body.height) : null,\n        hasLiftGate: body.hasLiftGate || false,\n        hasRefrigeration: body.hasRefrigeration || false,\n        hasTemperatureControl: body.hasTemperatureControl || false,\n        canLoadUnload: body.canLoadUnload !== false,\n        availablePrefectures,\n        availableFrom: new Date(body.availableFrom),\n        availableTo: new Date(body.availableTo),\n        basePrice: body.basePrice ? parseFloat(body.basePrice) : null,\n        minPrice: body.minPrice ? parseFloat(body.minPrice) : null,\n        status: body.status || 'AVAILABLE',\n        notes: body.notes || null\n      },\n      include: {\n        carrier: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n            phone: true,\n            email: true\n          }\n        }\n      }\n    })\n\n    return NextResponse.json({\n      success: true,\n      data: vehicle\n    })\n  } catch (error) {\n    console.error('Error creating vehicle:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to create vehicle' },\n      { status: 500 }\n    )\n  }\n}\n","size_bytes":4626},"src/app/api/user/my-posts/[id]/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server';\nimport prisma from '@/lib/prisma';\nimport { getUserFromRequest } from '@/lib/auth';\n\nexport async function DELETE(\n  request: NextRequest,\n  { params }: { params: { id: string } }\n) {\n  try {\n    const user = getUserFromRequest(request);\n\n    if (!user) {\n      return NextResponse.json({ success: false, message: 'Unauthorized' }, { status: 401 });\n    }\n\n    const { id } = params;\n\n    // è·ç‰©ã‹ç©ºè»Šã‹ã‚’åˆ¤å®šã—ã¦å‰Šé™¤\n    const shipment = await prisma.shipment.findFirst({\n      where: { id, shipperId: user.userId }\n    });\n\n    if (shipment) {\n      await prisma.shipment.delete({\n        where: { id }\n      });\n    } else {\n      const vehicle = await prisma.vehicle.findFirst({\n        where: { id, carrierId: user.userId }\n      });\n\n      if (vehicle) {\n        await prisma.vehicle.delete({\n          where: { id }\n        });\n      } else {\n        return NextResponse.json({ success: false, message: 'Post not found' }, { status: 404 });\n      }\n    }\n\n    return NextResponse.json({ success: true, message: 'Post deleted successfully' });\n  } catch (error) {\n    console.error('Error deleting post:', error);\n    return NextResponse.json({ \n      success: false, \n      message: 'Failed to delete post', \n      error: error instanceof Error ? error.message : 'Unknown error'\n    }, { status: 500 });\n  }\n}\n","size_bytes":1388},"src/app/api/offers/[id]/accept/route.ts":{"content":"import { NextRequest } from 'next/server'\nimport { getUserFromRequest } from '@/lib/auth'\nimport {\n  successResponse,\n  errorResponse,\n  unauthorizedResponse,\n  forbiddenResponse,\n  notFoundResponse,\n} from '@/lib/api-response'\nimport prisma from '@/lib/prisma'\n\nexport const dynamic = 'force-dynamic'\n\n// ã‚ªãƒ•ã‚¡ãƒ¼æ‰¿èª\nexport async function POST(\n  request: NextRequest,\n  { params }: { params: { id: string } }\n) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    // ã‚ªãƒ•ã‚¡ãƒ¼å–å¾—\n    const offer = await prisma.offer.findUnique({\n      where: { id: params.id },\n      include: {\n        shipment: true,\n      },\n    })\n    \n    if (!offer) {\n      return notFoundResponse('ã‚ªãƒ•ã‚¡ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')\n    }\n    \n    // è·ä¸»ã®ã¿ãŒæ‰¿èªå¯èƒ½\n    if (offer.shipment.shipperId !== user.userId) {\n      return forbiddenResponse('ã“ã®ã‚ªãƒ•ã‚¡ãƒ¼ã‚’æ‰¿èªã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“')\n    }\n    \n    // ã‚ªãƒ•ã‚¡ãƒ¼ã‚’æ‰¿èªã—ã¦ãƒãƒƒãƒãƒ³ã‚°\n    const [updatedOffer, updatedShipment] = await prisma.$transaction([\n      // ã‚ªãƒ•ã‚¡ãƒ¼ã‚’æ‰¿èª\n      prisma.offer.update({\n        where: { id: params.id },\n        data: { status: 'ACCEPTED' },\n      }),\n      // é…é€æ¡ˆä»¶ã‚’ãƒãƒƒãƒãƒ³ã‚°æ¸ˆã¿ã«æ›´æ–°\n      prisma.shipment.update({\n        where: { id: offer.shipmentId },\n        data: {\n          status: 'MATCHED',\n          carrierId: offer.carrierId,\n        },\n      }),\n      // ä»–ã®ã‚ªãƒ•ã‚¡ãƒ¼ã‚’æ‹’å¦\n      prisma.offer.updateMany({\n        where: {\n          shipmentId: offer.shipmentId,\n          id: { not: params.id },\n          status: 'PENDING',\n        },\n        data: { status: 'REJECTED' },\n      }),\n    ])\n    \n    return successResponse({\n      offer: updatedOffer,\n      shipment: updatedShipment,\n    })\n  } catch (error) {\n    console.error('Accept offer error:', error)\n    return errorResponse('ã‚ªãƒ•ã‚¡ãƒ¼ã®æ‰¿èªã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n","size_bytes":2004},"prisma/migrations/migration_lock.toml":{"content":"# Please do not edit this file manually\n# It should be added in your version-control system (i.e. Git)\nprovider = \"sqlite\"","size_bytes":122},"src/app/dashboard/company-search/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Building2, \n  Search, \n  MapPin, \n  Phone, \n  Mail, \n  User, \n  Star,\n  Filter,\n  Plus,\n  Eye,\n  MessageCircle,\n  Truck,\n  Package,\n  Calendar,\n  CheckCircle\n} from 'lucide-react'\n\ninterface Company {\n  id: string\n  companyName: string\n  contactPerson: string\n  email: string\n  phone: string\n  address: string\n  postalCode: string\n  userType: 'SHIPPER' | 'CARRIER'\n  rating: number\n  totalShipments: number\n  completedShipments: number\n  joinedDate: string\n  description?: string\n  specialties?: string[]\n}\n\nexport default function CompanySearchPage() {\n  const [companies, setCompanies] = useState<Company[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [userTypeFilter, setUserTypeFilter] = useState<'all' | 'SHIPPER' | 'CARRIER'>('all')\n  const [ratingFilter, setRatingFilter] = useState<'all' | '4+' | '3+' | '2+'>('all')\n\n  useEffect(() => {\n    loadCompanies()\n  }, [])\n\n  const loadCompanies = async () => {\n    try {\n      // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n      const sampleCompanies: Company[] = [\n        {\n          id: '1',\n          companyName: 'æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯',\n          contactPerson: 'ç”°ä¸­å¤ªéƒ',\n          email: 'tanaka@translogic.co.jp',\n          phone: '03-1234-5678',\n          address: 'æ±äº¬éƒ½æ¸¯åŒºå…­æœ¬æœ¨1-1-1',\n          postalCode: '106-0032',\n          userType: 'CARRIER',\n          rating: 4.8,\n          totalShipments: 156,\n          completedShipments: 148,\n          joinedDate: '2023-01-15',\n          description: 'é–¢æ±åœã‚’ä¸­å¿ƒã¨ã—ãŸç‰©æµã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã€‚å†·å‡ãƒ»å†·è”µè¼¸é€ã«å¼·ã¿ãŒã‚ã‚Šã¾ã™ã€‚',\n          specialties: ['å†·å‡è¼¸é€', 'é–¢æ±åœ', 'æ€¥ä¾¿å¯¾å¿œ']\n        },\n        {\n          id: '2',\n          companyName: 'å±±ç”°é‹é€æ ªå¼ä¼šç¤¾',\n          contactPerson: 'å±±ç”°èŠ±å­',\n          email: 'yamada@yamada-transport.co.jp',\n          phone: '06-9876-5432',\n          address: 'å¤§é˜ªåºœå¤§é˜ªå¸‚åŒ—åŒºæ¢…ç”°2-2-2',\n          postalCode: '530-0001',\n          userType: 'CARRIER',\n          rating: 4.5,\n          totalShipments: 89,\n          completedShipments: 85,\n          joinedDate: '2023-03-20',\n          description: 'é–¢è¥¿åœã®ä¸€èˆ¬è²¨ç‰©è¼¸é€ã‚’å°‚é–€ã¨ã—ã¦ã„ã¾ã™ã€‚',\n          specialties: ['ä¸€èˆ¬è²¨ç‰©', 'é–¢è¥¿åœ', 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯']\n        },\n        {\n          id: '3',\n          companyName: 'æ ªå¼ä¼šç¤¾ã‚°ãƒªãƒ¼ãƒ³ãƒ­ã‚¸ã‚¹ãƒ†ã‚£ã‚¯ã‚¹',\n          contactPerson: 'ä½è—¤æ¬¡éƒ',\n          email: 'sato@greenlogistics.co.jp',\n          phone: '052-1111-2222',\n          address: 'æ„›çŸ¥çœŒåå¤å±‹å¸‚ä¸­åŒºæ „3-3-3',\n          postalCode: '460-0008',\n          userType: 'SHIPPER',\n          rating: 4.2,\n          totalShipments: 234,\n          completedShipments: 220,\n          joinedDate: '2022-11-10',\n          description: 'ç’°å¢ƒã«é…æ…®ã—ãŸç‰©æµã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã€‚',\n          specialties: ['ã‚¨ã‚³ç‰©æµ', 'ä¸­éƒ¨åœ', 'BtoB']\n        },\n        {\n          id: '4',\n          companyName: 'ã‚¹ãƒ”ãƒ¼ãƒ‰ç‰©æµæ ªå¼ä¼šç¤¾',\n          contactPerson: 'éˆ´æœ¨ä¸€éƒ',\n          email: 'suzuki@speedlogistics.co.jp',\n          phone: '092-3333-4444',\n          address: 'ç¦å²¡çœŒç¦å²¡å¸‚åšå¤šåŒºåšå¤šé§…å‰4-4-4',\n          postalCode: '812-0011',\n          userType: 'CARRIER',\n          rating: 4.7,\n          totalShipments: 312,\n          completedShipments: 298,\n          joinedDate: '2022-08-05',\n          description: 'ä¹å·å…¨åŸŸã®é«˜é€Ÿè¼¸é€ã‚µãƒ¼ãƒ“ã‚¹ã€‚24æ™‚é–“å¯¾å¿œå¯èƒ½ã€‚',\n          specialties: ['é«˜é€Ÿè¼¸é€', 'ä¹å·åœ', '24æ™‚é–“å¯¾å¿œ']\n        }\n      ]\n      \n      setCompanies(sampleCompanies)\n    } catch (error) {\n      console.error('Error loading companies:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const filteredCompanies = companies.filter(company => {\n    const matchesSearch = searchTerm === '' || \n      company.companyName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      company.contactPerson.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      company.description?.toLowerCase().includes(searchTerm.toLowerCase())\n    \n    const matchesUserType = userTypeFilter === 'all' || company.userType === userTypeFilter\n    \n    const matchesRating = ratingFilter === 'all' || \n      (ratingFilter === '4+' && company.rating >= 4) ||\n      (ratingFilter === '3+' && company.rating >= 3) ||\n      (ratingFilter === '2+' && company.rating >= 2)\n    \n    return matchesSearch && matchesUserType && matchesRating\n  })\n\n  const renderStars = (rating: number) => {\n    return Array.from({ length: 5 }, (_, i) => (\n      <Star\n        key={i}\n        className={`h-4 w-4 ${\n          i < Math.floor(rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'\n        }`}\n      />\n    ))\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">ä¼æ¥­æ¤œç´¢</h1>\n        <p className=\"text-gray-600\">å–å¼•å…ˆä¼æ¥­ã‚’æ¤œç´¢ã—ã¦é€£çµ¡å…ˆã‚’ç¢ºèªã§ãã¾ã™</p>\n      </div>\n\n      {/* æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */}\n      <div className=\"bg-white rounded-lg shadow-sm border mb-6\">\n        <div className=\"p-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"ä¼šç¤¾åã€æ‹…å½“è€…åã§æ¤œç´¢...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <div>\n              <div className=\"flex items-center space-x-2\">\n                <Filter className=\"h-4 w-4 text-gray-500\" />\n                <select\n                  value={userTypeFilter}\n                  onChange={(e) => setUserTypeFilter(e.target.value as any)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"all\">ã™ã¹ã¦ã®ä¼æ¥­</option>\n                  <option value=\"SHIPPER\">è·ä¸»ä¼æ¥­</option>\n                  <option value=\"CARRIER\">é‹é€æ¥­è€…</option>\n                </select>\n              </div>\n            </div>\n            <div>\n              <select\n                value={ratingFilter}\n                onChange={(e) => setRatingFilter(e.target.value as any)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"all\">ã™ã¹ã¦ã®è©•ä¾¡</option>\n                <option value=\"4+\">4.0ä»¥ä¸Š</option>\n                <option value=\"3+\">3.0ä»¥ä¸Š</option>\n                <option value=\"2+\">2.0ä»¥ä¸Š</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* ä¼æ¥­ä¸€è¦§ */}\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            ä¼æ¥­ä¸€è¦§ ({filteredCompanies.length}ä»¶)\n          </h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : filteredCompanies.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Building2 className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹ä¼æ¥­ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredCompanies.map((company) => (\n              <div key={company.id} className=\"p-6 hover:bg-gray-50\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-3 mb-2\">\n                      <h3 className=\"text-lg font-medium text-gray-900\">\n                        {company.companyName}\n                      </h3>\n                      <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                        company.userType === 'SHIPPER' \n                          ? 'bg-blue-100 text-blue-800' \n                          : 'bg-green-100 text-green-800'\n                      }`}>\n                        {company.userType === 'SHIPPER' ? 'è·ä¸»ä¼æ¥­' : 'é‹é€æ¥­è€…'}\n                      </span>\n                    </div>\n                    \n                    {company.description && (\n                      <p className=\"text-sm text-gray-600 mb-3\">{company.description}</p>\n                    )}\n\n                    {/* è©•ä¾¡ã¨å®Ÿç¸¾ */}\n                    <div className=\"flex items-center space-x-4 mb-3\">\n                      <div className=\"flex items-center space-x-1\">\n                        {renderStars(company.rating)}\n                        <span className=\"text-sm text-gray-600 ml-1\">({company.rating})</span>\n                      </div>\n                      <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\n                        <span className=\"flex items-center\">\n                          <Package className=\"h-4 w-4 mr-1\" />\n                          ç·è·ç‰©æ•°: {company.totalShipments}\n                        </span>\n                        <span className=\"flex items-center\">\n                          <CheckCircle className=\"h-4 w-4 mr-1\" />\n                          å®Œäº†: {company.completedShipments}\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* é€£çµ¡å…ˆæƒ…å ± */}\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700 mb-3\">\n                      <div className=\"flex items-center\">\n                        <User className=\"h-4 w-4 mr-2 text-gray-500\" />\n                        <span>{company.contactPerson}</span>\n                      </div>\n                      <div className=\"flex items-center\">\n                        <Phone className=\"h-4 w-4 mr-2 text-gray-500\" />\n                        <span>{company.phone}</span>\n                      </div>\n                      <div className=\"flex items-center\">\n                        <Mail className=\"h-4 w-4 mr-2 text-gray-500\" />\n                        <span>{company.email}</span>\n                      </div>\n                      <div className=\"flex items-center\">\n                        <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                        <span>{company.postalCode} {company.address}</span>\n                      </div>\n                    </div>\n\n                    {/* å°‚é–€åˆ†é‡ */}\n                    {company.specialties && company.specialties.length > 0 && (\n                      <div className=\"flex flex-wrap gap-2\">\n                        {company.specialties.map((specialty, index) => (\n                          <span\n                            key={index}\n                            className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full\"\n                          >\n                            {specialty}\n                          </span>\n                        ))}\n                      </div>\n                    )}\n\n                    <div className=\"mt-3 text-xs text-gray-400\">\n                      ç™»éŒ²æ—¥: {new Date(company.joinedDate).toLocaleDateString('ja-JP')}\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2 ml-4\">\n                    <button\n                      className=\"p-2 text-gray-400 hover:text-blue-600\"\n                      title=\"è©³ç´°ã‚’è¦‹ã‚‹\"\n                    >\n                      <Eye className=\"h-4 w-4\" />\n                    </button>\n                    <button\n                      className=\"p-2 text-gray-400 hover:text-green-600\"\n                      title=\"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹\"\n                    >\n                      <MessageCircle className=\"h-4 w-4\" />\n                    </button>\n                    <button\n                      className=\"p-2 text-gray-400 hover:text-purple-600\"\n                      title=\"å–å¼•å…ˆã«è¿½åŠ \"\n                    >\n                      <Plus className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":12940},"src/app/page.tsx":{"content":"'use client'\n\nimport Link from 'next/link'\nimport Logo from '@/components/Logo'\nimport CountUpAnimation from '@/components/CountUpAnimation'\nimport { Package, Users, TrendingUp, Shield, Clock, BarChart, Truck } from 'lucide-react'\nimport { useScrollAnimation } from '@/hooks/useScrollAnimation'\n\nexport default function HomePage() {\n  const { ref: featuresRef, isVisible: featuresVisible } = useScrollAnimation()\n  const { ref: statsRef, isVisible: statsVisible } = useScrollAnimation()\n  return (\n    <div className=\"min-h-screen\">\n      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n      <header className=\"glass sticky top-0 z-50 border-b border-white/20\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex justify-between items-center\">\n            <Logo width={200} height={60} className=\"w-[150px] h-[45px] sm:w-[200px] sm:h-[60px] scale-in\" />\n            <div className=\"flex items-center space-x-2 sm:space-x-6\">\n              <Link\n                href=\"/login\"\n                className=\"text-slate-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105\"\n              >\n                ãƒ­ã‚°ã‚¤ãƒ³\n              </Link>\n              <Link\n                href=\"/register\"\n                className=\"btn-primary text-sm px-6 py-3 scale-in\"\n                style={{animationDelay: '0.1s'}}\n              >\n                æ–°è¦ç™»éŒ²\n              </Link>\n            </div>\n          </div>\n        </nav>\n      </header>\n\n      {/* ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}\n      <section className=\"relative overflow-hidden min-h-screen flex items-center gradient-bg\">\n        {/* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ */}\n        <div className=\"absolute inset-0\">\n          <div className=\"absolute top-20 left-10 w-32 h-32 sm:w-96 sm:h-96 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse-slow glow-effect\"></div>\n          <div className=\"absolute top-40 right-10 w-32 h-32 sm:w-96 sm:h-96 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse-slow animation-delay-2000 glow-effect\"></div>\n          <div className=\"absolute -bottom-8 left-20 w-32 h-32 sm:w-96 sm:h-96 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse-slow animation-delay-4000 glow-effect\"></div>\n          <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 sm:w-[500px] sm:h-[500px] bg-gradient-to-r from-white/20 to-blue-100/30 rounded-full filter blur-3xl animate-pulse-slow animation-delay-1000\"></div>\n        </div>\n        \n        <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-24 w-full\">\n          <div className=\"text-center\">\n            <div className=\"fade-in-up\">\n              <h1 className=\"text-4xl sm:text-5xl lg:text-8xl font-bold mb-6 sm:mb-8 leading-tight\">\n                <span className=\"text-slate-800\">ç‰©æµã‚’</span>\n                <span className=\"gradient-text text-glow\">ã‚‚ã£ã¨ã‚¹ãƒãƒ¼ãƒˆ</span>\n                <span className=\"text-slate-800\">ã«</span>\n              </h1>\n            </div>\n            \n            <div className=\"slide-in-left\">\n              <p className=\"text-lg sm:text-xl lg:text-3xl text-slate-600 mb-8 sm:mb-12 max-w-5xl mx-auto leading-relaxed px-4 font-medium\">\n                ã€Œæ–­ã‚‰ãªã„ç‰©æµã€ã‚’å®Ÿç¾ã™ã‚‹ã€æ¬¡ä¸–ä»£æ±‚è·æ±‚è»Šã‚µãƒ¼ãƒ“ã‚¹<br className=\"hidden sm:block\" />\n                è·ç‰©ã‚„ç©ºããƒˆãƒ©ãƒƒã‚¯ãŒAIã«ã‚ˆã£ã¦ã™ãæ±ºã¾ã‚‹ï¼\n              </p>\n            </div>\n            \n            <div className=\"slide-in-right\">\n              <div className=\"flex justify-center mb-12 sm:mb-16 px-4\">\n                <Link href=\"/register\" className=\"btn-primary text-lg sm:text-xl px-12 py-4 sm:px-20 lg:px-24 floating glow-effect\">\n                  ç„¡æ–™ãŠè©¦ã—ã«ç”³ã—è¾¼ã‚€\n                </Link>\n              </div>\n            </div>\n            \n            {/* ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æƒ…å ± */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6 sm:gap-8 mt-12 sm:mt-16 max-w-4xl mx-auto px-4\">\n              <div className=\"floating-card text-center scale-in glow-effect\" style={{animationDelay: '0.1s'}}>\n                <div className=\"text-3xl sm:text-4xl lg:text-6xl font-bold gradient-text mb-3 text-glow\">\n                  <CountUpAnimation end={10247} duration={2500} />\n                </div>\n                <div className=\"text-slate-600 text-sm sm:text-lg font-medium\">ç¾åœ¨ã®è·ç‰©æ•°</div>\n                <div className=\"text-xs text-slate-500 mt-1\">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°</div>\n              </div>\n              <div className=\"floating-card text-center scale-in glow-effect\" style={{animationDelay: '0.15s'}}>\n                <div className=\"text-3xl sm:text-4xl lg:text-6xl font-bold gradient-text mb-3 text-glow\">\n                  <CountUpAnimation end={856} duration={2500} />\n                </div>\n                <div className=\"text-slate-600 text-sm sm:text-lg font-medium\">ç¾åœ¨ã®ç©ºè»Šæ•°</div>\n                <div className=\"text-xs text-slate-500 mt-1\">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°</div>\n              </div>\n            </div>\n            \n            {/* çµ±è¨ˆæƒ…å ± */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-10 mt-8 sm:mt-12 max-w-6xl mx-auto px-4\">\n              <div className=\"floating-card text-center scale-in glow-effect\" style={{animationDelay: '0.2s'}}>\n                <div className=\"text-3xl sm:text-4xl lg:text-6xl font-bold gradient-text mb-3 text-glow\">\n                  <CountUpAnimation end={1000} duration={3000} suffix=\"+\" />\n                </div>\n                <div className=\"text-slate-600 text-sm sm:text-lg font-medium\">ç™»éŒ²ä¼æ¥­æ•°</div>\n              </div>\n              <div className=\"floating-card text-center scale-in glow-effect\" style={{animationDelay: '0.4s'}}>\n                <div className=\"text-3xl sm:text-4xl lg:text-6xl font-bold gradient-text mb-3 text-glow\">\n                  <CountUpAnimation end={5000} duration={3000} suffix=\"+\" />\n                </div>\n                <div className=\"text-slate-600 text-sm sm:text-lg font-medium\">æœˆé–“ãƒãƒƒãƒãƒ³ã‚°æ•°</div>\n              </div>\n              <div className=\"floating-card text-center scale-in glow-effect sm:col-span-2 lg:col-span-1\" style={{animationDelay: '0.6s'}}>\n                <div className=\"text-3xl sm:text-4xl lg:text-6xl font-bold gradient-text mb-3 text-glow\">\n                  <CountUpAnimation end={98} duration={2000} suffix=\"%\" />\n                </div>\n                <div className=\"text-slate-600 text-sm sm:text-lg font-medium\">é¡§å®¢æº€è¶³åº¦</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}\n      <section ref={featuresRef} className=\"gradient-bg py-24 lg:py-40\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className={`text-center mb-20 ${featuresVisible ? 'zoom-in' : 'opacity-0'}`}>\n            <h2 className=\"text-4xl sm:text-5xl lg:text-6xl font-bold text-slate-800 mb-8\">\n              SIN JAPAN LOGI MATCHã®ç‰¹å¾´\n            </h2>\n            <p className=\"text-xl sm:text-2xl text-slate-600 max-w-4xl mx-auto leading-relaxed font-medium\">\n              æœ€å…ˆç«¯ã®ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã§ç‰©æµæ¥­ç•Œã«é©æ–°ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™\n            </p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10\">\n            <div className={`floating-card group ${featuresVisible ? 'zoom-in stagger-1' : 'opacity-0'} hover:glow-pulse`}>\n              <div className=\"bg-gradient-to-br from-blue-600 to-cyan-600 w-20 h-20 rounded-3xl flex items-center justify-center mb-8 group-hover:scale-110 group-hover:wiggle transition-all duration-500 glow-pulse\">\n                <Package className=\"h-10 w-10 text-white\" />\n              </div>\n              <h3 className=\"text-2xl font-bold mb-6 text-slate-800\">ç°¡å˜ãªæ¡ˆä»¶æŠ•ç¨¿</h3>\n              <p className=\"text-slate-600 leading-relaxed text-base sm:text-lg\">\n                è·ä¸»ã¯æ•°åˆ†ã§é…é€æ¡ˆä»¶ã‚’æŠ•ç¨¿å¯èƒ½ã€‚è©³ç´°ãªæ¡ä»¶è¨­å®šã§ã€æœ€é©ãªé‹é€ä¼šç¤¾ã¨ãƒãƒƒãƒãƒ³ã‚°ã—ã¾ã™ã€‚\n              </p>\n            </div>\n\n            <div className={`floating-card group ${featuresVisible ? 'zoom-in stagger-2' : 'opacity-0'} hover:glow-pulse`}>\n              <div className=\"bg-gradient-to-br from-purple-600 to-pink-600 w-20 h-20 rounded-3xl flex items-center justify-center mb-8 group-hover:scale-110 group-hover:wiggle transition-all duration-500 glow-pulse\">\n                <Users className=\"h-10 w-10 text-white\" />\n              </div>\n              <h3 className=\"text-2xl font-bold mb-6 text-slate-800\">åŠ¹ç‡çš„ãªãƒãƒƒãƒãƒ³ã‚°</h3>\n              <p className=\"text-slate-600 leading-relaxed text-base sm:text-lg\">\n                é‹é€ä¼šç¤¾ã¯æ¡ä»¶ã«åˆã†æ¡ˆä»¶ã‚’æ¤œç´¢ã—ã€è‡ªç”±ã«ã‚ªãƒ•ã‚¡ãƒ¼ã‚’ææ¡ˆã€‚åŒæ–¹ãŒç´å¾—ã™ã‚‹æ¡ä»¶ã§å–å¼•ã§ãã¾ã™ã€‚\n              </p>\n            </div>\n\n            <div className={`floating-card group ${featuresVisible ? 'zoom-in stagger-3' : 'opacity-0'} hover:glow-pulse`}>\n              <div className=\"bg-gradient-to-br from-green-600 to-emerald-600 w-20 h-20 rounded-3xl flex items-center justify-center mb-8 group-hover:scale-110 group-hover:wiggle transition-all duration-500 glow-pulse\">\n                <TrendingUp className=\"h-10 w-10 text-white\" />\n              </div>\n              <h3 className=\"text-2xl font-bold mb-6 text-slate-800\">ã‚³ã‚¹ãƒˆå‰Šæ¸›</h3>\n              <p className=\"text-slate-600 leading-relaxed text-base sm:text-lg\">\n                è¤‡æ•°ã®é‹é€ä¼šç¤¾ã‹ã‚‰ç›¸è¦‹ç©ã‚‚ã‚ŠãŒå¯èƒ½ã€‚ç«¶äº‰åŸç†ã«ã‚ˆã‚Šã€é©æ­£ä¾¡æ ¼ã§ã®å–å¼•ã‚’å®Ÿç¾ã—ã¾ã™ã€‚\n              </p>\n            </div>\n\n            <div className={`floating-card group ${featuresVisible ? 'zoom-in stagger-4' : 'opacity-0'} hover:glow-pulse`}>\n              <div className=\"bg-gradient-to-br from-orange-600 to-yellow-600 w-20 h-20 rounded-3xl flex items-center justify-center mb-8 group-hover:scale-110 group-hover:wiggle transition-all duration-500 glow-pulse\">\n                <Shield className=\"h-10 w-10 text-white\" />\n              </div>\n              <h3 className=\"text-2xl font-bold mb-6 text-slate-800\">å®‰å…¨ãƒ»å®‰å¿ƒ</h3>\n              <p className=\"text-slate-600 leading-relaxed text-base sm:text-lg\">\n                å³æ ¼ãªå¯©æŸ»ã‚’é€šéã—ãŸé‹é€ä¼šç¤¾ã®ã¿ãŒç™»éŒ²ã€‚å®‰å¿ƒã—ã¦å–å¼•ã§ãã‚‹ç’°å¢ƒã‚’æä¾›ã—ã¾ã™ã€‚\n              </p>\n            </div>\n\n            <div className={`floating-card group ${featuresVisible ? 'zoom-in stagger-5' : 'opacity-0'} hover:glow-pulse`}>\n              <div className=\"bg-gradient-to-br from-indigo-600 to-blue-600 w-20 h-20 rounded-3xl flex items-center justify-center mb-8 group-hover:scale-110 group-hover:wiggle transition-all duration-500 glow-pulse\">\n                <Clock className=\"h-10 w-10 text-white\" />\n              </div>\n              <h3 className=\"text-2xl font-bold mb-6 text-slate-800\">24æ™‚é–“å¯¾å¿œ</h3>\n              <p className=\"text-slate-600 leading-relaxed text-base sm:text-lg\">\n                ã„ã¤ã§ã‚‚ã©ã“ã§ã‚‚æ¡ˆä»¶ã®æŠ•ç¨¿ãƒ»æ¤œç´¢ãŒå¯èƒ½ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§çŠ¶æ³ã‚’ç¢ºèªã§ãã¾ã™ã€‚\n              </p>\n            </div>\n\n            <div className={`floating-card group ${featuresVisible ? 'zoom-in animation-delay-500' : 'opacity-0'} hover:glow-pulse`}>\n              <div className=\"bg-gradient-to-br from-teal-600 to-cyan-600 w-20 h-20 rounded-3xl flex items-center justify-center mb-8 group-hover:scale-110 group-hover:wiggle transition-all duration-500 glow-pulse\">\n                <BarChart className=\"h-10 w-10 text-white\" />\n              </div>\n              <h3 className=\"text-2xl font-bold mb-6 text-slate-800\">ãƒ‡ãƒ¼ã‚¿åˆ†æ</h3>\n              <p className=\"text-slate-600 leading-relaxed text-base sm:text-lg\">\n                éå»ã®å–å¼•ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã€æœ€é©ãªä¾¡æ ¼è¨­å®šã‚„é‹é€ãƒ«ãƒ¼ãƒˆã‚’ææ¡ˆã—ã¾ã™ã€‚\n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      {/* ãƒ•ãƒƒã‚¿ãƒ¼ */}\n      <footer className=\"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white py-20\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <div className=\"mb-8\">\n              <h3 className=\"text-2xl sm:text-3xl font-bold mb-4 gradient-text text-glow\">\n                SIN JAPAN LOGI MATCH\n              </h3>\n              <p className=\"text-slate-300 text-lg max-w-2xl mx-auto leading-relaxed\">\n                ã€Œæ–­ã‚‰ãªã„ç‰©æµã€ã‚’å®Ÿç¾ã™ã‚‹ã€æ¬¡ä¸–ä»£æ±‚è·æ±‚è»Šã‚µãƒ¼ãƒ“ã‚¹\n              </p>\n            </div>\n            <p className=\"text-slate-400 mb-8 text-lg\">\n              Â© 2025 SIN JAPAN LLC All rights reserved\n            </p>\n            <div className=\"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-8 text-base text-slate-400\">\n              <Link href=\"/help\" className=\"hover:text-white transition-all duration-300 hover:scale-105 hover:text-glow\">ãƒ˜ãƒ«ãƒ—</Link>\n              <Link href=\"/terms\" className=\"hover:text-white transition-all duration-300 hover:scale-105 hover:text-glow\">åˆ©ç”¨è¦ç´„</Link>\n              <Link href=\"/privacy\" className=\"hover:text-white transition-all duration-300 hover:scale-105 hover:text-glow\">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</Link>\n              <Link href=\"/contact\" className=\"hover:text-white transition-all duration-300 hover:scale-105 hover:text-glow\">ãŠå•ã„åˆã‚ã›</Link>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  )\n}\n\n","size_bytes":13949},"src/app/api/user/my-posts/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server';\nimport prisma from '@/lib/prisma';\nimport { getUserFromRequest } from '@/lib/auth';\n\nexport async function GET(request: NextRequest) {\n  try {\n    const user = getUserFromRequest(request);\n\n    if (!user) {\n      return NextResponse.json({ success: false, message: 'Unauthorized' }, { status: 401 });\n    }\n\n    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è·ç‰©æŠ•ç¨¿ã‚’å–å¾—\n    const shipments = await prisma.shipment.findMany({\n      where: { shipperId: user.userId },\n      select: {\n        id: true,\n        cargoName: true,\n        cargoDescription: true,\n        status: true,\n        createdAt: true,\n        updatedAt: true,\n        pickupPrefecture: true,\n        pickupCity: true,\n        deliveryPrefecture: true,\n        deliveryCity: true,\n        pickupDate: true,\n        cargoWeight: true,\n        requiredVehicleType: true,\n        budget: true,\n      },\n      orderBy: { createdAt: 'desc' }\n    });\n\n    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç©ºè»ŠæŠ•ç¨¿ã‚’å–å¾—\n    const vehicles = await prisma.vehicle.findMany({\n      where: { carrierId: user.userId },\n      select: {\n        id: true,\n        vehicleType: true,\n        status: true,\n        createdAt: true,\n        updatedAt: true,\n        maxWeight: true,\n        availablePrefectures: true,\n        availableFrom: true,\n        availableTo: true,\n      },\n      orderBy: { createdAt: 'desc' }\n    });\n\n    // çµ±ä¸€ã•ã‚ŒãŸå½¢å¼ã«å¤‰æ›\n    const posts = [\n      ...shipments.map(shipment => ({\n        id: shipment.id,\n        type: 'shipment' as const,\n        title: shipment.cargoName,\n        description: shipment.cargoDescription,\n        status: shipment.status,\n        createdAt: shipment.createdAt,\n        updatedAt: shipment.updatedAt,\n        data: {\n          pickupPrefecture: shipment.pickupPrefecture,\n          pickupCity: shipment.pickupCity,\n          deliveryPrefecture: shipment.deliveryPrefecture,\n          deliveryCity: shipment.deliveryCity,\n          pickupDate: shipment.pickupDate,\n          cargoWeight: shipment.cargoWeight,\n          requiredVehicleType: shipment.requiredVehicleType,\n          budget: shipment.budget,\n        }\n      })),\n      ...vehicles.map(vehicle => ({\n        id: vehicle.id,\n        type: 'vehicle' as const,\n        title: vehicle.vehicleType,\n        description: `${vehicle.vehicleType} - æœ€å¤§ç©è¼‰é‡é‡: ${vehicle.maxWeight}kg`,\n        status: vehicle.status,\n        createdAt: vehicle.createdAt,\n        updatedAt: vehicle.updatedAt,\n        data: {\n          vehicleType: vehicle.vehicleType,\n          maxWeight: vehicle.maxWeight,\n          availablePrefectures: vehicle.availablePrefectures,\n          availableFrom: vehicle.availableFrom,\n          availableTo: vehicle.availableTo,\n        }\n      }))\n    ].sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n\n    return NextResponse.json({ success: true, data: posts });\n  } catch (error) {\n    console.error('Error fetching user posts:', error);\n    return NextResponse.json({ \n      success: false, \n      message: 'Failed to fetch posts', \n      error: error instanceof Error ? error.message : 'Unknown error' \n    }, { status: 500 });\n  }\n}\n","size_bytes":3201},"src/app/api/user/profile/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server';\nimport prisma from '@/lib/prisma';\nimport { getUserFromRequest } from '@/lib/auth';\n\nexport async function PUT(request: NextRequest) {\n  try {\n    const user = getUserFromRequest(request);\n\n    if (!user) {\n      return NextResponse.json({ success: false, message: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await request.json();\n    const {\n      contactPerson,\n      email,\n      phone,\n      companyName,\n      postalCode,\n      address,\n    } = body;\n\n    // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’æ›´æ–°\n    const updatedUser = await prisma.user.update({\n      where: { id: user.userId },\n      data: {\n        contactPerson,\n        email,\n        phone,\n        companyName,\n        postalCode,\n        address,\n      },\n      select: {\n        id: true,\n        contactPerson: true,\n        email: true,\n        phone: true,\n        companyName: true,\n        postalCode: true,\n        address: true,\n        userType: true,\n        createdAt: true,\n      },\n    });\n\n    return NextResponse.json({ success: true, data: updatedUser });\n  } catch (error) {\n    console.error('Error updating user profile:', error);\n    return NextResponse.json({ \n      success: false, \n      message: 'Failed to update profile', \n      error: error instanceof Error ? error.message : 'Unknown error' \n    }, { status: 500 });\n  }\n}\n","size_bytes":1379},"src/app/dashboard/contracted-shipments/page.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  CheckCircle, \n  MapPin, \n  Calendar, \n  Weight, \n  Truck, \n  DollarSign, \n  Eye, \n  Phone,\n  Mail,\n  Building2,\n  User,\n  Clock,\n  AlertCircle,\n  Filter,\n  Search\n} from 'lucide-react'\n\ninterface ContractedShipment {\n  id: string\n  cargoName: string\n  cargoDescription: string\n  status: 'MATCHED' | 'IN_TRANSIT' | 'DELIVERED'\n  pickupPrefecture: string\n  pickupCity: string\n  deliveryPrefecture: string\n  deliveryCity: string\n  pickupDate: string\n  deliveryDate: string\n  cargoWeight: number\n  requiredVehicleType: string\n  budget: number\n  createdAt: string\n  updatedAt: string\n  carrier?: {\n    companyName: string\n    contactPerson: string\n    phone: string\n    email: string\n  }\n  shipper?: {\n    companyName: string\n    contactPerson: string\n    phone: string\n    email: string\n  }\n}\n\nexport default function ContractedShipmentsPage() {\n  const router = useRouter()\n  const [shipments, setShipments] = useState<ContractedShipment[]>([])\n  const [loading, setLoading] = useState(true)\n  const [filter, setFilter] = useState<'all' | 'MATCHED' | 'IN_TRANSIT' | 'DELIVERED'>('all')\n  const [searchTerm, setSearchTerm] = useState('')\n\n  useEffect(() => {\n    loadContractedShipments()\n  }, [])\n\n  const loadContractedShipments = async () => {\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/user/my-posts', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n\n      if (!response.ok) throw new Error('Failed to load shipments')\n      \n      const data = await response.json()\n      // æˆç´„æ¸ˆã¿ã®è·ç‰©ã®ã¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°\n      const contractedShipments = data.data?.filter((post: any) => \n        post.type === 'shipment' && \n        ['MATCHED', 'IN_TRANSIT', 'DELIVERED'].includes(post.status)\n      ) || []\n      setShipments(contractedShipments)\n    } catch (error) {\n      console.error('Error loading contracted shipments:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const getStatusInfo = (status: string) => {\n    switch (status) {\n      case 'MATCHED':\n        return { label: 'æˆç´„æ¸ˆã¿', color: 'bg-green-100 text-green-800', icon: CheckCircle }\n      case 'IN_TRANSIT':\n        return { label: 'è¼¸é€ä¸­', color: 'bg-yellow-100 text-yellow-800', icon: Truck }\n      case 'DELIVERED':\n        return { label: 'å®Œäº†', color: 'bg-gray-100 text-gray-800', icon: CheckCircle }\n      default:\n        return { label: 'ä¸æ˜', color: 'bg-gray-100 text-gray-800', icon: Clock }\n    }\n  }\n\n  const filteredShipments = shipments.filter(shipment => {\n    const matchesFilter = filter === 'all' || shipment.status === filter\n    const matchesSearch = searchTerm === '' || \n      shipment.cargoName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      shipment.cargoDescription.toLowerCase().includes(searchTerm.toLowerCase())\n    return matchesFilter && matchesSearch\n  })\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">æˆç´„ã—ãŸè·ç‰©</h1>\n        <p className=\"text-gray-600\">æˆç´„ãŒå®Œäº†ã—ãŸè·ç‰©ã®ä¸€è¦§ã§ã™</p>\n      </div>\n\n      {/* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¨æ¤œç´¢ */}\n      <div className=\"bg-white rounded-lg shadow-sm border mb-6\">\n        <div className=\"p-4\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"è·ç‰©åã‚„èª¬æ˜ã§æ¤œç´¢...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Filter className=\"h-4 w-4 text-gray-500\" />\n              <select\n                value={filter}\n                onChange={(e) => setFilter(e.target.value as any)}\n                className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"all\">ã™ã¹ã¦</option>\n                <option value=\"MATCHED\">æˆç´„æ¸ˆã¿</option>\n                <option value=\"IN_TRANSIT\">è¼¸é€ä¸­</option>\n                <option value=\"DELIVERED\">å®Œäº†</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* è·ç‰©ä¸€è¦§ */}\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            æˆç´„ã—ãŸè·ç‰©ä¸€è¦§ ({filteredShipments.length}ä»¶)\n          </h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : filteredShipments.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <CheckCircle className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>æˆç´„ã—ãŸè·ç‰©ã¯ã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredShipments.map((shipment) => {\n              const statusInfo = getStatusInfo(shipment.status)\n              const StatusIcon = statusInfo.icon\n              \n              return (\n                <div key={shipment.id} className=\"p-6 hover:bg-gray-50\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        <h3 className=\"text-lg font-medium text-gray-900\">\n                          {shipment.cargoName}\n                        </h3>\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${statusInfo.color}`}>\n                          <StatusIcon className=\"h-3 w-3\" />\n                          <span>{statusInfo.label}</span>\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-gray-500 mb-4\">\n                        {shipment.cargoDescription}\n                      </p>\n                      \n                      {/* è·ç‰©è©³ç´°æƒ…å ± */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 mb-4\">\n                        <div className=\"flex items-center\">\n                          <MapPin className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{shipment.pickupPrefecture} â†’ {shipment.deliveryPrefecture}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Calendar className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{new Date(shipment.pickupDate).toLocaleDateString()}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Weight className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>{shipment.cargoWeight}kg</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <DollarSign className=\"h-4 w-4 mr-2 text-gray-400\" />\n                          <span>Â¥{shipment.budget.toLocaleString()}</span>\n                        </div>\n                      </div>\n\n                      {/* å–å¼•å…ˆæƒ…å ± */}\n                      {shipment.carrier && (\n                        <div className=\"border-t border-gray-100 pt-4\">\n                          <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                            <Truck className=\"h-4 w-4 mr-2\" />\n                            é‹é€æ¥­è€…æƒ…å ±\n                          </h4>\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700\">\n                            <div className=\"flex items-center\">\n                              <Building2 className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{shipment.carrier.companyName}</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <User className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{shipment.carrier.contactPerson}</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <Phone className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{shipment.carrier.phone}</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <Mail className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{shipment.carrier.email}</span>\n                            </div>\n                          </div>\n                        </div>\n                      )}\n\n                      <div className=\"mt-3 text-xs text-gray-400\">\n                        æˆç´„æ—¥: {new Date(shipment.updatedAt).toLocaleString('ja-JP')}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        onClick={() => router.push(`/shipments/${shipment.id}`)}\n                        className=\"p-2 text-gray-400 hover:text-blue-600\"\n                        title=\"è©³ç´°ã‚’è¦‹ã‚‹\"\n                      >\n                        <Eye className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":10278},"src/app/dashboard/payment/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  CreditCard, \n  Building2, \n  Smartphone, \n  Store, \n  Banknote, \n  CheckCircle, \n  Clock, \n  AlertCircle,\n  Shield,\n  Download,\n  QrCode,\n  Calendar,\n  DollarSign,\n  FileText,\n  ArrowRight\n} from 'lucide-react'\n\ninterface PaymentMethod {\n  id: string\n  name: string\n  icon: any\n  description: string\n  processingTime: string\n  fee: string\n  isAvailable: boolean\n  isRecommended?: boolean\n}\n\ninterface PaymentHistory {\n  id: string\n  date: string\n  amount: number\n  method: string\n  status: 'completed' | 'pending' | 'failed'\n  description: string\n}\n\nexport default function PaymentPage() {\n  const [selectedMethod, setSelectedMethod] = useState<string>('')\n  const [amount, setAmount] = useState('')\n  const [paymentHistory, setPaymentHistory] = useState<PaymentHistory[]>([])\n  const [user, setUser] = useState<any>(null)\n\n  useEffect(() => {\n    const userData = localStorage.getItem('user')\n    if (userData) {\n      const userProfile = JSON.parse(userData)\n      setUser(userProfile)\n    }\n\n    // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n    setPaymentHistory([\n      {\n        id: '1',\n        date: '2024-01-15',\n        amount: 50000,\n        method: 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰',\n        status: 'completed',\n        description: 'æœˆé¡åˆ©ç”¨æ–™é‡‘'\n      },\n      {\n        id: '2',\n        date: '2024-01-10',\n        amount: 25000,\n        method: 'éŠ€è¡ŒæŒ¯è¾¼',\n        status: 'completed',\n        description: 'è¿½åŠ ã‚µãƒ¼ãƒ“ã‚¹æ–™é‡‘'\n      },\n      {\n        id: '3',\n        date: '2024-01-05',\n        amount: 15000,\n        method: 'ã‚³ãƒ³ãƒ“ãƒ‹æ‰•ã„',\n        status: 'pending',\n        description: 'AIæ¤œç´¢åˆ©ç”¨æ–™é‡‘'\n      }\n    ])\n  }, [])\n\n  const paymentMethods: PaymentMethod[] = [\n    {\n      id: 'credit-card',\n      name: 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆ',\n      icon: CreditCard,\n      description: 'Visaã€Mastercardã€JCBã€AMEXå¯¾å¿œ',\n      processingTime: 'å³æ™‚',\n      fee: '3.6%',\n      isAvailable: true,\n      isRecommended: true\n    },\n    {\n      id: 'bank-transfer',\n      name: 'éŠ€è¡ŒæŒ¯è¾¼',\n      icon: Building2,\n      description: 'éŠ€è¡Œå£åº§ã‹ã‚‰ã®æŒ¯è¾¼',\n      processingTime: '1-3å–¶æ¥­æ—¥',\n      fee: 'ç„¡æ–™',\n      isAvailable: true\n    },\n    {\n      id: 'account-transfer',\n      name: 'å£åº§æŒ¯æ›¿',\n      icon: Banknote,\n      description: 'ç™»éŒ²å£åº§ã‹ã‚‰ã®è‡ªå‹•æŒ¯æ›¿',\n      processingTime: 'å³æ™‚',\n      fee: 'ç„¡æ–™',\n      isAvailable: true\n    },\n    {\n      id: 'digital-wallet',\n      name: 'é›»å­ãƒãƒãƒ¼',\n      icon: Smartphone,\n      description: 'PayPayã€LINE Payã€æ¥½å¤©Payå¯¾å¿œ',\n      processingTime: 'å³æ™‚',\n      fee: '2.5%',\n      isAvailable: true\n    },\n    {\n      id: 'convenience',\n      name: 'ã‚³ãƒ³ãƒ“ãƒ‹æ‰•ã„',\n      icon: Store,\n      description: 'å…¨å›½ã®ã‚³ãƒ³ãƒ“ãƒ‹ã‚¨ãƒ³ã‚¹ã‚¹ãƒˆã‚¢ã§æ”¯æ‰•ã„å¯èƒ½',\n      processingTime: 'å³æ™‚',\n      fee: '200å††',\n      isAvailable: true\n    }\n  ]\n\n  const handlePayment = () => {\n    if (!selectedMethod || !amount) {\n      alert('æ±ºæ¸ˆæ–¹æ³•ã¨é‡‘é¡ã‚’é¸æŠã—ã¦ãã ã•ã„')\n      return\n    }\n\n    const method = paymentMethods.find(m => m.id === selectedMethod)\n    if (method) {\n      alert(`${method.name}ã§${parseInt(amount).toLocaleString()}å††ã®æ±ºæ¸ˆã‚’é–‹å§‹ã—ã¾ã™`)\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'completed': return 'text-green-600 bg-green-100'\n      case 'pending': return 'text-yellow-600 bg-yellow-100'\n      case 'failed': return 'text-red-600 bg-red-100'\n      default: return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'completed': return 'å®Œäº†'\n      case 'pending': return 'å‡¦ç†ä¸­'\n      case 'failed': return 'å¤±æ•—'\n      default: return 'ä¸æ˜'\n    }\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">ãŠæ”¯æ‰•ã„</h1>\n        <p className=\"text-gray-600\">å„ç¨®æ±ºæ¸ˆæ–¹æ³•ã§ãŠæ”¯æ‰•ã„ã„ãŸã ã‘ã¾ã™</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* æ±ºæ¸ˆæ–¹æ³•é¸æŠ */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {/* æ±ºæ¸ˆé‡‘é¡å…¥åŠ› */}\n          <div className=\"bg-white rounded-lg shadow-sm border\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <DollarSign className=\"h-5 w-5 mr-2\" />\n                æ±ºæ¸ˆé‡‘é¡\n              </h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"max-w-md\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  æ”¯æ‰•ã„é‡‘é¡\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type=\"number\"\n                    value={amount}\n                    onChange={(e) => setAmount(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg\"\n                    placeholder=\"0\"\n                  />\n                  <span className=\"absolute right-3 top-3 text-gray-500\">å††</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* æ±ºæ¸ˆæ–¹æ³•ä¸€è¦§ */}\n          <div className=\"bg-white rounded-lg shadow-sm border\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">æ±ºæ¸ˆæ–¹æ³•ã‚’é¸æŠ</h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-4\">\n                {paymentMethods.map((method) => {\n                  const IconComponent = method.icon\n                  return (\n                    <div\n                      key={method.id}\n                      className={`border rounded-lg p-4 cursor-pointer transition-all ${\n                        selectedMethod === method.id\n                          ? 'border-blue-500 bg-blue-50'\n                          : 'border-gray-200 hover:border-gray-300'\n                      }`}\n                      onClick={() => setSelectedMethod(method.id)}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-4\">\n                          <div className={`p-2 rounded-lg ${\n                            method.isRecommended ? 'bg-yellow-100 text-yellow-600' : 'bg-gray-100 text-gray-600'\n                          }`}>\n                            <IconComponent className=\"h-6 w-6\" />\n                          </div>\n                          <div>\n                            <div className=\"flex items-center space-x-2\">\n                              <h3 className=\"font-medium text-gray-900\">{method.name}</h3>\n                              {method.isRecommended && (\n                                <span className=\"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full\">\n                                  ãŠã™ã™ã‚\n                                </span>\n                              )}\n                            </div>\n                            <p className=\"text-sm text-gray-600\">{method.description}</p>\n                            <div className=\"flex items-center space-x-4 mt-1\">\n                              <span className=\"text-xs text-gray-500\">\n                                <Clock className=\"h-3 w-3 inline mr-1\" />\n                                {method.processingTime}\n                              </span>\n                              <span className=\"text-xs text-gray-500\">\n                                æ‰‹æ•°æ–™: {method.fee}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center\">\n                          {selectedMethod === method.id ? (\n                            <CheckCircle className=\"h-5 w-5 text-blue-600\" />\n                          ) : (\n                            <div className=\"w-5 h-5 border-2 border-gray-300 rounded-full\"></div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  )\n                })}\n              </div>\n\n              <div className=\"mt-6\">\n                <button\n                  onClick={handlePayment}\n                  disabled={!selectedMethod || !amount}\n                  className=\"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n                >\n                  <Shield className=\"h-5 w-5\" />\n                  <span>æ±ºæ¸ˆã‚’å®Ÿè¡Œ</span>\n                  <ArrowRight className=\"h-4 w-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}\n        <div className=\"space-y-6\">\n          {/* æ”¯æ‰•ã„å±¥æ­´ */}\n          <div className=\"bg-white rounded-lg shadow-sm border\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <FileText className=\"h-5 w-5 mr-2\" />\n                æ”¯æ‰•ã„å±¥æ­´\n              </h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-4\">\n                {paymentHistory.map((payment) => (\n                  <div key={payment.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-900\">\n                        Â¥{payment.amount.toLocaleString()}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">{payment.method}</p>\n                      <p className=\"text-xs text-gray-500\">{payment.description}</p>\n                    </div>\n                    <div className=\"text-right\">\n                      <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(payment.status)}`}>\n                        {getStatusText(payment.status)}\n                      </span>\n                      <p className=\"text-xs text-gray-500 mt-1\">{payment.date}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <button className=\"w-full mt-4 text-blue-600 hover:text-blue-800 text-sm\">\n                ã™ã¹ã¦è¡¨ç¤º\n              </button>\n            </div>\n          </div>\n\n          {/* è«‹æ±‚æ›¸ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ */}\n          <div className=\"bg-white rounded-lg shadow-sm border\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">è«‹æ±‚æ›¸</h2>\n            </div>\n            <div className=\"p-6\">\n              <div className=\"space-y-3\">\n                <button className=\"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50\">\n                  <div className=\"flex items-center space-x-3\">\n                    <Download className=\"h-4 w-4 text-gray-600\" />\n                    <span className=\"text-sm text-gray-900\">2024å¹´1æœˆè«‹æ±‚æ›¸</span>\n                  </div>\n                  <ArrowRight className=\"h-4 w-4 text-gray-400\" />\n                </button>\n                <button className=\"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50\">\n                  <div className=\"flex items-center space-x-3\">\n                    <Download className=\"h-4 w-4 text-gray-600\" />\n                    <span className=\"text-sm text-gray-900\">2023å¹´12æœˆè«‹æ±‚æ›¸</span>\n                  </div>\n                  <ArrowRight className=\"h-4 w-4 text-gray-400\" />\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æƒ…å ± */}\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n            <div className=\"flex items-start\">\n              <Shield className=\"h-5 w-5 text-green-600 mr-3 mt-0.5\" />\n              <div>\n                <h3 className=\"text-sm font-medium text-green-800\">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</h3>\n                <p className=\"text-sm text-green-700 mt-1\">\n                  ã™ã¹ã¦ã®æ±ºæ¸ˆã¯SSLæš—å·åŒ–ã«ã‚ˆã‚Šä¿è­·ã•ã‚Œã¦ã„ã¾ã™ã€‚\n                  ãŠå®¢æ§˜ã®æƒ…å ±ã¯å®‰å…¨ã«å‡¦ç†ã•ã‚Œã¾ã™ã€‚\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </DashboardLayout>\n  )\n}\n\n","size_bytes":12884},"src/app/shipments/[id]/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect, Suspense } from 'react'\nimport { useRouter, useParams, useSearchParams } from 'next/navigation'\nimport Link from 'next/link'\nimport Navbar from '@/components/Navbar'\nimport { \n  Package, MapPin, Calendar, Truck, DollarSign, User, \n  Phone, Mail, Edit, Trash, ArrowLeft, Send \n} from 'lucide-react'\n\nfunction ShipmentDetailContent() {\n  const router = useRouter()\n  const params = useParams()\n  const searchParams = useSearchParams()\n  const shipmentId = params.id as string\n  const action = searchParams.get('action')\n\n  const [user, setUser] = useState<any>(null)\n  const [shipment, setShipment] = useState<any>(null)\n  const [offers, setOffers] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const [showOfferForm, setShowOfferForm] = useState(action === 'offer')\n  const [offerData, setOfferData] = useState({\n    proposedPrice: '',\n    proposedDeliveryDate: '',\n    message: '',\n  })\n  const [submitting, setSubmitting] = useState(false)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    const userData = localStorage.getItem('user')\n    \n    if (!token || !userData) {\n      router.push('/login')\n      return\n    }\n\n    setUser(JSON.parse(userData))\n    fetchShipmentDetail(token)\n  }, [shipmentId, router])\n\n  const fetchShipmentDetail = async (token: string) => {\n    try {\n      const [shipmentRes, offersRes] = await Promise.all([\n        fetch(`/api/shipments/${shipmentId}`, {\n          headers: { 'Authorization': `Bearer ${token}` },\n        }),\n        fetch(`/api/offers?shipmentId=${shipmentId}`, {\n          headers: { 'Authorization': `Bearer ${token}` },\n        }),\n      ])\n\n      if (shipmentRes.ok) {\n        const shipmentData = await shipmentRes.json()\n        setShipment(shipmentData.data)\n      }\n\n      if (offersRes.ok) {\n        const offersData = await offersRes.json()\n        setOffers(offersData.data)\n      }\n    } catch (error) {\n      console.error('Failed to fetch shipment:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSubmitOffer = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setSubmitting(true)\n\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/offers', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          shipmentId,\n          proposedPrice: parseFloat(offerData.proposedPrice),\n          proposedDeliveryDate: offerData.proposedDeliveryDate,\n          message: offerData.message,\n        }),\n      })\n\n      if (response.ok) {\n        setShowOfferForm(false)\n        setOfferData({ proposedPrice: '', proposedDeliveryDate: '', message: '' })\n        if (token) fetchShipmentDetail(token)\n      }\n    } catch (error) {\n      console.error('Failed to submit offer:', error)\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  const handleDeleteShipment = async () => {\n    if (!confirm('æœ¬å½“ã«ã“ã®æ¡ˆä»¶ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return\n\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch(`/api/shipments/${shipmentId}`, {\n        method: 'DELETE',\n        headers: { 'Authorization': `Bearer ${token}` },\n      })\n\n      if (response.ok) {\n        router.push('/shipments')\n      }\n    } catch (error) {\n      console.error('Failed to delete shipment:', error)\n    }\n  }\n\n  const getStatusBadge = (status: string) => {\n    const badges: Record<string, { bg: string; text: string; label: string }> = {\n      OPEN: { bg: 'bg-green-100', text: 'text-green-800', label: 'å‹Ÿé›†ä¸­' },\n      MATCHED: { bg: 'bg-blue-100', text: 'text-blue-800', label: 'ãƒãƒƒãƒãƒ³ã‚°æ¸ˆ' },\n      IN_TRANSIT: { bg: 'bg-purple-100', text: 'text-purple-800', label: 'è¼¸é€ä¸­' },\n      DELIVERED: { bg: 'bg-gray-100', text: 'text-gray-800', label: 'é…é”å®Œäº†' },\n      CANCELLED: { bg: 'bg-red-100', text: 'text-red-800', label: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«' },\n    }\n    const badge = badges[status] || badges.OPEN\n    return (\n      <span className={`px-4 py-2 rounded-full text-sm font-semibold ${badge.bg} ${badge.text}`}>\n        {badge.label}\n      </span>\n    )\n  }\n\n  const getVehicleTypeLabel = (type: string) => {\n    const types: Record<string, string> = {\n      LIGHT_TRUCK: 'è»½ãƒˆãƒ©ãƒƒã‚¯',\n      SMALL_TRUCK: 'å°å‹ãƒˆãƒ©ãƒƒã‚¯',\n      MEDIUM_TRUCK: 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯',\n      LARGE_TRUCK: 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯',\n      TRAILER: 'ãƒˆãƒ¬ãƒ¼ãƒ©ãƒ¼',\n      REFRIGERATED: 'å†·å‡ãƒ»å†·è”µè»Š',\n      FLATBED: 'å¹³ãƒœãƒ‡ã‚£',\n      WING: 'ã‚¦ã‚£ãƒ³ã‚°è»Š',\n    }\n    return types[type] || type\n  }\n\n  if (loading || !user || !shipment) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-white\">\n        <Navbar />\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"text-center\">\n            <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent\"></div>\n            <p className=\"text-gray-600 mt-4\">èª­ã¿è¾¼ã¿ä¸­...</p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  const isOwner = user.id === shipment.shipperId\n  const canOffer = user.userType === 'CARRIER' && shipment.status === 'OPEN'\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-white\">\n      <Navbar />\n      \n      <main className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\n        {/* æˆ»ã‚‹ãƒœã‚¿ãƒ³ */}\n        <button\n          onClick={() => router.back()}\n          className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-6 transition fade-in-up\"\n        >\n          <ArrowLeft className=\"h-5 w-5\" />\n          <span>æˆ»ã‚‹</span>\n        </button>\n\n        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n        <div className=\"card mb-8 fade-in-up\" style={{animationDelay: '0.1s'}}>\n          <div className=\"flex flex-col lg:flex-row justify-between items-start gap-4 mb-6\">\n            <div className=\"flex-1\">\n              <h1 className=\"text-3xl sm:text-4xl font-bold text-gray-900 mb-3\">\n                {shipment.title}\n              </h1>\n              {getStatusBadge(shipment.status)}\n            </div>\n            \n            {isOwner && (\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => router.push(`/shipments/${shipmentId}/edit`)}\n                  className=\"btn-secondary flex items-center space-x-2 py-2 px-4\"\n                >\n                  <Edit className=\"h-4 w-4\" />\n                  <span>ç·¨é›†</span>\n                </button>\n                <button\n                  onClick={handleDeleteShipment}\n                  className=\"bg-red-100 text-red-700 hover:bg-red-200 px-4 py-2 rounded-xl font-semibold transition flex items-center space-x-2\"\n                >\n                  <Trash className=\"h-4 w-4\" />\n                  <span>å‰Šé™¤</span>\n                </button>\n              </div>\n            )}\n          </div>\n\n          <p className=\"text-gray-700 leading-relaxed\">\n            {shipment.description}\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* å·¦å´: è©³ç´°æƒ…å ± */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* ãƒ«ãƒ¼ãƒˆæƒ…å ± */}\n            <div className=\"card slide-in-left\">\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">é…é€ãƒ«ãƒ¼ãƒˆ</h2>\n              \n              <div className=\"space-y-6\">\n                <div className=\"bg-green-50 p-6 rounded-xl\">\n                  <div className=\"flex items-center space-x-3 mb-4\">\n                    <div className=\"bg-green-500 p-3 rounded-full\">\n                      <MapPin className=\"h-6 w-6 text-white\" />\n                    </div>\n                    <h3 className=\"text-lg font-bold text-gray-900\">é›†è·åœ°</h3>\n                  </div>\n                  <p className=\"text-xl font-semibold text-gray-900 mb-2\">\n                    {shipment.pickupPrefecture} {shipment.pickupLocation}\n                  </p>\n                  <div className=\"flex items-center space-x-2 text-gray-600\">\n                    <Calendar className=\"h-4 w-4\" />\n                    <span>{new Date(shipment.pickupDateTime).toLocaleString('ja-JP')}</span>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-center\">\n                  <div className=\"h-12 w-0.5 bg-gradient-to-b from-green-500 to-purple-500\"></div>\n                </div>\n\n                <div className=\"bg-purple-50 p-6 rounded-xl\">\n                  <div className=\"flex items-center space-x-3 mb-4\">\n                    <div className=\"bg-purple-500 p-3 rounded-full\">\n                      <MapPin className=\"h-6 w-6 text-white\" />\n                    </div>\n                    <h3 className=\"text-lg font-bold text-gray-900\">é…é€å…ˆ</h3>\n                  </div>\n                  <p className=\"text-xl font-semibold text-gray-900 mb-2\">\n                    {shipment.deliveryPrefecture} {shipment.deliveryLocation}\n                  </p>\n                  <div className=\"flex items-center space-x-2 text-gray-600\">\n                    <Calendar className=\"h-4 w-4\" />\n                    <span>{new Date(shipment.deliveryDateTime).toLocaleString('ja-JP')}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* è·ç‰©æƒ…å ± */}\n            <div className=\"card slide-in-left\" style={{animationDelay: '0.2s'}}>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">è·ç‰©æƒ…å ±</h2>\n              \n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-2\">è·ç‰©ã®ç¨®é¡</p>\n                  <p className=\"text-lg font-semibold text-gray-900\">{shipment.cargoType}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-2\">é‡é‡</p>\n                  <p className=\"text-lg font-semibold text-gray-900\">{shipment.cargoWeight} kg</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-2\">ã‚µã‚¤ã‚º</p>\n                  <p className=\"text-lg font-semibold text-gray-900\">{shipment.cargoSize}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-2\">å¿…è¦ãªè»Šä¸¡</p>\n                  <div className=\"flex items-center space-x-2\">\n                    <Truck className=\"h-5 w-5 text-blue-600\" />\n                    <p className=\"text-lg font-semibold text-gray-900\">\n                      {getVehicleTypeLabel(shipment.requiredVehicleType)}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {shipment.notes && (\n                <div className=\"mt-6 pt-6 border-t border-gray-200\">\n                  <p className=\"text-sm text-gray-600 mb-2\">å‚™è€ƒãƒ»ç‰¹è¨˜äº‹é …</p>\n                  <p className=\"text-gray-900\">{shipment.notes}</p>\n                </div>\n              )}\n            </div>\n\n            {/* ã‚ªãƒ•ã‚¡ãƒ¼ä¸€è¦§ (è·ä¸»ã®å ´åˆ) */}\n            {isOwner && offers.length > 0 && (\n              <div className=\"card slide-in-left\" style={{animationDelay: '0.3s'}}>\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n                  å—ã‘å–ã£ãŸã‚ªãƒ•ã‚¡ãƒ¼ ({offers.length}ä»¶)\n                </h2>\n                \n                <div className=\"space-y-4\">\n                  {offers.map((offer) => (\n                    <div key={offer.id} className=\"bg-gray-50 p-4 rounded-xl\">\n                      <div className=\"flex justify-between items-start mb-3\">\n                        <div>\n                          <p className=\"font-bold text-gray-900\">{offer.carrier.companyName}</p>\n                          <p className=\"text-sm text-gray-600\">{offer.carrier.contactPerson}</p>\n                        </div>\n                        <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                          offer.status === 'ACCEPTED' ? 'bg-green-100 text-green-800' :\n                          offer.status === 'REJECTED' ? 'bg-red-100 text-red-800' :\n                          'bg-yellow-100 text-yellow-800'\n                        }`}>\n                          {offer.status === 'ACCEPTED' ? 'æ‰¿èªæ¸ˆã¿' :\n                           offer.status === 'REJECTED' ? 'æ‹’å¦' : 'ä¿ç•™ä¸­'}\n                        </span>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-2 gap-4 mb-3\">\n                        <div>\n                          <p className=\"text-xs text-gray-600\">ã‚ªãƒ•ã‚¡ãƒ¼é‡‘é¡</p>\n                          <p className=\"text-lg font-bold text-blue-600\">\n                            Â¥{offer.proposedPrice.toLocaleString()}\n                          </p>\n                        </div>\n                        <div>\n                          <p className=\"text-xs text-gray-600\">é…é€äºˆå®šæ—¥</p>\n                          <p className=\"text-sm font-semibold text-gray-900\">\n                            {new Date(offer.proposedDeliveryDate).toLocaleDateString('ja-JP')}\n                          </p>\n                        </div>\n                      </div>\n                      \n                      {offer.message && (\n                        <p className=\"text-sm text-gray-700 mb-3\">ã€Œ{offer.message}ã€</p>\n                      )}\n                      \n                      {offer.status === 'PENDING' && (\n                        <Link href=\"/offers\" className=\"text-blue-600 hover:text-blue-700 text-sm font-semibold\">\n                          ã‚ªãƒ•ã‚¡ãƒ¼ç®¡ç†ç”»é¢ã§å¯¾å¿œ â†’\n                        </Link>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* å³å´: ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}\n          <div className=\"space-y-6\">\n            {/* æ–™é‡‘ */}\n            <div className=\"card slide-in-right\">\n              <div className=\"text-center\">\n                <p className=\"text-gray-600 mb-2\">å¸Œæœ›é‹è³ƒ</p>\n                <div className=\"flex items-center justify-center space-x-2\">\n                  <DollarSign className=\"h-8 w-8 text-blue-600\" />\n                  <p className=\"text-4xl font-bold text-blue-600\">\n                    Â¥{shipment.price.toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* è·ä¸»æƒ…å ± (é‹é€ä¼šç¤¾ã®å ´åˆ) */}\n            {!isOwner && shipment.shipper && (\n              <div className=\"card slide-in-right\" style={{animationDelay: '0.1s'}}>\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4\">è·ä¸»æƒ…å ±</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center space-x-3\">\n                    <User className=\"h-5 w-5 text-gray-500\" />\n                    <div>\n                      <p className=\"text-sm text-gray-600\">ä¼šç¤¾å</p>\n                      <p className=\"font-semibold text-gray-900\">{shipment.shipper.companyName}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-3\">\n                    <User className=\"h-5 w-5 text-gray-500\" />\n                    <div>\n                      <p className=\"text-sm text-gray-600\">æ‹…å½“è€…</p>\n                      <p className=\"font-semibold text-gray-900\">{shipment.shipper.contactPerson}</p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-3\">\n                    <Phone className=\"h-5 w-5 text-gray-500\" />\n                    <div>\n                      <p className=\"text-sm text-gray-600\">é›»è©±ç•ªå·</p>\n                      <p className=\"font-semibold text-gray-900\">{shipment.shipper.phone}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* ã‚ªãƒ•ã‚¡ãƒ¼ãƒœã‚¿ãƒ³ (é‹é€ä¼šç¤¾ã®å ´åˆ) */}\n            {canOffer && !showOfferForm && (\n              <button\n                onClick={() => setShowOfferForm(true)}\n                className=\"w-full btn-primary py-4 text-lg flex items-center justify-center space-x-2 slide-in-right\"\n                style={{animationDelay: '0.2s'}}\n              >\n                <Send className=\"h-5 w-5\" />\n                <span>ã‚ªãƒ•ã‚¡ãƒ¼ã‚’é€ä¿¡</span>\n              </button>\n            )}\n\n            {/* ã‚ªãƒ•ã‚¡ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ  */}\n            {showOfferForm && (\n              <div className=\"card slide-in-right\" style={{animationDelay: '0.2s'}}>\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4\">ã‚ªãƒ•ã‚¡ãƒ¼ã‚’é€ä¿¡</h3>\n                <form onSubmit={handleSubmitOffer} className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                      ææ¡ˆé‡‘é¡ (å††) *\n                    </label>\n                    <input\n                      type=\"number\"\n                      required\n                      min=\"0\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                      placeholder={shipment.price.toString()}\n                      value={offerData.proposedPrice}\n                      onChange={(e) => setOfferData({ ...offerData, proposedPrice: e.target.value })}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                      é…é€äºˆå®šæ—¥ *\n                    </label>\n                    <input\n                      type=\"date\"\n                      required\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                      value={offerData.proposedDeliveryDate}\n                      onChange={(e) => setOfferData({ ...offerData, proposedDeliveryDate: e.target.value })}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                      ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸\n                    </label>\n                    <textarea\n                      rows={3}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                      placeholder=\"ã‚¢ãƒ”ãƒ¼ãƒ«ãƒã‚¤ãƒ³ãƒˆã‚„ç‰¹è¨˜äº‹é …ãŒã‚ã‚Œã°è¨˜è¼‰ã—ã¦ãã ã•ã„\"\n                      value={offerData.message}\n                      onChange={(e) => setOfferData({ ...offerData, message: e.target.value })}\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowOfferForm(false)}\n                      className=\"btn-secondary py-3\"\n                    >\n                      ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={submitting}\n                      className=\"btn-primary py-3 disabled:opacity-50\"\n                    >\n                      {submitting ? 'é€ä¿¡ä¸­...' : 'é€ä¿¡'}\n                    </button>\n                  </div>\n                </form>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport default function ShipmentDetailPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-gray-600 text-lg\">èª­ã¿è¾¼ã¿ä¸­...</div>\n      </div>\n    }>\n      <ShipmentDetailContent />\n    </Suspense>\n  )\n}\n","size_bytes":20142},"src/app/dashboard/settings/account-info/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Building2, \n  CreditCard, \n  Plus, \n  Edit, \n  Trash2, \n  Save, \n  X, \n  Shield,\n  CheckCircle,\n  AlertCircle,\n  Eye,\n  EyeOff\n} from 'lucide-react'\n\ninterface AccountInfo {\n  id: string\n  accountType: 'bank' | 'credit_card' | 'digital_wallet'\n  accountName: string\n  accountNumber: string\n  bankName?: string\n  branchName?: string\n  accountHolderName: string\n  isDefault: boolean\n  isVerified: boolean\n  addedDate: string\n  lastUsed?: string\n}\n\nexport default function AccountInfoPage() {\n  const [accounts, setAccounts] = useState<AccountInfo[]>([])\n  const [editingAccount, setEditingAccount] = useState<AccountInfo | null>(null)\n  const [showAddModal, setShowAddModal] = useState(false)\n  const [showAccountNumber, setShowAccountNumber] = useState<{ [key: string]: boolean }>({})\n  const [formData, setFormData] = useState({\n    accountType: 'bank' as 'bank' | 'credit_card' | 'digital_wallet',\n    accountName: '',\n    accountNumber: '',\n    bankName: '',\n    branchName: '',\n    accountHolderName: '',\n    isDefault: false\n  })\n\n  useEffect(() => {\n    loadAccounts()\n  }, [])\n\n  const loadAccounts = async () => {\n    // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n    const sampleAccounts: AccountInfo[] = [\n      {\n        id: '1',\n        accountType: 'bank',\n        accountName: 'ãƒ¡ã‚¤ãƒ³å£åº§',\n        accountNumber: '1234567',\n        bankName: 'ä¸‰è±UFJéŠ€è¡Œ',\n        branchName: 'å“å·æ”¯åº—',\n        accountHolderName: 'æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«',\n        isDefault: true,\n        isVerified: true,\n        addedDate: '2024-01-01',\n        lastUsed: '2024-01-15'\n      },\n      {\n        id: '2',\n        accountType: 'credit_card',\n        accountName: 'æ³•äººã‚«ãƒ¼ãƒ‰',\n        accountNumber: '****-****-****-1234',\n        accountHolderName: 'æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«',\n        isDefault: false,\n        isVerified: true,\n        addedDate: '2024-01-05',\n        lastUsed: '2024-01-14'\n      },\n      {\n        id: '3',\n        accountType: 'digital_wallet',\n        accountName: 'PayPay',\n        accountNumber: 'paypay@example.com',\n        accountHolderName: 'æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«',\n        isDefault: false,\n        isVerified: false,\n        addedDate: '2024-01-10'\n      }\n    ]\n\n    setAccounts(sampleAccounts)\n  }\n\n  const handleAddAccount = () => {\n    setFormData({\n      accountType: 'bank',\n      accountName: '',\n      accountNumber: '',\n      bankName: '',\n      branchName: '',\n      accountHolderName: '',\n      isDefault: false\n    })\n    setEditingAccount(null)\n    setShowAddModal(true)\n  }\n\n  const handleEditAccount = (account: AccountInfo) => {\n    setFormData({\n      accountType: account.accountType,\n      accountName: account.accountName,\n      accountNumber: account.accountNumber,\n      bankName: account.bankName || '',\n      branchName: account.branchName || '',\n      accountHolderName: account.accountHolderName,\n      isDefault: account.isDefault\n    })\n    setEditingAccount(account)\n    setShowAddModal(true)\n  }\n\n  const handleSaveAccount = () => {\n    if (editingAccount) {\n      // ç·¨é›†\n      setAccounts(prev => prev.map(account => \n        account.id === editingAccount.id \n          ? { ...account, ...formData, isVerified: account.isVerified, addedDate: account.addedDate, lastUsed: account.lastUsed }\n          : account\n      ))\n    } else {\n      // æ–°è¦è¿½åŠ \n      const newAccount: AccountInfo = {\n        id: Date.now().toString(),\n        ...formData,\n        isVerified: false,\n        addedDate: new Date().toISOString().split('T')[0]\n      }\n      setAccounts(prev => [...prev, newAccount])\n    }\n    setShowAddModal(false)\n    setEditingAccount(null)\n  }\n\n  const handleDeleteAccount = (accountId: string) => {\n    if (confirm('ã“ã®å£åº§æƒ…å ±ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {\n      setAccounts(prev => prev.filter(account => account.id !== accountId))\n    }\n  }\n\n  const handleSetDefault = (accountId: string) => {\n    setAccounts(prev => prev.map(account => ({\n      ...account,\n      isDefault: account.id === accountId\n    })))\n  }\n\n  const toggleAccountNumberVisibility = (accountId: string) => {\n    setShowAccountNumber(prev => ({\n      ...prev,\n      [accountId]: !prev[accountId]\n    }))\n  }\n\n  const getAccountTypeIcon = (type: string) => {\n    switch (type) {\n      case 'bank': return <Building2 className=\"h-5 w-5\" />\n      case 'credit_card': return <CreditCard className=\"h-5 w-5\" />\n      case 'digital_wallet': return <Shield className=\"h-5 w-5\" />\n      default: return <Building2 className=\"h-5 w-5\" />\n    }\n  }\n\n  const getAccountTypeText = (type: string) => {\n    switch (type) {\n      case 'bank': return 'éŠ€è¡Œå£åº§'\n      case 'credit_card': return 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰'\n      case 'digital_wallet': return 'é›»å­ãƒãƒãƒ¼'\n      default: return 'ä¸æ˜'\n    }\n  }\n\n  const maskAccountNumber = (accountNumber: string, type: string) => {\n    if (type === 'credit_card') {\n      return accountNumber\n    }\n    if (type === 'digital_wallet') {\n      return accountNumber\n    }\n    return '****' + accountNumber.slice(-4)\n  }\n\n  const banks = [\n    'ä¸‰è±UFJéŠ€è¡Œ', 'ä¸‰äº•ä½å‹éŠ€è¡Œ', 'ã¿ãšã»éŠ€è¡Œ', 'ã‚ŠããªéŠ€è¡Œ', 'æ¥½å¤©éŠ€è¡Œ', 'ä½ä¿¡SBIãƒãƒƒãƒˆéŠ€è¡Œ', 'ãã®ä»–'\n  ]\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">å£åº§æƒ…å ±</h1>\n            <p className=\"text-gray-600\">æ”¯æ‰•ã„ç”¨ã®å£åº§æƒ…å ±ã‚’ç®¡ç†ã§ãã¾ã™</p>\n          </div>\n          <button\n            onClick={handleAddAccount}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            <span>å£åº§ã‚’è¿½åŠ </span>\n          </button>\n        </div>\n      </div>\n\n      {/* å£åº§ä¸€è¦§ */}\n      <div className=\"space-y-6\">\n        {accounts.map((account) => (\n          <div key={account.id} className=\"bg-white rounded-lg shadow-sm border\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <div className=\"flex justify-between items-center\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"text-blue-600\">\n                    {getAccountTypeIcon(account.accountType)}\n                  </div>\n                  <div>\n                    <h2 className=\"text-lg font-semibold text-gray-900\">{account.accountName}</h2>\n                    <p className=\"text-sm text-gray-600\">{getAccountTypeText(account.accountType)}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  {account.isDefault && (\n                    <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800\">\n                      ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\n                    </span>\n                  )}\n                  {account.isVerified ? (\n                    <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 flex items-center space-x-1\">\n                      <CheckCircle className=\"h-3 w-3\" />\n                      <span>èªè¨¼æ¸ˆã¿</span>\n                    </span>\n                  ) : (\n                    <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 flex items-center space-x-1\">\n                      <AlertCircle className=\"h-3 w-3\" />\n                      <span>æœªèªè¨¼</span>\n                    </span>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-2\">å£åº§æƒ…å ±</h3>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm text-gray-600\">å£åº§ç•ªå·:</span>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm text-gray-900 font-mono\">\n                          {showAccountNumber[account.id] ? account.accountNumber : maskAccountNumber(account.accountNumber, account.accountType)}\n                        </span>\n                        <button\n                          onClick={() => toggleAccountNumberVisibility(account.id)}\n                          className=\"text-gray-400 hover:text-gray-600\"\n                        >\n                          {showAccountNumber[account.id] ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                        </button>\n                      </div>\n                    </div>\n                    {account.bankName && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-sm text-gray-600\">éŠ€è¡Œå:</span>\n                        <span className=\"text-sm text-gray-900\">{account.bankName}</span>\n                      </div>\n                    )}\n                    {account.branchName && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-sm text-gray-600\">æ”¯åº—å:</span>\n                        <span className=\"text-sm text-gray-900\">{account.branchName}</span>\n                      </div>\n                    )}\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">å£åº§åç¾©:</span>\n                      <span className=\"text-sm text-gray-900\">{account.accountHolderName}</span>\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-2\">åˆ©ç”¨çŠ¶æ³</h3>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">è¿½åŠ æ—¥:</span>\n                      <span className=\"text-sm text-gray-900\">{new Date(account.addedDate).toLocaleDateString('ja-JP')}</span>\n                    </div>\n                    {account.lastUsed && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-sm text-gray-600\">æœ€çµ‚åˆ©ç”¨:</span>\n                        <span className=\"text-sm text-gray-900\">{new Date(account.lastUsed).toLocaleDateString('ja-JP')}</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-6 flex justify-end space-x-2\">\n                {!account.isDefault && (\n                  <button\n                    onClick={() => handleSetDefault(account.id)}\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n                  >\n                    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«è¨­å®š\n                  </button>\n                )}\n                <button\n                  onClick={() => handleEditAccount(account)}\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2\"\n                >\n                  <Edit className=\"h-4 w-4\" />\n                  <span>ç·¨é›†</span>\n                </button>\n                <button\n                  onClick={() => handleDeleteAccount(account.id)}\n                  className=\"px-4 py-2 border border-red-300 rounded-lg text-red-700 hover:bg-red-50 flex items-center space-x-2\"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                  <span>å‰Šé™¤</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* è¿½åŠ ãƒ»ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">\n                  {editingAccount ? 'å£åº§ã‚’ç·¨é›†' : 'å£åº§ã‚’è¿½åŠ '}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowAddModal(false)\n                    setEditingAccount(null)\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"h-6 w-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">å£åº§ã‚¿ã‚¤ãƒ— *</label>\n                  <select\n                    value={formData.accountType}\n                    onChange={(e) => setFormData(prev => ({ ...prev, accountType: e.target.value as any }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"bank\">éŠ€è¡Œå£åº§</option>\n                    <option value=\"credit_card\">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</option>\n                    <option value=\"digital_wallet\">é›»å­ãƒãƒãƒ¼</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">å£åº§å *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.accountName}\n                    onChange={(e) => setFormData(prev => ({ ...prev, accountName: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"ãƒ¡ã‚¤ãƒ³å£åº§\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">å£åº§ç•ªå·/ã‚«ãƒ¼ãƒ‰ç•ªå· *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.accountNumber}\n                    onChange={(e) => setFormData(prev => ({ ...prev, accountNumber: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"1234567 ã¾ãŸã¯ 1234-5678-9012-3456\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">å£åº§åç¾© *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.accountHolderName}\n                    onChange={(e) => setFormData(prev => ({ ...prev, accountHolderName: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«\"\n                  />\n                </div>\n\n                {formData.accountType === 'bank' && (\n                  <>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">éŠ€è¡Œå *</label>\n                      <select\n                        value={formData.bankName}\n                        onChange={(e) => setFormData(prev => ({ ...prev, bankName: e.target.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      >\n                        <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                        {banks.map(bank => (\n                          <option key={bank} value={bank}>{bank}</option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">æ”¯åº—å *</label>\n                      <input\n                        type=\"text\"\n                        required\n                        value={formData.branchName}\n                        onChange={(e) => setFormData(prev => ({ ...prev, branchName: e.target.value }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"å“å·æ”¯åº—\"\n                      />\n                    </div>\n                  </>\n                )}\n              </div>\n\n              <div>\n                <label className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.isDefault}\n                    onChange={(e) => setFormData(prev => ({ ...prev, isDefault: e.target.checked }))}\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  />\n                  <span className=\"text-sm text-gray-700\">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå£åº§ã«è¨­å®šã™ã‚‹</span>\n                </label>\n              </div>\n            </div>\n\n            <div className=\"px-6 py-4 border-t border-gray-200 flex justify-end space-x-2\">\n              <button\n                onClick={() => {\n                  setShowAddModal(false)\n                  setEditingAccount(null)\n                }}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n              >\n                ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n              </button>\n              <button\n                onClick={handleSaveAccount}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n              >\n                <Save className=\"h-4 w-4\" />\n                <span>{editingAccount ? 'æ›´æ–°' : 'è¿½åŠ '}</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </DashboardLayout>\n  )\n}\n\n","size_bytes":18580},"src/app/api/shipments/[id]/route.ts":{"content":"import { NextRequest } from 'next/server'\nimport { getUserFromRequest } from '@/lib/auth'\nimport {\n  successResponse,\n  errorResponse,\n  unauthorizedResponse,\n  forbiddenResponse,\n  notFoundResponse,\n} from '@/lib/api-response'\nimport prisma from '@/lib/prisma'\n\nexport const dynamic = 'force-dynamic'\n\n// é…é€æ¡ˆä»¶è©³ç´°å–å¾—\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: { id: string } }\n) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    const shipment = await prisma.shipment.findUnique({\n      where: { id: params.id },\n      include: {\n        shipper: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n            phone: true,\n            email: true,\n          },\n        },\n        carrier: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n            phone: true,\n            email: true,\n          },\n        },\n        offers: {\n          include: {\n            carrier: {\n              select: {\n                id: true,\n                companyName: true,\n                contactPerson: true,\n                phone: true,\n              },\n            },\n          },\n          orderBy: {\n            createdAt: 'desc',\n          },\n        },\n      },\n    })\n    \n    if (!shipment) {\n      return notFoundResponse('é…é€æ¡ˆä»¶ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')\n    }\n    \n    return successResponse(shipment)\n  } catch (error) {\n    console.error('Get shipment error:', error)\n    return errorResponse('é…é€æ¡ˆä»¶ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n// é…é€æ¡ˆä»¶æ›´æ–°\nexport async function PATCH(\n  request: NextRequest,\n  { params }: { params: { id: string } }\n) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    const shipment = await prisma.shipment.findUnique({\n      where: { id: params.id },\n    })\n    \n    if (!shipment) {\n      return notFoundResponse('é…é€æ¡ˆä»¶ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')\n    }\n    \n    // è‡ªåˆ†ã®æ¡ˆä»¶ã®ã¿æ›´æ–°å¯èƒ½\n    if (shipment.shipperId !== user.userId) {\n      return forbiddenResponse('ã“ã®é…é€æ¡ˆä»¶ã‚’æ›´æ–°ã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“')\n    }\n    \n    const body = await request.json()\n    \n    const updatedShipment = await prisma.shipment.update({\n      where: { id: params.id },\n      data: {\n        status: body.status,\n      },\n      include: {\n        shipper: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n          },\n        },\n        carrier: {\n          select: {\n            id: true,\n            companyName: true,\n            contactPerson: true,\n          },\n        },\n      },\n    })\n    \n    return successResponse(updatedShipment)\n  } catch (error) {\n    console.error('Update shipment error:', error)\n    return errorResponse('é…é€æ¡ˆä»¶ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n// é…é€æ¡ˆä»¶å‰Šé™¤\nexport async function DELETE(\n  request: NextRequest,\n  { params }: { params: { id: string } }\n) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    const shipment = await prisma.shipment.findUnique({\n      where: { id: params.id },\n    })\n    \n    if (!shipment) {\n      return notFoundResponse('é…é€æ¡ˆä»¶ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')\n    }\n    \n    // è‡ªåˆ†ã®æ¡ˆä»¶ã®ã¿å‰Šé™¤å¯èƒ½\n    if (shipment.shipperId !== user.userId) {\n      return forbiddenResponse('ã“ã®é…é€æ¡ˆä»¶ã‚’å‰Šé™¤ã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“')\n    }\n    \n    await prisma.shipment.delete({\n      where: { id: params.id },\n    })\n    \n    return successResponse({ message: 'é…é€æ¡ˆä»¶ã‚’å‰Šé™¤ã—ã¾ã—ãŸ' })\n  } catch (error) {\n    console.error('Delete shipment error:', error)\n    return errorResponse('é…é€æ¡ˆä»¶ã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n","size_bytes":3996},"src/app/api/auth/login/route.ts":{"content":"import { NextRequest } from 'next/server'\nexport const dynamic = 'force-dynamic'\nimport { loginSchema } from '@/lib/validators'\nimport { verifyPassword, generateToken } from '@/lib/auth'\nimport { successResponse, errorResponse } from '@/lib/api-response'\nimport prisma from '@/lib/prisma'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json()\n    \n    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    const validatedData = loginSchema.parse(body)\n    \n    // ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢\n    const user = await prisma.user.findUnique({\n      where: { email: validatedData.email },\n    })\n    \n    if (!user) {\n      return errorResponse('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“', 401)\n    }\n    \n    // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼\n    const isValidPassword = await verifyPassword(\n      validatedData.password,\n      user.password\n    )\n    \n    if (!isValidPassword) {\n      return errorResponse('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“', 401)\n    }\n    \n    // JWTãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ\n    const token = generateToken({\n      userId: user.id,\n      email: user.email,\n      userType: user.userType as 'SHIPPER' | 'CARRIER',\n    })\n    \n    return successResponse({\n      user: {\n        id: user.id,\n        email: user.email,\n        userType: user.userType as 'SHIPPER' | 'CARRIER',\n        companyName: user.companyName,\n        contactPerson: user.contactPerson,\n        phone: user.phone,\n      },\n      token,\n    })\n  } catch (error: any) {\n    if (error.name === 'ZodError') {\n      return errorResponse(error.errors[0].message)\n    }\n    console.error('Login error:', error)\n    return errorResponse('ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n","size_bytes":1731},"src/app/register/page.tsx":{"content":"'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\n\nexport default function RegisterPage() {\n  const router = useRouter()\n  const [formData, setFormData] = useState({\n    contactPerson: '',\n    email: '',\n    password: '',\n  })\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    try {\n      const response = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || 'ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ')\n      }\n\n      // ãƒˆãƒ¼ã‚¯ãƒ³ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜\n      localStorage.setItem('token', data.data.token)\n      localStorage.setItem('user', JSON.stringify(data.data.user))\n\n      // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ\n      router.push('/dashboard')\n    } catch (err: any) {\n      setError(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen gradient-bg flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full\">\n        {/* ã‚¿ã‚¤ãƒˆãƒ« */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-slate-800 mb-2\">\n            æ–°è¦ç™»éŒ²\n          </h1>\n          <p className=\"text-slate-600\">\n            ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ã”åˆ©ç”¨ãã ã•ã„\n          </p>\n          <div className=\"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-200\">\n            <p className=\"text-sm text-slate-700 leading-relaxed\">\n              é‹é€äº‹æ¥­æ³•ã«åŸºã¥ãè¨±å¯ã‚’å—ã‘ãŸäº‹æ¥­è€…æ§˜ã®ã¿<br />\n              ãƒãƒƒãƒãƒ³ã‚°ãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚\n            </p>\n            <p className=\"text-sm text-slate-700 leading-relaxed mt-3\">\n              ç„¡æ–™ãŠè©¦ã—æœŸé–“ã¯14æ—¥é–“ã«ãªã£ã¦ãŠã‚Š<br />\n              ç¶™ç¶šã—ãªã„å ´åˆã¯è²»ç”¨ã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚\n            </p>\n          </div>\n        </div>\n\n        {/* ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ  */}\n        <div className=\"floating-card\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm\">\n                {error}\n              </div>\n            )}\n\n            <div>\n              <label htmlFor=\"contactPerson\" className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                æ‹…å½“è€…å <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                id=\"contactPerson\"\n                name=\"contactPerson\"\n                type=\"text\"\n                required\n                className=\"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                placeholder=\"å±±ç”°å¤ªéƒ\"\n                value={formData.contactPerson}\n                onChange={(e) =>\n                  setFormData({ ...formData, contactPerson: e.target.value })\n                }\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                required\n                className=\"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                placeholder=\"email@example.com\"\n                value={formData.email}\n                onChange={(e) =>\n                  setFormData({ ...formData, email: e.target.value })\n                }\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                minLength={8}\n                className=\"w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                placeholder=\"8æ–‡å­—ä»¥ä¸Š\"\n                value={formData.password}\n                onChange={(e) =>\n                  setFormData({ ...formData, password: e.target.value })\n                }\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full btn-primary py-3 text-lg disabled:opacity-50\"\n            >\n              {loading ? 'ç™»éŒ²ä¸­...' : 'ç™»éŒ²ã™ã‚‹'}\n            </button>\n\n            <div className=\"text-center\">\n              <span className=\"text-slate-600\">æ—¢ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã®æ–¹ã¯ </span>\n              <Link href=\"/login\" className=\"text-blue-600 hover:text-blue-700 font-semibold hover:scale-105 transition-transform\">\n                ãƒ­ã‚°ã‚¤ãƒ³\n              </Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n}","size_bytes":5625},"src/app/dashboard/partners/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Users, \n  Search, \n  Filter, \n  Plus, \n  Eye, \n  MessageCircle, \n  Phone, \n  Mail, \n  MapPin, \n  Star,\n  Calendar,\n  Package,\n  CheckCircle,\n  Trash2,\n  Edit,\n  User,\n  Building2,\n  MoreVertical,\n  Save,\n  X\n} from 'lucide-react'\n\ninterface Partner {\n  id: string\n  companyName: string\n  contactPerson: string\n  email: string\n  phone: string\n  address: string\n  postalCode: string\n  userType: 'SHIPPER' | 'CARRIER'\n  rating: number\n  totalTransactions: number\n  lastTransactionDate: string\n  addedDate: string\n  status: 'active' | 'inactive' | 'pending'\n  notes?: string\n  specialties?: string[]\n}\n\nexport default function PartnersPage() {\n  const [partners, setPartners] = useState<Partner[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [statusFilter, setStatusFilter] = useState<'all' | 'active' | 'inactive' | 'pending'>('all')\n  const [userTypeFilter, setUserTypeFilter] = useState<'all' | 'SHIPPER' | 'CARRIER'>('all')\n  const [showAddModal, setShowAddModal] = useState(false)\n  const [editingPartner, setEditingPartner] = useState<Partner | null>(null)\n  const [formData, setFormData] = useState({\n    companyName: '',\n    contactPerson: '',\n    phone: '',\n    email: '',\n    address: '',\n    postalCode: '',\n    userType: 'SHIPPER' as 'SHIPPER' | 'CARRIER',\n    status: 'active' as 'active' | 'inactive' | 'pending',\n    specialties: [] as string[],\n    notes: ''\n  })\n\n  useEffect(() => {\n    loadPartners()\n  }, [])\n\n  const loadPartners = async () => {\n    try {\n      // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n      const samplePartners: Partner[] = [\n        {\n          id: '1',\n          companyName: 'æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯',\n          contactPerson: 'ç”°ä¸­å¤ªéƒ',\n          email: 'tanaka@translogic.co.jp',\n          phone: '03-1234-5678',\n          address: 'æ±äº¬éƒ½æ¸¯åŒºå…­æœ¬æœ¨1-1-1',\n          postalCode: '106-0032',\n          userType: 'CARRIER',\n          rating: 4.8,\n          totalTransactions: 15,\n          lastTransactionDate: '2024-01-10',\n          addedDate: '2023-06-15',\n          status: 'active',\n          notes: 'ä¿¡é ¼ã§ãã‚‹ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã€‚å†·å‡è¼¸é€ã«å¼·ã¿ã€‚',\n          specialties: ['å†·å‡è¼¸é€', 'é–¢æ±åœ', 'æ€¥ä¾¿å¯¾å¿œ']\n        },\n        {\n          id: '2',\n          companyName: 'å±±ç”°é‹é€æ ªå¼ä¼šç¤¾',\n          contactPerson: 'å±±ç”°èŠ±å­',\n          email: 'yamada@yamada-transport.co.jp',\n          phone: '06-9876-5432',\n          address: 'å¤§é˜ªåºœå¤§é˜ªå¸‚åŒ—åŒºæ¢…ç”°2-2-2',\n          postalCode: '530-0001',\n          userType: 'CARRIER',\n          rating: 4.5,\n          totalTransactions: 8,\n          lastTransactionDate: '2024-01-05',\n          addedDate: '2023-08-20',\n          status: 'active',\n          notes: 'é–¢è¥¿åœã®è¼¸é€ã§ã‚ˆãåˆ©ç”¨ã€‚',\n          specialties: ['ä¸€èˆ¬è²¨ç‰©', 'é–¢è¥¿åœ', 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯']\n        },\n        {\n          id: '3',\n          companyName: 'æ ªå¼ä¼šç¤¾ã‚°ãƒªãƒ¼ãƒ³ãƒ­ã‚¸ã‚¹ãƒ†ã‚£ã‚¯ã‚¹',\n          contactPerson: 'ä½è—¤æ¬¡éƒ',\n          email: 'sato@greenlogistics.co.jp',\n          phone: '052-1111-2222',\n          address: 'æ„›çŸ¥çœŒåå¤å±‹å¸‚ä¸­åŒºæ „3-3-3',\n          postalCode: '460-0008',\n          userType: 'SHIPPER',\n          rating: 4.2,\n          totalTransactions: 23,\n          lastTransactionDate: '2023-12-28',\n          addedDate: '2023-04-10',\n          status: 'active',\n          notes: 'ç’°å¢ƒã«é…æ…®ã—ãŸç‰©æµã‚’é‡è¦–ã€‚',\n          specialties: ['ã‚¨ã‚³ç‰©æµ', 'ä¸­éƒ¨åœ', 'BtoB']\n        },\n        {\n          id: '4',\n          companyName: 'ã‚¹ãƒ”ãƒ¼ãƒ‰ç‰©æµæ ªå¼ä¼šç¤¾',\n          contactPerson: 'éˆ´æœ¨ä¸€éƒ',\n          email: 'suzuki@speedlogistics.co.jp',\n          phone: '092-3333-4444',\n          address: 'ç¦å²¡çœŒç¦å²¡å¸‚åšå¤šåŒºåšå¤šé§…å‰4-4-4',\n          postalCode: '812-0011',\n          userType: 'CARRIER',\n          rating: 4.7,\n          totalTransactions: 12,\n          lastTransactionDate: '2023-11-15',\n          addedDate: '2023-09-05',\n          status: 'inactive',\n          notes: 'ä¹å·åœã®é«˜é€Ÿè¼¸é€ã€‚æœ€è¿‘å–å¼•ãªã—ã€‚',\n          specialties: ['é«˜é€Ÿè¼¸é€', 'ä¹å·åœ', '24æ™‚é–“å¯¾å¿œ']\n        }\n      ]\n      \n      setPartners(samplePartners)\n    } catch (error) {\n      console.error('Error loading partners:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAddPartner = () => {\n    setFormData({\n      companyName: '',\n      contactPerson: '',\n      phone: '',\n      email: '',\n      address: '',\n      postalCode: '',\n      userType: 'SHIPPER',\n      status: 'active',\n      specialties: [],\n      notes: ''\n    })\n    setShowAddModal(true)\n  }\n\n  const handleEditPartner = (partner: Partner) => {\n    setFormData({\n      companyName: partner.companyName,\n      contactPerson: partner.contactPerson,\n      phone: partner.phone,\n      email: partner.email,\n      address: partner.address,\n      postalCode: partner.postalCode,\n      userType: partner.userType,\n      status: partner.status,\n      specialties: partner.specialties || [],\n      notes: partner.notes || ''\n    })\n    setEditingPartner(partner)\n    setShowAddModal(true)\n  }\n\n  const handleSavePartner = () => {\n    if (editingPartner) {\n      // ç·¨é›†\n      setPartners(prev => prev.map(partner => \n        partner.id === editingPartner.id \n          ? { ...partner, ...formData, rating: partner.rating, totalTransactions: partner.totalTransactions, lastTransactionDate: partner.lastTransactionDate, addedDate: partner.addedDate }\n          : partner\n      ))\n    } else {\n      // æ–°è¦è¿½åŠ \n      const newPartner: Partner = {\n        id: Date.now().toString(),\n        ...formData,\n        rating: 0,\n        totalTransactions: 0,\n        lastTransactionDate: '',\n        addedDate: new Date().toISOString().split('T')[0]\n      }\n      setPartners(prev => [...prev, newPartner])\n    }\n    setShowAddModal(false)\n    setEditingPartner(null)\n  }\n\n  const handleDeletePartner = (partnerId: string) => {\n    if (!confirm('ã“ã®å–å¼•å…ˆã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return\n    setPartners(prev => prev.filter(p => p.id !== partnerId))\n  }\n\n  const handleInputChange = (field: string, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n  }\n\n  const handleSpecialtyToggle = (specialty: string) => {\n    setFormData(prev => ({\n      ...prev,\n      specialties: prev.specialties.includes(specialty)\n        ? prev.specialties.filter(s => s !== specialty)\n        : [...prev.specialties, specialty]\n    }))\n  }\n\n  const getStatusInfo = (status: string) => {\n    switch (status) {\n      case 'active':\n        return { label: 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–', color: 'bg-green-100 text-green-800' }\n      case 'inactive':\n        return { label: 'éã‚¢ã‚¯ãƒ†ã‚£ãƒ–', color: 'bg-gray-100 text-gray-800' }\n      case 'pending':\n        return { label: 'æ‰¿èªå¾…ã¡', color: 'bg-yellow-100 text-yellow-800' }\n      default:\n        return { label: 'ä¸æ˜', color: 'bg-gray-100 text-gray-800' }\n    }\n  }\n\n  const filteredPartners = partners.filter(partner => {\n    const matchesSearch = searchTerm === '' || \n      partner.companyName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      partner.contactPerson.toLowerCase().includes(searchTerm.toLowerCase())\n    \n    const matchesStatus = statusFilter === 'all' || partner.status === statusFilter\n    const matchesUserType = userTypeFilter === 'all' || partner.userType === userTypeFilter\n    \n    return matchesSearch && matchesStatus && matchesUserType\n  })\n\n  const renderStars = (rating: number) => {\n    return Array.from({ length: 5 }, (_, i) => (\n      <Star\n        key={i}\n        className={`h-4 w-4 ${\n          i < Math.floor(rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'\n        }`}\n      />\n    ))\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">å–å¼•å…ˆç®¡ç†</h1>\n            <p className=\"text-gray-600\">å–å¼•å…ˆä¼æ¥­ã®ç®¡ç†ã¨é€£çµ¡å…ˆæƒ…å ±ã‚’ç¢ºèªã§ãã¾ã™</p>\n          </div>\n            <button\n              onClick={handleAddPartner}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              <span>å–å¼•å…ˆã‚’è¿½åŠ </span>\n            </button>\n        </div>\n      </div>\n\n      {/* æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */}\n      <div className=\"bg-white rounded-lg shadow-sm border mb-6\">\n        <div className=\"p-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"ä¼šç¤¾åã€æ‹…å½“è€…åã§æ¤œç´¢...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <div>\n              <div className=\"flex items-center space-x-2\">\n                <Filter className=\"h-4 w-4 text-gray-500\" />\n                <select\n                  value={statusFilter}\n                  onChange={(e) => setStatusFilter(e.target.value as any)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"all\">ã™ã¹ã¦ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</option>\n                  <option value=\"active\">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–</option>\n                  <option value=\"inactive\">éã‚¢ã‚¯ãƒ†ã‚£ãƒ–</option>\n                  <option value=\"pending\">æ‰¿èªå¾…ã¡</option>\n                </select>\n              </div>\n            </div>\n            <div>\n              <select\n                value={userTypeFilter}\n                onChange={(e) => setUserTypeFilter(e.target.value as any)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"all\">ã™ã¹ã¦ã®ä¼æ¥­ã‚¿ã‚¤ãƒ—</option>\n                <option value=\"SHIPPER\">è·ä¸»ä¼æ¥­</option>\n                <option value=\"CARRIER\">é‹é€æ¥­è€…</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* å–å¼•å…ˆä¸€è¦§ */}\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            å–å¼•å…ˆä¸€è¦§ ({filteredPartners.length}ä»¶)\n          </h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : filteredPartners.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Users className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>å–å¼•å…ˆã¯ã‚ã‚Šã¾ã›ã‚“</p>\n            <button\n              className=\"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n            >\n              æœ€åˆã®å–å¼•å…ˆã‚’è¿½åŠ ã™ã‚‹\n            </button>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredPartners.map((partner) => {\n              const statusInfo = getStatusInfo(partner.status)\n              \n              return (\n                <div key={partner.id} className=\"p-6 hover:bg-gray-50\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        <h3 className=\"text-lg font-medium text-gray-900\">\n                          {partner.companyName}\n                        </h3>\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                          partner.userType === 'SHIPPER' \n                            ? 'bg-blue-100 text-blue-800' \n                            : 'bg-green-100 text-green-800'\n                        }`}>\n                          {partner.userType === 'SHIPPER' ? 'è·ä¸»ä¼æ¥­' : 'é‹é€æ¥­è€…'}\n                        </span>\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${statusInfo.color}`}>\n                          {statusInfo.label}\n                        </span>\n                      </div>\n                      \n                      {/* è©•ä¾¡ã¨å–å¼•å®Ÿç¸¾ */}\n                      <div className=\"flex items-center space-x-4 mb-3\">\n                        <div className=\"flex items-center space-x-1\">\n                          {renderStars(partner.rating)}\n                          <span className=\"text-sm text-gray-600 ml-1\">({partner.rating})</span>\n                        </div>\n                        <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\n                          <span className=\"flex items-center\">\n                            <Package className=\"h-4 w-4 mr-1\" />\n                            å–å¼•å›æ•°: {partner.totalTransactions}å›\n                          </span>\n                          <span className=\"flex items-center\">\n                            <Calendar className=\"h-4 w-4 mr-1\" />\n                            æœ€çµ‚å–å¼•: {new Date(partner.lastTransactionDate).toLocaleDateString('ja-JP')}\n                          </span>\n                        </div>\n                      </div>\n\n                      {/* é€£çµ¡å…ˆæƒ…å ± */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700 mb-3\">\n                        <div className=\"flex items-center\">\n                          <User className=\"h-4 w-4 mr-2 text-gray-500\" />\n                          <span>{partner.contactPerson}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Phone className=\"h-4 w-4 mr-2 text-gray-500\" />\n                          <span>{partner.phone}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <Mail className=\"h-4 w-4 mr-2 text-gray-500\" />\n                          <span>{partner.email}</span>\n                        </div>\n                        <div className=\"flex items-center\">\n                          <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                          <span>{partner.postalCode} {partner.address}</span>\n                        </div>\n                      </div>\n\n                      {/* ãƒ¡ãƒ¢ */}\n                      {partner.notes && (\n                        <div className=\"mb-3\">\n                          <p className=\"text-sm text-gray-600 bg-gray-50 p-2 rounded\">\n                            <strong>ãƒ¡ãƒ¢:</strong> {partner.notes}\n                          </p>\n                        </div>\n                      )}\n\n                      {/* å°‚é–€åˆ†é‡ */}\n                      {partner.specialties && partner.specialties.length > 0 && (\n                        <div className=\"flex flex-wrap gap-2 mb-3\">\n                          {partner.specialties.map((specialty, index) => (\n                            <span\n                              key={index}\n                              className=\"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full\"\n                            >\n                              {specialty}\n                            </span>\n                          ))}\n                        </div>\n                      )}\n\n                      <div className=\"text-xs text-gray-400\">\n                        è¿½åŠ æ—¥: {new Date(partner.addedDate).toLocaleDateString('ja-JP')}\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        className=\"p-2 text-gray-400 hover:text-blue-600\"\n                        title=\"è©³ç´°ã‚’è¦‹ã‚‹\"\n                      >\n                        <Eye className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        className=\"p-2 text-gray-400 hover:text-green-600\"\n                        title=\"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹\"\n                      >\n                        <MessageCircle className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleEditPartner(partner)}\n                        className=\"p-2 text-gray-400 hover:text-purple-600\"\n                        title=\"ç·¨é›†\"\n                      >\n                        <Edit className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDeletePartner(partner.id)}\n                        className=\"p-2 text-gray-400 hover:text-red-600\"\n                        title=\"å‰Šé™¤\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* è¿½åŠ ãƒ»ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">\n                  {editingPartner ? 'å–å¼•å…ˆã‚’ç·¨é›†' : 'å–å¼•å…ˆã‚’è¿½åŠ '}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowAddModal(false)\n                    setEditingPartner(null)\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"h-6 w-6\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"p-6 space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä¼šç¤¾å *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.companyName}\n                    onChange={(e) => handleInputChange('companyName', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">æ‹…å½“è€…å *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.contactPerson}\n                    onChange={(e) => handleInputChange('contactPerson', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"å±±ç”°å¤ªéƒ\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">é›»è©±ç•ªå· *</label>\n                  <input\n                    type=\"tel\"\n                    required\n                    value={formData.phone}\n                    onChange={(e) => handleInputChange('phone', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"03-1234-5678\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ *</label>\n                  <input\n                    type=\"email\"\n                    required\n                    value={formData.email}\n                    onChange={(e) => handleInputChange('email', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"yamada@example.com\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">éƒµä¾¿ç•ªå·</label>\n                  <input\n                    type=\"text\"\n                    value={formData.postalCode}\n                    onChange={(e) => handleInputChange('postalCode', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"106-0032\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä½æ‰€ *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.address}\n                    onChange={(e) => handleInputChange('address', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"æ±äº¬éƒ½æ¸‹è°·åŒºæµæ¯”å¯¿1-2-3\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ã‚¿ã‚¤ãƒ— *</label>\n                  <select\n                    value={formData.userType}\n                    onChange={(e) => handleInputChange('userType', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"SHIPPER\">è·ä¸»</option>\n                    <option value=\"CARRIER\">é‹é€ä¼šç¤¾</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ *</label>\n                  <select\n                    value={formData.status}\n                    onChange={(e) => handleInputChange('status', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"active\">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–</option>\n                    <option value=\"inactive\">éã‚¢ã‚¯ãƒ†ã‚£ãƒ–</option>\n                    <option value=\"pending\">æ‰¿èªå¾…ã¡</option>\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">å°‚é–€åˆ†é‡</label>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                  {['å¤§å‹è²¨ç‰©', 'å°å‹è²¨ç‰©', 'å†·è”µè¼¸é€', 'å†·å‡è¼¸é€', 'å±é™ºç‰©', 'ç”Ÿé®®é£Ÿå“', 'ç²¾å¯†æ©Ÿå™¨', 'ç¾è¡“å“', 'é–¢æ±åœ', 'é–¢è¥¿åœ', 'ä¸­éƒ¨åœ', 'ä¹å·åœ', 'åŒ—æµ·é“', 'æ€¥ä¾¿å¯¾å¿œ', '24æ™‚é–“å¯¾å¿œ', 'é•·è·é›¢å¯¾å¿œ'].map(specialty => (\n                    <label key={specialty} className=\"flex items-center space-x-2 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        checked={formData.specialties.includes(specialty)}\n                        onChange={() => handleSpecialtyToggle(specialty)}\n                        className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                      />\n                      <span className=\"text-sm text-gray-700\">{specialty}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ãƒ¡ãƒ¢</label>\n                <textarea\n                  value={formData.notes}\n                  onChange={(e) => handleInputChange('notes', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  rows={3}\n                  placeholder=\"å–å¼•å…ˆã«é–¢ã™ã‚‹ãƒ¡ãƒ¢ã‚„ç‰¹è¨˜äº‹é …\"\n                />\n              </div>\n            </div>\n\n            <div className=\"px-6 py-4 border-t border-gray-200 flex justify-end space-x-2\">\n              <button\n                onClick={() => {\n                  setShowAddModal(false)\n                  setEditingPartner(null)\n                }}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50\"\n              >\n                ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n              </button>\n              <button\n                onClick={handleSavePartner}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n              >\n                <Save className=\"h-4 w-4\" />\n                <span>{editingPartner ? 'æ›´æ–°' : 'è¿½åŠ '}</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </DashboardLayout>\n  )\n}","size_bytes":26025},"src/app/api/admin/analytics/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server'\nimport { prisma } from '@/lib/prisma'\nimport { verifyAdminSession } from '@/lib/auth'\n\n// ç®¡ç†è€…æ¨©é™ãƒã‚§ãƒƒã‚¯ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢\nasync function requireAdmin(request: NextRequest) {\n  const token = request.cookies.get('admin_token')?.value\n\n  if (!token) {\n    return NextResponse.json(\n      { error: 'ç®¡ç†è€…èªè¨¼ãŒå¿…è¦ã§ã™' },\n      { status: 401 }\n    )\n  }\n\n  const payload = verifyAdminSession(token)\n\n  if (!payload) {\n    return NextResponse.json(\n      { error: 'ç„¡åŠ¹ãªç®¡ç†è€…èªè¨¼ã§ã™' },\n      { status: 401 }\n    )\n  }\n\n  return payload\n}\n\n// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ†æãƒ‡ãƒ¼ã‚¿å–å¾—\nexport async function GET(request: NextRequest) {\n  try {\n    const admin = await requireAdmin(request)\n    if (admin instanceof NextResponse) return admin\n\n    const { searchParams } = new URL(request.url)\n    const period = searchParams.get('period') || '7d'\n\n    // å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å–å¾—\n    const [totalUsers, totalShipments, totalVehicles, recentShipments] = await Promise.all([\n      prisma.user.count(),\n      prisma.shipment.count(),\n      prisma.vehicle.count(),\n      prisma.shipment.findMany({\n        take: 10,\n        orderBy: { createdAt: 'desc' },\n        include: {\n          shipper: {\n            select: { companyName: true }\n          },\n          carrier: {\n            select: { companyName: true }\n          }\n        }\n      })\n    ])\n\n    // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çµ±è¨ˆï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰\n    const realtimeStats = {\n      onlineUsers: Math.floor(Math.random() * 50) + 120,\n      activeShipments: Math.floor(Math.random() * 20) + 45,\n      pendingApprovals: Math.floor(Math.random() * 10) + 8,\n      systemHealth: 'excellent',\n      serverLoad: Math.floor(Math.random() * 30) + 20,\n      responseTime: Math.floor(Math.random() * 50) + 100\n    }\n\n    // è©³ç´°çµ±è¨ˆ\n    const detailedStats = {\n      totalUsers,\n      activeUsers: Math.floor(totalUsers * 0.7),\n      pendingUsers: Math.floor(totalUsers * 0.05),\n      totalShipments,\n      completedShipments: Math.floor(totalShipments * 0.9),\n      totalVehicles,\n      availableVehicles: Math.floor(totalVehicles * 0.8),\n      totalRevenue: 125000000,\n      monthlyRevenue: 8500000,\n      averageMatchScore: 87.5,\n      customerSatisfaction: 4.6\n    }\n\n    // åœ°åŸŸåˆ¥çµ±è¨ˆ\n    const regionalStats = [\n      { region: 'é–¢æ±', count: 456, revenue: 45000000 },\n      { region: 'é–¢è¥¿', count: 234, revenue: 23000000 },\n      { region: 'ä¸­éƒ¨', count: 189, revenue: 18000000 },\n      { region: 'ä¹å·', count: 123, revenue: 12000000 },\n      { region: 'åŒ—æµ·é“', count: 67, revenue: 6500000 }\n    ]\n\n    // æˆé•·ãƒ‡ãƒ¼ã‚¿\n    const userGrowth = [\n      { month: '2023-07', count: 120 },\n      { month: '2023-08', count: 145 },\n      { month: '2023-09', count: 167 },\n      { month: '2023-10', count: 189 },\n      { month: '2023-11', count: 234 },\n      { month: '2023-12', count: 278 },\n      { month: '2024-01', count: totalUsers }\n    ]\n\n    const revenueGrowth = [\n      { month: '2023-07', amount: 4500000 },\n      { month: '2023-08', amount: 5200000 },\n      { month: '2023-09', amount: 6100000 },\n      { month: '2023-10', amount: 6800000 },\n      { month: '2023-11', amount: 7500000 },\n      { month: '2023-12', amount: 8200000 },\n      { month: '2024-01', amount: detailedStats.monthlyRevenue }\n    ]\n\n    // è²¨ç‰©ã‚¿ã‚¤ãƒ—åˆ¥çµ±è¨ˆ\n    const cargoTypeStats = [\n      { type: 'ä¸€èˆ¬è²¨ç‰©', count: 1234, percentage: 35.7 },\n      { type: 'å†·è”µãƒ»å†·å‡', count: 567, percentage: 16.4 },\n      { type: 'å¤§å‹è²¨ç‰©', count: 345, percentage: 10.0 },\n      { type: 'å±é™ºç‰©', count: 123, percentage: 3.6 },\n      { type: 'ç”Ÿé®®é£Ÿå“', count: 456, percentage: 13.2 }\n    ]\n\n    // æœ€è¿‘ã®æ´»å‹•\n    const recentActivities = [\n      {\n        id: '1',\n        type: 'user_approved',\n        message: 'æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰¿èªã•ã‚Œã¾ã—ãŸ',\n        details: 'æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯',\n        timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n        icon: 'CheckCircle'\n      },\n      {\n        id: '2',\n        type: 'shipment_created',\n        message: 'æ–°ã—ã„æ¡ˆä»¶ãŒæŠ•ç¨¿ã•ã‚Œã¾ã—ãŸ',\n        details: 'æ±äº¬ã‹ã‚‰å¤§é˜ªã¸ã®å¤§å‹è²¨ç‰©é…é€',\n        timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n        icon: 'Package'\n      },\n      {\n        id: '3',\n        type: 'document_pending',\n        message: 'æ‰¿èªå¾…ã¡ã®æ›¸é¡ãŒã‚ã‚Šã¾ã™',\n        details: 'ä¸­éƒ¨é‹é€æ ªå¼ä¼šç¤¾ - äº‹æ¥­è¨±å¯è¨¼',\n        timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n        icon: 'FileText'\n      },\n      {\n        id: '4',\n        type: 'payment_completed',\n        message: 'æ±ºæ¸ˆãŒå®Œäº†ã—ã¾ã—ãŸ',\n        details: 'é–¢è¥¿ç‰©æµæ ªå¼ä¼šç¤¾ - Â¥50,000',\n        timestamp: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),\n        icon: 'CreditCard'\n      }\n    ]\n\n    return NextResponse.json({\n      realtime: realtimeStats,\n      detailed: detailedStats,\n      regional: regionalStats,\n      growth: {\n        users: userGrowth,\n        revenue: revenueGrowth\n      },\n      cargoTypes: cargoTypeStats,\n      recentActivities,\n      recentShipments: recentShipments.map(s => ({\n        id: s.id,\n        title: s.cargoName,\n        shipper: s.shipper.companyName,\n        carrier: s.carrier?.companyName,\n        status: s.status,\n        createdAt: s.createdAt\n      }))\n    })\n  } catch (error) {\n    console.error('Get analytics error:', error)\n    return NextResponse.json(\n      { error: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n","size_bytes":5676},"src/app/api/auth/register/route.ts":{"content":"import { NextRequest } from 'next/server'\nexport const dynamic = 'force-dynamic'\nimport { registerSchema } from '@/lib/validators'\nimport { hashPassword, generateToken } from '@/lib/auth'\nimport { successResponse, errorResponse } from '@/lib/api-response'\nimport prisma from '@/lib/prisma'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json()\n    \n    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n    const validatedData = registerSchema.parse(body)\n    \n    // æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚§ãƒƒã‚¯\n    const existingUser = await prisma.user.findUnique({\n      where: { email: validatedData.email },\n    })\n    \n    if (existingUser) {\n      return errorResponse('ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™')\n    }\n    \n    // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒƒã‚·ãƒ¥åŒ–\n    const hashedPassword = await hashPassword(validatedData.password)\n    \n    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ\n    const user = await prisma.user.create({\n      data: {\n        email: validatedData.email,\n        password: hashedPassword,\n        userType: validatedData.userType,\n        companyName: validatedData.companyName,\n        contactPerson: validatedData.contactPerson,\n        phone: validatedData.phone,\n        postalCode: validatedData.postalCode,\n        address: validatedData.address,\n      },\n      select: {\n        id: true,\n        email: true,\n        userType: true,\n        companyName: true,\n        contactPerson: true,\n        phone: true,\n        createdAt: true,\n      },\n    })\n    \n    // JWTãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ\n    const token = generateToken({\n      userId: user.id,\n      email: user.email,\n      userType: user.userType as 'SHIPPER' | 'CARRIER',\n    })\n    \n    return successResponse({\n      user,\n      token,\n    }, 201)\n  } catch (error: any) {\n    if (error.name === 'ZodError') {\n      return errorResponse(error.errors[0].message)\n    }\n    console.error('Registration error:', error)\n    return errorResponse('ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ', 500)\n  }\n}\n\n","size_bytes":1983},"src/app/dashboard/shipments/new/page.tsx":{"content":"'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Package, \n  MapPin, \n  Calendar, \n  Weight, \n  Truck, \n  DollarSign, \n  Save, \n  X,\n  Plus\n} from 'lucide-react'\n\nexport default function NewShipmentPage() {\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    cargoName: '',\n    cargoDescription: '',\n    cargoWeight: '',\n    cargoVolume: '',\n    pickupPrefecture: '',\n    pickupCity: '',\n    pickupAddress: '',\n    pickupDate: '',\n    pickupTimeFrom: '',\n    pickupTimeTo: '',\n    deliveryPrefecture: '',\n    deliveryCity: '',\n    deliveryAddress: '',\n    deliveryDate: '',\n    deliveryTimeFrom: '',\n    deliveryTimeTo: '',\n    requiredVehicleType: '',\n    budget: '',\n    specialRequirements: ''\n  })\n\n  const prefectures = [\n    'åŒ—æµ·é“', 'é’æ£®çœŒ', 'å²©æ‰‹çœŒ', 'å®®åŸçœŒ', 'ç§‹ç”°çœŒ', 'å±±å½¢çœŒ', 'ç¦å³¶çœŒ',\n    'èŒ¨åŸçœŒ', 'æ ƒæœ¨çœŒ', 'ç¾¤é¦¬çœŒ', 'åŸ¼ç‰çœŒ', 'åƒè‘‰çœŒ', 'æ±äº¬éƒ½', 'ç¥å¥ˆå·çœŒ',\n    'æ–°æ½ŸçœŒ', 'å¯Œå±±çœŒ', 'çŸ³å·çœŒ', 'ç¦äº•çœŒ', 'å±±æ¢¨çœŒ', 'é•·é‡çœŒ', 'å²é˜œçœŒ',\n    'é™å²¡çœŒ', 'æ„›çŸ¥çœŒ', 'ä¸‰é‡çœŒ', 'æ»‹è³€çœŒ', 'äº¬éƒ½åºœ', 'å¤§é˜ªåºœ', 'å…µåº«çœŒ',\n    'å¥ˆè‰¯çœŒ', 'å’Œæ­Œå±±çœŒ', 'é³¥å–çœŒ', 'å³¶æ ¹çœŒ', 'å²¡å±±çœŒ', 'åºƒå³¶çœŒ', 'å±±å£çœŒ',\n    'å¾³å³¶çœŒ', 'é¦™å·çœŒ', 'æ„›åª›çœŒ', 'é«˜çŸ¥çœŒ', 'ç¦å²¡çœŒ', 'ä½è³€çœŒ', 'é•·å´çœŒ',\n    'ç†Šæœ¬çœŒ', 'å¤§åˆ†çœŒ', 'å®®å´çœŒ', 'é¹¿å…å³¶çœŒ', 'æ²–ç¸„çœŒ'\n  ]\n\n  const vehicleTypes = [\n    'è»½ãƒˆãƒ©ãƒƒã‚¯', 'å°å‹ãƒˆãƒ©ãƒƒã‚¯', 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯', 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯', 'ãƒˆãƒ¬ãƒ¼ãƒ©ãƒ¼', 'å†·å‡è»Š', 'å†·è”µè»Š', 'ãã®ä»–'\n  ]\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }))\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/shipments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          ...formData,\n          cargoWeight: parseFloat(formData.cargoWeight),\n          cargoVolume: formData.cargoVolume ? parseFloat(formData.cargoVolume) : null,\n          budget: parseFloat(formData.budget),\n          pickupDate: new Date(formData.pickupDate),\n          deliveryDate: new Date(formData.deliveryDate)\n        })\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to create shipment')\n      }\n\n      alert('è·ç‰©ãŒæ­£å¸¸ã«ç™»éŒ²ã•ã‚Œã¾ã—ãŸï¼')\n      router.push('/dashboard/my-shipments')\n    } catch (error) {\n      console.error('Error creating shipment:', error)\n      alert('è·ç‰©ã®ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">è·ç‰©ç™»éŒ²</h1>\n        <p className=\"text-gray-600\">æ–°ã—ã„è·ç‰©ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„</p>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-8\">\n        {/* åŸºæœ¬æƒ…å ± */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <Package className=\"h-5 w-5 mr-2\" />\n            åŸºæœ¬æƒ…å ±\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">è·ç‰©å <span className=\"text-red-500\">*</span></label>\n              <input\n                type=\"text\"\n                value={formData.cargoName}\n                onChange={(e) => handleInputChange('cargoName', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"è·ç‰©åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                required\n              />\n            </div>\n            \n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">è·ç‰©èª¬æ˜</label>\n              <textarea\n                value={formData.cargoDescription}\n                onChange={(e) => handleInputChange('cargoDescription', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                rows={3}\n                placeholder=\"è·ç‰©ã®è©³ç´°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">é‡é‡ (kg) <span className=\"text-red-500\">*</span></label>\n              <input\n                type=\"number\"\n                value={formData.cargoWeight}\n                onChange={(e) => handleInputChange('cargoWeight', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"ä¾‹: 1000\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">å®¹ç© (mÂ³)</label>\n              <input\n                type=\"number\"\n                value={formData.cargoVolume}\n                onChange={(e) => handleInputChange('cargoVolume', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"ä¾‹: 10\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* å‡ºç™ºåœ°æƒ…å ± */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <MapPin className=\"h-5 w-5 mr-2\" />\n            å‡ºç™ºåœ°æƒ…å ±\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">éƒ½é“åºœçœŒ <span className=\"text-red-500\">*</span></label>\n              <select\n                value={formData.pickupPrefecture}\n                onChange={(e) => handleInputChange('pickupPrefecture', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                required\n              >\n                <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                {prefectures.map(pref => (\n                  <option key={pref} value={pref}>{pref}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">å¸‚åŒºç”ºæ‘ <span className=\"text-red-500\">*</span></label>\n              <input\n                type=\"text\"\n                value={formData.pickupCity}\n                onChange={(e) => handleInputChange('pickupCity', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"å¸‚åŒºç”ºæ‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                required\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä½æ‰€</label>\n              <input\n                type=\"text\"\n                value={formData.pickupAddress}\n                onChange={(e) => handleInputChange('pickupAddress', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"è©³ç´°ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">å‡ºç™ºæ—¥ <span className=\"text-red-500\">*</span></label>\n              <input\n                type=\"date\"\n                value={formData.pickupDate}\n                onChange={(e) => handleInputChange('pickupDate', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">å‡ºç™ºæ™‚é–“</label>\n              <div className=\"flex space-x-2\">\n                <input\n                  type=\"time\"\n                  value={formData.pickupTimeFrom}\n                  onChange={(e) => handleInputChange('pickupTimeFrom', e.target.value)}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n                <span className=\"flex items-center text-gray-500\">ã€œ</span>\n                <input\n                  type=\"time\"\n                  value={formData.pickupTimeTo}\n                  onChange={(e) => handleInputChange('pickupTimeTo', e.target.value)}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* åˆ°ç€åœ°æƒ…å ± */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <MapPin className=\"h-5 w-5 mr-2\" />\n            åˆ°ç€åœ°æƒ…å ±\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">éƒ½é“åºœçœŒ <span className=\"text-red-500\">*</span></label>\n              <select\n                value={formData.deliveryPrefecture}\n                onChange={(e) => handleInputChange('deliveryPrefecture', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                required\n              >\n                <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                {prefectures.map(pref => (\n                  <option key={pref} value={pref}>{pref}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">å¸‚åŒºç”ºæ‘ <span className=\"text-red-500\">*</span></label>\n              <input\n                type=\"text\"\n                value={formData.deliveryCity}\n                onChange={(e) => handleInputChange('deliveryCity', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"å¸‚åŒºç”ºæ‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n                required\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä½æ‰€</label>\n              <input\n                type=\"text\"\n                value={formData.deliveryAddress}\n                onChange={(e) => handleInputChange('deliveryAddress', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"è©³ç´°ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">åˆ°ç€æ—¥ <span className=\"text-red-500\">*</span></label>\n              <input\n                type=\"date\"\n                value={formData.deliveryDate}\n                onChange={(e) => handleInputChange('deliveryDate', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">åˆ°ç€æ™‚é–“</label>\n              <div className=\"flex space-x-2\">\n                <input\n                  type=\"time\"\n                  value={formData.deliveryTimeFrom}\n                  onChange={(e) => handleInputChange('deliveryTimeFrom', e.target.value)}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n                <span className=\"flex items-center text-gray-500\">ã€œ</span>\n                <input\n                  type=\"time\"\n                  value={formData.deliveryTimeTo}\n                  onChange={(e) => handleInputChange('deliveryTimeTo', e.target.value)}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* è¼¸é€æ¡ä»¶ */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <Truck className=\"h-5 w-5 mr-2\" />\n            è¼¸é€æ¡ä»¶\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">å¿…è¦è»Šä¸¡ã‚¿ã‚¤ãƒ— <span className=\"text-red-500\">*</span></label>\n              <select\n                value={formData.requiredVehicleType}\n                onChange={(e) => handleInputChange('requiredVehicleType', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                required\n              >\n                <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                {vehicleTypes.map(type => (\n                  <option key={type} value={type}>{type}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">äºˆç®— (å††) <span className=\"text-red-500\">*</span></label>\n              <input\n                type=\"number\"\n                value={formData.budget}\n                onChange={(e) => handleInputChange('budget', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"ä¾‹: 50000\"\n                required\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">ç‰¹åˆ¥ãªè¦ä»¶</label>\n              <textarea\n                value={formData.specialRequirements}\n                onChange={(e) => handleInputChange('specialRequirements', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                rows={3}\n                placeholder=\"æ¸©åº¦ç®¡ç†ã€å±é™ºç‰©ã€ãã®ä»–ç‰¹åˆ¥ãªè¦ä»¶ãŒã‚ã‚Œã°å…¥åŠ›ã—ã¦ãã ã•ã„\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* é€ä¿¡ãƒœã‚¿ãƒ³ */}\n        <div className=\"flex justify-end space-x-4\">\n          <button\n            type=\"button\"\n            onClick={() => router.push('/dashboard/my-shipments')}\n            className=\"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center space-x-2\"\n          >\n            <X className=\"h-4 w-4\" />\n            <span>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</span>\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2\"\n          >\n            <Save className=\"h-4 w-4\" />\n            <span>{loading ? 'ç™»éŒ²ä¸­...' : 'è·ç‰©ã‚’ç™»éŒ²'}</span>\n          </button>\n        </div>\n      </form>\n    </DashboardLayout>\n  )\n}","size_bytes":16725},"src/components/DashboardHeader.tsx":{"content":"'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Logo from '@/components/Logo'\nimport StatsDisplay from '@/components/StatsDisplay'\nimport { Bell, User, User as UserIcon } from 'lucide-react'\n\ninterface DashboardHeaderProps {\n  user?: any\n}\n\nexport default function DashboardHeader({ user }: DashboardHeaderProps) {\n  const router = useRouter()\n\n  return (\n    <header className=\"bg-white shadow-sm border-b px-6 py-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-6\">\n          <StatsDisplay />\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          <button \n            onClick={() => router.push('/dashboard')}\n            className=\"text-gray-600 hover:text-gray-800\"\n          >\n            ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰\n          </button>\n          <button \n            onClick={() => router.push('/contact')}\n            className=\"text-gray-600 hover:text-gray-800\"\n          >\n            ãŠå•ã„åˆã‚ã›\n          </button>\n          <button \n            onClick={() => router.push('/dashboard/notifications')}\n            className=\"relative\"\n          >\n            <Bell className=\"h-5 w-5 text-gray-600\" />\n            <span className=\"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full\"></span>\n          </button>\n          <div \n            onClick={() => router.push('/dashboard/profile')}\n            className=\"flex items-center space-x-2 cursor-pointer hover:bg-gray-100 rounded-lg px-2 py-1\"\n          >\n            <User className=\"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center\">\n              <UserIcon className=\"h-4 w-4\" />\n            </User>\n            <span className=\"text-gray-700\">{user?.contactPerson}</span>\n          </div>\n        </div>\n      </div>\n    </header>\n  )\n}\n","size_bytes":1866},"src/app/dashboard/settings/credit-info/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Shield, \n  TrendingUp, \n  BarChart3, \n  CheckCircle, \n  AlertCircle, \n  Clock, \n  Star,\n  Target,\n  Award,\n  FileText,\n  Upload,\n  Download\n} from 'lucide-react'\n\nexport default function CreditInfoPage() {\n  const [user, setUser] = useState<any>(null)\n  const [creditScore, setCreditScore] = useState(85)\n  const [creditHistory, setCreditHistory] = useState([\n    { date: '2024-01-15', action: 'å–å¼•å®Œäº†', points: +5, description: 'å¤§å‹è²¨ç‰©é…é€å®Œäº†' },\n    { date: '2024-01-10', action: 'æ”¯æ‰•ã„é…å»¶', points: -10, description: 'æ”¯æ‰•ã„ãŒ3æ—¥é…å»¶' },\n    { date: '2024-01-05', action: 'å–å¼•å®Œäº†', points: +3, description: 'å†·è”µè²¨ç‰©é…é€å®Œäº†' },\n    { date: '2023-12-28', action: 'å–å¼•å®Œäº†', points: +5, description: 'æ€¥ä¾¿é…é€å®Œäº†' },\n    { date: '2023-12-20', action: 'è©•ä¾¡å‘ä¸Š', points: +2, description: 'é¡§å®¢ã‹ã‚‰ã®é«˜è©•ä¾¡' }\n  ])\n\n  useEffect(() => {\n    const userData = localStorage.getItem('user')\n    if (userData) {\n      const userProfile = JSON.parse(userData)\n      setUser(userProfile)\n    }\n  }, [])\n\n  const getCreditScoreColor = (score: number) => {\n    if (score >= 90) return 'text-green-600 bg-green-100'\n    if (score >= 80) return 'text-blue-600 bg-blue-100'\n    if (score >= 70) return 'text-yellow-600 bg-yellow-100'\n    return 'text-red-600 bg-red-100'\n  }\n\n  const getCreditScoreLevel = (score: number) => {\n    if (score >= 90) return 'å„ªç§€'\n    if (score >= 80) return 'è‰¯å¥½'\n    if (score >= 70) return 'æ™®é€š'\n    return 'è¦æ”¹å–„'\n  }\n\n  const creditFactors = [\n    { name: 'æ”¯æ‰•ã„å±¥æ­´', score: 95, weight: 35, description: 'éå»ã®æ”¯æ‰•ã„å®Ÿç¸¾' },\n    { name: 'å–å¼•é‡', score: 80, weight: 25, description: 'æœˆé–“å–å¼•é‡‘é¡' },\n    { name: 'ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“', score: 75, weight: 20, description: 'å¹³å‡å¿œç­”æ™‚é–“' },\n    { name: 'å®Œäº†ç‡', score: 93, weight: 15, description: 'å–å¼•å®Œäº†ç‡' },\n    { name: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡', score: 88, weight: 5, description: 'å–å¼•ç›¸æ‰‹ã‹ã‚‰ã®è©•ä¾¡' }\n  ]\n\n  const improvementTips = [\n    'æ”¯æ‰•ã„ã‚’æœŸæ—¥é€šã‚Šã«è¡Œã†ã“ã¨ã§ä¿¡ç”¨ã‚¹ã‚³ã‚¢ãŒå‘ä¸Šã—ã¾ã™',\n    'å®šæœŸçš„ãªå–å¼•ã§å–å¼•é‡ã‚’å¢—ã‚„ã™ã¨ã‚¹ã‚³ã‚¢ãŒä¸ŠãŒã‚Šã¾ã™',\n    'è¿…é€Ÿãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§å–å¼•ç›¸æ‰‹ã®ä¿¡é ¼ã‚’ç²å¾—ã—ã¾ã—ã‚‡ã†',\n    'é«˜å“è³ªãªã‚µãƒ¼ãƒ“ã‚¹ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡ã‚’å‘ä¸Šã•ã›ã¾ã—ã‚‡ã†',\n    'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’å……å®Ÿã•ã›ã¦ä¿¡é ¼æ€§ã‚’é«˜ã‚ã¾ã—ã‚‡ã†'\n  ]\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">ä¿¡ç”¨æƒ…å ±</h1>\n        <p className=\"text-gray-600\">ã‚ãªãŸã®ä¿¡ç”¨ã‚¹ã‚³ã‚¢ã¨å–å¼•å±¥æ­´ã‚’ç¢ºèªã§ãã¾ã™</p>\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* ä¿¡ç”¨ã‚¹ã‚³ã‚¢æ¦‚è¦ */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <Shield className=\"h-5 w-5 mr-2\" />\n              ä¿¡ç”¨ã‚¹ã‚³ã‚¢æ¦‚è¦\n            </h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"text-center mb-6\">\n              <div className={`inline-flex items-center px-6 py-3 rounded-full text-2xl font-bold ${getCreditScoreColor(creditScore)}`}>\n                {creditScore}ç‚¹\n              </div>\n              <p className=\"text-sm text-gray-600 mt-2\">\n                ãƒ¬ãƒ™ãƒ«: {getCreditScoreLevel(creditScore)}\n              </p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-blue-600\">42</div>\n                <div className=\"text-sm text-gray-600\">å®Œäº†å–å¼•æ•°</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-green-600\">98%</div>\n                <div className=\"text-sm text-gray-600\">å®Œäº†ç‡</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-purple-600\">4.2</div>\n                <div className=\"text-sm text-gray-600\">å¹³å‡è©•ä¾¡</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ä¿¡ç”¨ã‚¹ã‚³ã‚¢è©³ç´° */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <BarChart3 className=\"h-5 w-5 mr-2\" />\n              ä¿¡ç”¨ã‚¹ã‚³ã‚¢è©³ç´°\n            </h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {creditFactors.map((factor, index) => (\n                <div key={index} className=\"space-y-2\">\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      <span className=\"text-sm font-medium text-gray-700\">{factor.name}</span>\n                      <span className=\"text-xs text-gray-500 ml-2\">({factor.weight}%)</span>\n                    </div>\n                    <span className=\"text-sm font-semibold text-gray-900\">{factor.score}ç‚¹</span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                      style={{ width: `${factor.score}%` }}\n                    ></div>\n                  </div>\n                  <p className=\"text-xs text-gray-500\">{factor.description}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* å–å¼•å±¥æ­´ */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <Clock className=\"h-5 w-5 mr-2\" />\n              å–å¼•å±¥æ­´\n            </h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {creditHistory.map((history, index) => (\n                <div key={index} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                      history.points > 0 ? 'bg-green-100' : 'bg-red-100'\n                    }`}>\n                      {history.points > 0 ? (\n                        <CheckCircle className=\"h-4 w-4 text-green-600\" />\n                      ) : (\n                        <AlertCircle className=\"h-4 w-4 text-red-600\" />\n                      )}\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-900\">{history.action}</p>\n                      <p className=\"text-xs text-gray-500\">{history.description}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className={`text-sm font-semibold ${\n                      history.points > 0 ? 'text-green-600' : 'text-red-600'\n                    }`}>\n                      {history.points > 0 ? '+' : ''}{history.points}pt\n                    </p>\n                    <p className=\"text-xs text-gray-500\">{history.date}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* ã‚¹ã‚³ã‚¢å‘ä¸Šã®ãƒ’ãƒ³ãƒˆ */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <TrendingUp className=\"h-5 w-5 mr-2\" />\n              ã‚¹ã‚³ã‚¢å‘ä¸Šã®ãƒ’ãƒ³ãƒˆ\n            </h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-3\">\n              {improvementTips.map((tip, index) => (\n                <div key={index} className=\"flex items-start space-x-3\">\n                  <div className=\"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <span className=\"text-xs font-semibold text-blue-600\">{index + 1}</span>\n                  </div>\n                  <p className=\"text-sm text-gray-700\">{tip}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* è¨¼æ˜æ›¸é¡ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <FileText className=\"h-5 w-5 mr-2\" />\n              è¨¼æ˜æ›¸é¡ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n            </h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n                <Upload className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\n                <p className=\"text-sm text-gray-600 mb-2\">è¨¼æ˜æ›¸é¡ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„</p>\n                <p className=\"text-xs text-gray-500\">äº‹æ¥­è¨±å¯è¨¼ã€é‹é€äº‹æ¥­è¨±å¯è¨¼ã€ä¿é™ºè¨¼åˆ¸ãªã©</p>\n                <button className=\"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm\">\n                  ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ\n                </button>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"p-4 border border-gray-200 rounded-lg\">\n                  <h3 className=\"text-sm font-medium text-gray-900 mb-2\">äº‹æ¥­è¨±å¯è¨¼</h3>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-500\">æœªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>\n                    <button className=\"text-blue-600 hover:text-blue-800 text-sm\">\n                      ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n                    </button>\n                  </div>\n                </div>\n                \n                <div className=\"p-4 border border-gray-200 rounded-lg\">\n                  <h3 className=\"text-sm font-medium text-gray-900 mb-2\">é‹é€äº‹æ¥­è¨±å¯è¨¼</h3>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-500\">æœªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>\n                    <button className=\"text-blue-600 hover:text-blue-800 text-sm\">\n                      ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n                    </button>\n                  </div>\n                </div>\n                \n                <div className=\"p-4 border border-gray-200 rounded-lg\">\n                  <h3 className=\"text-sm font-medium text-gray-900 mb-2\">ä¿é™ºè¨¼åˆ¸</h3>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-500\">æœªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>\n                    <button className=\"text-blue-600 hover:text-blue-800 text-sm\">\n                      ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n                    </button>\n                  </div>\n                </div>\n                \n                <div className=\"p-4 border border-gray-200 rounded-lg\">\n                  <h3 className=\"text-sm font-medium text-gray-900 mb-2\">æ³•äººç•ªå·è¨¼æ˜æ›¸</h3>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-500\">æœªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>\n                    <button className=\"text-blue-600 hover:text-blue-800 text-sm\">\n                      ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </DashboardLayout>\n  )\n}\n\n","size_bytes":12175},"src/components/DashboardSidebar.tsx":{"content":"'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Logo from '@/components/Logo'\nimport { \n  Package, \n  Search, \n  Truck, \n  Building2, \n  Users, \n  Settings, \n  FileText, \n  CheckCircle,\n  ChevronDown,\n  ChevronRight,\n  Plus,\n  Bookmark,\n  History,\n  Shield\n} from 'lucide-react'\n\nexport default function DashboardSidebar() {\n  const router = useRouter()\n  const [shipmentSearchOpen, setShipmentSearchOpen] = useState(false)\n  const [myShipmentsOpen, setMyShipmentsOpen] = useState(false)\n\n  return (\n    <div className=\"w-64 bg-white shadow-lg flex flex-col\">\n      {/* ãƒ­ã‚´ã‚¨ãƒªã‚¢ */}\n      <div className=\"p-6 border-b\">\n        <Logo linkable={false} />\n      </div>\n\n      {/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}\n      <nav className=\"flex-1 p-4 space-y-2\">\n        <div className=\"space-y-1\">\n          {/* è·ç‰©ã‚’æ¢ã™ */}\n          <div className=\"space-y-1\">\n            <button \n              onClick={() => setShipmentSearchOpen(!shipmentSearchOpen)}\n              className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center justify-between\"\n            >\n              <span className=\"flex items-center\">\n                <Search className=\"h-4 w-4 mr-3\" />\n                è·ç‰©ã‚’æ¢ã™\n              </span>\n              {shipmentSearchOpen ? (\n                <ChevronDown className=\"h-4 w-4\" />\n              ) : (\n                <ChevronRight className=\"h-4 w-4\" />\n              )}\n            </button>\n            {shipmentSearchOpen && (\n              <div className=\"ml-6 space-y-1\">\n                <button \n                  onClick={() => router.push('/shipments/search')}\n                  className=\"w-full text-left px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center text-sm\"\n                >\n                  <Search className=\"h-4 w-4 mr-3\" />\n                  è·ç‰©æ¤œç´¢\n                </button>\n                <button \n                  onClick={() => router.push('/dashboard/saved-shipments')}\n                  className=\"w-full text-left px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center text-sm\"\n                >\n                  <Bookmark className=\"h-4 w-4 mr-3\" />\n                  ä¿å­˜ã—ãŸè·ç‰©\n                </button>\n                <button \n                  onClick={() => router.push('/dashboard/recent-shipments')}\n                  className=\"w-full text-left px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center text-sm\"\n                >\n                  <History className=\"h-4 w-4 mr-3\" />\n                  æœ€è¿‘è¦‹ãŸè·ç‰©\n                </button>\n              </div>\n            )}\n          </div>\n\n          <button \n            onClick={() => router.push('/dashboard/limited-shipments')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Package className=\"h-4 w-4 mr-3\" />\n            é™å®šè·ç‰©\n          </button>\n\n          <button \n            onClick={() => router.push('/dashboard/shipments/new')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Plus className=\"h-4 w-4 mr-3\" />\n            è·ç‰©ç™»éŒ²\n          </button>\n          \n          {/* ãƒã‚¤è·ç‰©ãƒ»æˆç´„ */}\n          <div className=\"space-y-1\">\n            <button \n              onClick={() => setMyShipmentsOpen(!myShipmentsOpen)}\n              className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center justify-between\"\n            >\n              <span className=\"flex items-center\">\n                <Package className=\"h-4 w-4 mr-3\" />\n                ãƒã‚¤è·ç‰©ãƒ»æˆç´„\n              </span>\n              {myShipmentsOpen ? (\n                <ChevronDown className=\"h-4 w-4\" />\n              ) : (\n                <ChevronRight className=\"h-4 w-4\" />\n              )}\n            </button>\n            {myShipmentsOpen && (\n              <div className=\"ml-6 space-y-1\">\n                <button \n                  onClick={() => router.push('/dashboard/my-shipments')}\n                  className=\"w-full text-left px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center text-sm\"\n                >\n                  <Package className=\"h-4 w-4 mr-3\" />\n                  ç™»éŒ²ã—ãŸè·ç‰©\n                </button>\n                <button \n                  onClick={() => router.push('/dashboard/contracted-shipments')}\n                  className=\"w-full text-left px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg flex items-center text-sm\"\n                >\n                  <CheckCircle className=\"h-4 w-4 mr-3\" />\n                  æˆç´„ã—ãŸè·ç‰©\n                </button>\n              </div>\n            )}\n          </div>\n\n          <button \n            onClick={() => router.push('/dashboard/vehicle-search')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Truck className=\"h-4 w-4 mr-3\" />\n            ç©ºè»Šæ¤œç´¢\n          </button>\n\n          <button \n            onClick={() => router.push('/vehicles/register')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Plus className=\"h-4 w-4 mr-3\" />\n            ç©ºè»Šç™»éŒ²\n          </button>\n\n          <button \n            onClick={() => router.push('/dashboard/company-search')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Building2 className=\"h-4 w-4 mr-3\" />\n            ä¼æ¥­æ¤œç´¢\n          </button>\n\n          <button \n            onClick={() => router.push('/dashboard/partners')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Users className=\"h-4 w-4 mr-3\" />\n            å–å¼•å…ˆç®¡ç†\n          </button>\n\n          <button \n            onClick={() => router.push('/dashboard/transport-log')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <FileText className=\"h-4 w-4 mr-3\" />\n            å®Ÿé‹é€ä½“åˆ¶ç®¡ç†ç°¿\n          </button>\n\n          <button \n            onClick={() => router.push('/dashboard/verification')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Shield className=\"h-4 w-4 mr-3\" />\n            è¨±å¯è¨¼ãƒ»èªè¨¼\n          </button>\n\n          <button \n            onClick={() => router.push('/dashboard/services')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Settings className=\"h-4 w-4 mr-3\" />\n            ä¾¿åˆ©ã‚µãƒ¼ãƒ“ã‚¹\n          </button>\n\n          <button \n            onClick={() => router.push('/dashboard/settings')}\n            className=\"w-full text-left px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center\"\n          >\n            <Settings className=\"h-4 w-4 mr-3\" />\n            è¨­å®š\n          </button>\n        </div>\n      </nav>\n    </div>\n  )\n}\n","size_bytes":7377},"src/app/dashboard/services/page.tsx":{"content":"'use client'\n\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { Settings, Clock, AlertCircle } from 'lucide-react'\n\nexport default function ServicesPage() {\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">ä¾¿åˆ©ã‚µãƒ¼ãƒ“ã‚¹</h1>\n        <p className=\"text-gray-600\">ç‰©æµæ¥­å‹™ã‚’åŠ¹ç‡åŒ–ã™ã‚‹å„ç¨®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm border p-8\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <Settings className=\"h-8 w-8 text-gray-400\" />\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">ã‚µãƒ¼ãƒ“ã‚¹æº–å‚™ä¸­</h2>\n          <p className=\"text-gray-600 mb-4\">\n            ä¾¿åˆ©ã‚µãƒ¼ãƒ“ã‚¹ã¯ç¾åœ¨æº–å‚™ä¸­ã§ã™ã€‚<br />\n            è¿‘æ—¥ä¸­ã«ãƒªãƒªãƒ¼ã‚¹äºˆå®šã§ã™ã€‚\n          </p>\n          <div className=\"flex items-center justify-center text-sm text-gray-500\">\n            <Clock className=\"h-4 w-4 mr-2\" />\n            <span>ãƒªãƒªãƒ¼ã‚¹äºˆå®š: 2024å¹´2æœˆ</span>\n          </div>\n        </div>\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":1270},"src/app/api/admin/auth/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server'\nimport { prisma } from '@/lib/prisma'\nimport { verifyAdminSession, generateAdminToken } from '@/lib/auth'\n\n// ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³\nexport async function POST(request: NextRequest) {\n  try {\n    const { email, password } = await request.json()\n\n    if (!email || !password) {\n      return NextResponse.json(\n        { error: 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™' },\n        { status: 400 }\n      )\n    }\n\n    // ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ¤œç´¢\n    const admin = await prisma.user.findUnique({\n      where: { \n        email,\n        userType: 'ADMIN'\n      }\n    })\n\n    if (!admin) {\n      return NextResponse.json(\n        { error: 'ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“' },\n        { status: 401 }\n      )\n    }\n\n    // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯bcryptã‚’ä½¿ç”¨ï¼‰\n    // ãƒ‡ãƒ¢ç”¨ã«ç°¡å˜ãªæ¤œè¨¼\n    if (password !== 'admin123' && password !== 'password') {\n      return NextResponse.json(\n        { error: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“' },\n        { status: 401 }\n      )\n    }\n\n    // ç®¡ç†è€…ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ\n    const token = generateAdminToken({\n      userId: admin.id,\n      email: admin.email,\n      userType: 'ADMIN'\n    })\n\n    const response = NextResponse.json({\n      message: 'ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸ',\n      user: {\n        userId: admin.id,\n        email: admin.email,\n        companyName: admin.companyName,\n        userType: admin.userType,\n        contactPerson: admin.contactPerson\n      }\n    })\n\n    // ã‚»ã‚­ãƒ¥ã‚¢ãªHTTPOnlyã‚¯ãƒƒã‚­ãƒ¼ã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¨­å®š\n    response.cookies.set('admin_token', token, {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === 'production',\n      sameSite: 'strict',\n      maxAge: 24 * 60 * 60 // 24æ™‚é–“\n    })\n\n    return response\n  } catch (error) {\n    console.error('Admin login error:', error)\n    return NextResponse.json(\n      { error: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n\n// ç®¡ç†è€…èªè¨¼çŠ¶æ…‹ç¢ºèª\nexport async function GET(request: NextRequest) {\n  try {\n    const token = request.cookies.get('admin_token')?.value\n\n    if (!token) {\n      return NextResponse.json(\n        { error: 'èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“' },\n        { status: 401 }\n      )\n    }\n\n    const payload = verifyAdminSession(token)\n\n    if (!payload) {\n      return NextResponse.json(\n        { error: 'ç„¡åŠ¹ãªèªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã§ã™' },\n        { status: 401 }\n      )\n    }\n\n    const admin = await prisma.user.findUnique({\n      where: { \n        id: payload.userId,\n        userType: 'ADMIN'\n      },\n      select: {\n        id: true,\n        email: true,\n        companyName: true,\n        userType: true,\n        contactPerson: true,\n        createdAt: true\n      }\n    })\n\n    if (!admin) {\n      return NextResponse.json(\n        { error: 'ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“' },\n        { status: 404 }\n      )\n    }\n\n    return NextResponse.json({\n      message: 'èªè¨¼æˆåŠŸ',\n      user: admin\n    })\n  } catch (error) {\n    console.error('Admin auth check error:', error)\n    return NextResponse.json(\n      { error: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n\n// ç®¡ç†è€…ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ\nexport async function DELETE(request: NextRequest) {\n  try {\n    const response = NextResponse.json({\n      message: 'ç®¡ç†è€…ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ'\n    })\n\n    // ã‚¯ãƒƒã‚­ãƒ¼ã‚’å‰Šé™¤\n    response.cookies.set('admin_token', '', {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === 'production',\n      sameSite: 'strict',\n      maxAge: 0\n    })\n\n    return response\n  } catch (error) {\n    console.error('Admin logout error:', error)\n    return NextResponse.json(\n      { error: 'ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n","size_bytes":3897},"src/app/offers/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Navbar from '@/components/Navbar'\nimport { Package, MapPin, DollarSign, Clock, Check, X } from 'lucide-react'\n\nexport default function OffersPage() {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [offers, setOffers] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const [filter, setFilter] = useState('ALL')\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    const userData = localStorage.getItem('user')\n    \n    if (!token || !userData) {\n      router.push('/login')\n      return\n    }\n\n    setUser(JSON.parse(userData))\n    fetchOffers(token)\n  }, [router])\n\n  const fetchOffers = async (token: string) => {\n    try {\n      const response = await fetch('/api/offers', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        setOffers(data.data)\n      }\n    } catch (error) {\n      console.error('Failed to fetch offers:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAcceptOffer = async (offerId: string) => {\n    const token = localStorage.getItem('token')\n    if (!token) return\n\n    try {\n      const response = await fetch(`/api/offers/${offerId}/accept`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      })\n\n      if (response.ok) {\n        fetchOffers(token)\n      }\n    } catch (error) {\n      console.error('Failed to accept offer:', error)\n    }\n  }\n\n  const handleRejectOffer = async (offerId: string) => {\n    const token = localStorage.getItem('token')\n    if (!token) return\n\n    try {\n      const response = await fetch(`/api/offers/${offerId}/reject`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      })\n\n      if (response.ok) {\n        fetchOffers(token)\n      }\n    } catch (error) {\n      console.error('Failed to reject offer:', error)\n    }\n  }\n\n  const getStatusBadge = (status: string) => {\n    const badges: Record<string, { bg: string; text: string; label: string }> = {\n      PENDING: { bg: 'bg-yellow-100', text: 'text-yellow-800', label: 'ä¿ç•™ä¸­' },\n      ACCEPTED: { bg: 'bg-green-100', text: 'text-green-800', label: 'æ‰¿èªæ¸ˆã¿' },\n      REJECTED: { bg: 'bg-red-100', text: 'text-red-800', label: 'æ‹’å¦' },\n      CANCELLED: { bg: 'bg-gray-100', text: 'text-gray-800', label: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«' },\n    }\n    const badge = badges[status] || badges.PENDING\n    return (\n      <span className={`px-3 py-1 rounded-full text-xs font-semibold ${badge.bg} ${badge.text}`}>\n        {badge.label}\n      </span>\n    )\n  }\n\n  const filteredOffers = offers.filter(offer => {\n    if (filter === 'ALL') return true\n    return offer.status === filter\n  })\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-white\">\n      <Navbar />\n      \n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\n        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n        <div className=\"mb-8 fade-in-up\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-gray-900 mb-2\">\n            {user.userType === 'SHIPPER' ? 'å—ã‘å–ã£ãŸã‚ªãƒ•ã‚¡ãƒ¼' : 'é€ä¿¡ã—ãŸã‚ªãƒ•ã‚¡ãƒ¼'}\n          </h1>\n          <p className=\"text-gray-600\">\n            {filteredOffers.length}ä»¶ã®ã‚ªãƒ•ã‚¡ãƒ¼\n          </p>\n        </div>\n\n        {/* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */}\n        <div className=\"card mb-8 slide-in-left\">\n          <div className=\"flex flex-wrap gap-2\">\n            {['ALL', 'PENDING', 'ACCEPTED', 'REJECTED'].map((status) => (\n              <button\n                key={status}\n                onClick={() => setFilter(status)}\n                className={`px-4 py-2 rounded-xl font-semibold transition-all ${\n                  filter === status\n                    ? 'bg-gradient-to-r from-blue-600 to-cyan-500 text-white shadow-md'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                {status === 'ALL' ? 'ã™ã¹ã¦' : getStatusBadge(status).props.children}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* ã‚ªãƒ•ã‚¡ãƒ¼ãƒªã‚¹ãƒˆ */}\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent\"></div>\n            <p className=\"text-gray-600 mt-4\">èª­ã¿è¾¼ã¿ä¸­...</p>\n          </div>\n        ) : filteredOffers.length === 0 ? (\n          <div className=\"card text-center py-12\">\n            <Package className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-gray-600 text-lg\">ã‚ªãƒ•ã‚¡ãƒ¼ãŒã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {filteredOffers.map((offer, index) => (\n              <div\n                key={offer.id}\n                className=\"card hover:shadow-xl transition-all fade-in-up\"\n                style={{animationDelay: `${index * 0.1}s`}}\n              >\n                <div className=\"flex flex-col lg:flex-row gap-6\">\n                  {/* å·¦å´: æ¡ˆä»¶æƒ…å ± */}\n                  <div className=\"flex-1\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <h3 className=\"text-xl font-bold text-gray-900 flex-1 pr-4\">\n                        {offer.shipment.title}\n                      </h3>\n                      {getStatusBadge(offer.status)}\n                    </div>\n\n                    {/* ãƒ«ãƒ¼ãƒˆæƒ…å ± */}\n                    <div className=\"space-y-3 mb-4 bg-gray-50 p-4 rounded-xl\">\n                      <div className=\"flex items-start space-x-3\">\n                        <div className=\"bg-green-500 p-2 rounded-lg\">\n                          <MapPin className=\"h-4 w-4 text-white\" />\n                        </div>\n                        <div>\n                          <p className=\"text-xs text-gray-500 mb-1\">é›†è·</p>\n                          <p className=\"text-sm font-semibold text-gray-900\">\n                            {offer.shipment.pickupPrefecture} {offer.shipment.pickupLocation}\n                          </p>\n                        </div>\n                      </div>\n\n                      <div className=\"flex items-start space-x-3\">\n                        <div className=\"bg-purple-500 p-2 rounded-lg\">\n                          <MapPin className=\"h-4 w-4 text-white\" />\n                        </div>\n                        <div>\n                          <p className=\"text-xs text-gray-500 mb-1\">é…é€å…ˆ</p>\n                          <p className=\"text-sm font-semibold text-gray-900\">\n                            {offer.shipment.deliveryPrefecture} {offer.shipment.deliveryLocation}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* ã‚ªãƒ•ã‚¡ãƒ¼æƒ…å ± */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <p className=\"text-xs text-gray-500 mb-1\">å¸Œæœ›é‹è³ƒ</p>\n                        <p className=\"text-lg font-bold text-gray-700\">\n                          Â¥{offer.shipment.price.toLocaleString()}\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"text-xs text-gray-500 mb-1\">ã‚ªãƒ•ã‚¡ãƒ¼é‡‘é¡</p>\n                        <p className=\"text-lg font-bold text-blue-600\">\n                          Â¥{offer.proposedPrice.toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* å³å´: ã‚ªãƒ•ã‚¡ãƒ¼è©³ç´°ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}\n                  <div className=\"lg:w-80 space-y-4\">\n                    {/* é‹é€ä¼šç¤¾æƒ…å ± (è·ä¸»ã®å ´åˆ) */}\n                    {user.userType === 'SHIPPER' && (\n                      <div className=\"bg-blue-50 p-4 rounded-xl\">\n                        <p className=\"text-xs text-gray-600 mb-2\">é‹é€ä¼šç¤¾</p>\n                        <p className=\"font-bold text-gray-900\">{offer.carrier.companyName}</p>\n                        <p className=\"text-sm text-gray-600 mt-1\">{offer.carrier.contactPerson}</p>\n                      </div>\n                    )}\n\n                    {/* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */}\n                    {offer.message && (\n                      <div className=\"bg-gray-50 p-4 rounded-xl\">\n                        <p className=\"text-xs text-gray-600 mb-2\">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</p>\n                        <p className=\"text-sm text-gray-800\">{offer.message}</p>\n                      </div>\n                    )}\n\n                    {/* é…é€äºˆå®šæ—¥ */}\n                    <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                      <Clock className=\"h-4 w-4\" />\n                      <span>é…é€äºˆå®š: {new Date(offer.proposedDeliveryDate).toLocaleDateString('ja-JP')}</span>\n                    </div>\n\n                    {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ (è·ä¸»ã§ä¿ç•™ä¸­ã®å ´åˆ) */}\n                    {user.userType === 'SHIPPER' && offer.status === 'PENDING' && (\n                      <div className=\"grid grid-cols-2 gap-3 pt-4 border-t border-gray-200\">\n                        <button\n                          onClick={() => handleRejectOffer(offer.id)}\n                          className=\"btn-secondary py-3 flex items-center justify-center space-x-2\"\n                        >\n                          <X className=\"h-4 w-4\" />\n                          <span>æ‹’å¦</span>\n                        </button>\n                        <button\n                          onClick={() => handleAcceptOffer(offer.id)}\n                          className=\"btn-primary py-3 flex items-center justify-center space-x-2\"\n                        >\n                          <Check className=\"h-4 w-4\" />\n                          <span>æ‰¿èª</span>\n                        </button>\n                      </div>\n                    )}\n\n                    {/* è©³ç´°ã‚’è¦‹ã‚‹ãƒœã‚¿ãƒ³ */}\n                    <button\n                      onClick={() => router.push(`/shipments/${offer.shipmentId}`)}\n                      className=\"w-full btn-secondary py-3\"\n                    >\n                      æ¡ˆä»¶è©³ç´°ã‚’è¦‹ã‚‹\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n","size_bytes":10683},"postcss.config.js":{"content":"module.exports = {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n\n","size_bytes":83},"src/app/settings/page.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Navbar from '@/components/Navbar'\nimport { Bell, Shield, Eye, Mail, Smartphone, Globe, Save, Check } from 'lucide-react'\n\nexport default function SettingsPage() {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [settings, setSettings] = useState({\n    emailNotifications: true,\n    pushNotifications: false,\n    smsNotifications: false,\n    publicProfile: false,\n    showContactInfo: true,\n    language: 'ja',\n    timezone: 'Asia/Tokyo',\n  })\n  const [saving, setSaving] = useState(false)\n  const [saved, setSaved] = useState(false)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    const userData = localStorage.getItem('user')\n\n    if (!token || !userData) {\n      router.push('/login')\n      return\n    }\n\n    setUser(JSON.parse(userData))\n  }, [])\n\n  const handleSave = async () => {\n    setSaving(true)\n    try {\n      // å®Ÿéš›ã®APIå‘¼ã³å‡ºã—ã‚’ã“ã“ã«å®Ÿè£…\n      await new Promise(resolve => setTimeout(resolve, 1000)) // ãƒ€ãƒŸãƒ¼ã®é…å»¶\n      \n      setSaved(true)\n      setTimeout(() => setSaved(false), 3000)\n    } catch (error) {\n      console.error('Error saving settings:', error)\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleSettingChange = (key: string, value: boolean | string) => {\n    setSettings({ ...settings, [key]: value })\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      <Navbar userType={user?.userType} />\n\n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n        <div className=\"mb-6 sm:mb-8\">\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900\">è¨­å®š</h1>\n          <p className=\"text-gray-600 mt-2 text-sm sm:text-base\">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šã‚’ç®¡ç†ã§ãã¾ã™</p>\n        </div>\n\n        <div className=\"space-y-6\">\n          {/* é€šçŸ¥è¨­å®š */}\n          <div className=\"card\">\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-br from-blue-50 to-cyan-50 p-3 rounded-2xl\">\n                <Bell className=\"h-6 w-6 text-blue-600\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">é€šçŸ¥è¨­å®š</h2>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-sm sm:text-base font-semibold text-gray-900\">ãƒ¡ãƒ¼ãƒ«é€šçŸ¥</h3>\n                  <p className=\"text-xs sm:text-sm text-gray-600\">æ–°ã—ã„ã‚ªãƒ•ã‚¡ãƒ¼ã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€šçŸ¥</p>\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={settings.emailNotifications}\n                    onChange={(e) => handleSettingChange('emailNotifications', e.target.checked)}\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-sm sm:text-base font-semibold text-gray-900\">ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥</h3>\n                  <p className=\"text-xs sm:text-sm text-gray-600\">ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã®é€šçŸ¥</p>\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={settings.pushNotifications}\n                    onChange={(e) => handleSettingChange('pushNotifications', e.target.checked)}\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-sm sm:text-base font-semibold text-gray-900\">SMSé€šçŸ¥</h3>\n                  <p className=\"text-xs sm:text-sm text-gray-600\">é‡è¦ãªé€šçŸ¥ã‚’SMSã§å—ã‘å–ã‚‹</p>\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={settings.smsNotifications}\n                    onChange={(e) => handleSettingChange('smsNotifications', e.target.checked)}\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          {/* ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®š */}\n          <div className=\"card\">\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 p-3 rounded-2xl\">\n                <Shield className=\"h-6 w-6 text-purple-600\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®š</h2>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-sm sm:text-base font-semibold text-gray-900\">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’å…¬é–‹</h3>\n                  <p className=\"text-xs sm:text-sm text-gray-600\">ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’é–²è¦§å¯èƒ½</p>\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={settings.publicProfile}\n                    onChange={(e) => handleSettingChange('publicProfile', e.target.checked)}\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h3 className=\"text-sm sm:text-base font-semibold text-gray-900\">é€£çµ¡å…ˆæƒ…å ±ã‚’è¡¨ç¤º</h3>\n                  <p className=\"text-xs sm:text-sm text-gray-600\">é›»è©±ç•ªå·ã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¡¨ç¤º</p>\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={settings.showContactInfo}\n                    onChange={(e) => handleSettingChange('showContactInfo', e.target.checked)}\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          {/* åœ°åŸŸãƒ»è¨€èªè¨­å®š */}\n          <div className=\"card\">\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 p-3 rounded-2xl\">\n                <Globe className=\"h-6 w-6 text-green-600\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">åœ°åŸŸãƒ»è¨€èªè¨­å®š</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">è¨€èª</label>\n                <select\n                  value={settings.language}\n                  onChange={(e) => handleSettingChange('language', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                >\n                  <option value=\"ja\">æ—¥æœ¬èª</option>\n                  <option value=\"en\">English</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³</label>\n                <select\n                  value={settings.timezone}\n                  onChange={(e) => handleSettingChange('timezone', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                >\n                  <option value=\"Asia/Tokyo\">æ±äº¬ (JST)</option>\n                  <option value=\"Asia/Seoul\">ã‚½ã‚¦ãƒ« (KST)</option>\n                  <option value=\"Asia/Shanghai\">ä¸Šæµ· (CST)</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* ä¿å­˜ãƒœã‚¿ãƒ³ */}\n          <div className=\"flex justify-end\">\n            <button\n              onClick={handleSave}\n              disabled={saving}\n              className=\"btn-primary flex items-center space-x-2 px-6 py-3\"\n            >\n              {saved ? (\n                <>\n                  <Check className=\"h-5 w-5\" />\n                  <span>ä¿å­˜å®Œäº†</span>\n                </>\n              ) : saving ? (\n                <>\n                  <Save className=\"h-5 w-5\" />\n                  <span>ä¿å­˜ä¸­...</span>\n                </>\n              ) : (\n                <>\n                  <Save className=\"h-5 w-5\" />\n                  <span>è¨­å®šã‚’ä¿å­˜</span>\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n","size_bytes":11374},"src/app/dashboard/settings/company-details/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Building2, \n  MapPin, \n  Phone, \n  Mail, \n  Globe, \n  Calendar, \n  Users, \n  FileText, \n  Save, \n  X, \n  Edit,\n  CheckCircle,\n  AlertCircle\n} from 'lucide-react'\n\nexport default function CompanyDetailsPage() {\n  const [editing, setEditing] = useState(false)\n  const [user, setUser] = useState<any>(null)\n  const [formData, setFormData] = useState({\n    companyName: '',\n    companyNameKana: '',\n    representativeName: '',\n    representativeNameKana: '',\n    businessType: '',\n    industry: '',\n    capital: '',\n    establishedDate: '',\n    employeeCount: '',\n    website: '',\n    description: '',\n    businessLicense: '',\n    transportLicense: '',\n    insuranceNumber: '',\n    taxId: ''\n  })\n\n  useEffect(() => {\n    const userData = localStorage.getItem('user')\n    if (userData) {\n      const userProfile = JSON.parse(userData)\n      setUser(userProfile)\n      setFormData({\n        companyName: userProfile.companyName || '',\n        companyNameKana: userProfile.companyNameKana || '',\n        representativeName: userProfile.representativeName || '',\n        representativeNameKana: userProfile.representativeNameKana || '',\n        businessType: userProfile.businessType || '',\n        industry: userProfile.industry || '',\n        capital: userProfile.capital || '',\n        establishedDate: userProfile.establishedDate || '',\n        employeeCount: userProfile.employeeCount || '',\n        website: userProfile.website || '',\n        description: userProfile.description || '',\n        businessLicense: userProfile.businessLicense || '',\n        transportLicense: userProfile.transportLicense || '',\n        insuranceNumber: userProfile.insuranceNumber || '',\n        taxId: userProfile.taxId || ''\n      })\n    }\n  }, [])\n\n  const handleEdit = () => {\n    setEditing(true)\n  }\n\n  const handleCancel = () => {\n    setEditing(false)\n    if (user) {\n      setFormData({\n        companyName: user.companyName || '',\n        companyNameKana: user.companyNameKana || '',\n        representativeName: user.representativeName || '',\n        representativeNameKana: user.representativeNameKana || '',\n        businessType: user.businessType || '',\n        industry: user.industry || '',\n        capital: user.capital || '',\n        establishedDate: user.establishedDate || '',\n        employeeCount: user.employeeCount || '',\n        website: user.website || '',\n        description: user.description || '',\n        businessLicense: user.businessLicense || '',\n        transportLicense: user.transportLicense || '',\n        insuranceNumber: user.insuranceNumber || '',\n        taxId: user.taxId || ''\n      })\n    }\n  }\n\n  const handleSave = async () => {\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/user/company-details', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(formData)\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to update company details')\n      }\n\n      const updatedUser = { ...user, ...formData }\n      setUser(updatedUser)\n      localStorage.setItem('user', JSON.stringify(updatedUser))\n      setEditing(false)\n      alert('ä¼æ¥­è©³ç´°æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸ')\n    } catch (error) {\n      console.error('Error updating company details:', error)\n      alert('ä¼æ¥­è©³ç´°æƒ…å ±ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    }\n  }\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }))\n  }\n\n  const businessTypes = [\n    'æ ªå¼ä¼šç¤¾', 'æœ‰é™ä¼šç¤¾', 'åˆåŒä¼šç¤¾', 'åˆè³‡ä¼šç¤¾', 'åˆåä¼šç¤¾', 'å€‹äººäº‹æ¥­ä¸»', 'ãã®ä»–'\n  ]\n\n  const industries = [\n    'ç‰©æµãƒ»é‹é€æ¥­', 'è£½é€ æ¥­', 'å°å£²æ¥­', 'å¸å£²æ¥­', 'å»ºè¨­æ¥­', 'ITãƒ»é€šä¿¡æ¥­', 'é‡‘èæ¥­', 'ä¸å‹•ç”£æ¥­', 'ãã®ä»–'\n  ]\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">ä¼æ¥­è©³ç´°æƒ…å ±</h1>\n            <p className=\"text-gray-600\">ä¼æ¥­ã®è©³ç´°æƒ…å ±ã‚’ç®¡ç†ã§ãã¾ã™</p>\n          </div>\n          <div className=\"flex space-x-2\">\n            {editing ? (\n              <>\n                <button\n                  onClick={handleSave}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n                >\n                  <Save className=\"h-4 w-4\" />\n                  <span>ä¿å­˜</span>\n                </button>\n                <button\n                  onClick={handleCancel}\n                  className=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 flex items-center space-x-2\"\n                >\n                  <X className=\"h-4 w-4\" />\n                  <span>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</span>\n                </button>\n              </>\n            ) : (\n              <button\n                onClick={handleEdit}\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n              >\n                <Edit className=\"h-4 w-4\" />\n                <span>ç·¨é›†</span>\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* åŸºæœ¬æƒ…å ± */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <Building2 className=\"h-5 w-5 mr-2\" />\n              åŸºæœ¬æƒ…å ±\n            </h2>\n          </div>\n          <div className=\"p-6 space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä¼šç¤¾å *</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.companyName}\n                    onChange={(e) => handleInputChange('companyName', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.companyName || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä¼šç¤¾åï¼ˆã‚«ãƒŠï¼‰</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.companyNameKana}\n                    onChange={(e) => handleInputChange('companyNameKana', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"ã‚«ãƒ–ã‚·ã‚­ã‚¬ã‚¤ã‚·ãƒ£ã‚µãƒ³ãƒ—ãƒ«\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.companyNameKana || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä»£è¡¨è€…å *</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.representativeName}\n                    onChange={(e) => handleInputChange('representativeName', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"å±±ç”°å¤ªéƒ\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.representativeName || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä»£è¡¨è€…åï¼ˆã‚«ãƒŠï¼‰</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.representativeNameKana}\n                    onChange={(e) => handleInputChange('representativeNameKana', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"ãƒ¤ãƒãƒ€ã‚¿ãƒ­ã‚¦\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.representativeNameKana || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">æ³•äººæ ¼ *</label>\n                {editing ? (\n                  <select\n                    value={formData.businessType}\n                    onChange={(e) => handleInputChange('businessType', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                    {businessTypes.map(type => (\n                      <option key={type} value={type}>{type}</option>\n                    ))}\n                  </select>\n                ) : (\n                  <p className=\"text-gray-900\">{formData.businessType || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">æ¥­ç¨® *</label>\n                {editing ? (\n                  <select\n                    value={formData.industry}\n                    onChange={(e) => handleInputChange('industry', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                    {industries.map(industry => (\n                      <option key={industry} value={industry}>{industry}</option>\n                    ))}\n                  </select>\n                ) : (\n                  <p className=\"text-gray-900\">{formData.industry || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">è³‡æœ¬é‡‘</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.capital}\n                    onChange={(e) => handleInputChange('capital', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"1000ä¸‡å††\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.capital || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">è¨­ç«‹æ—¥</label>\n                {editing ? (\n                  <input\n                    type=\"date\"\n                    value={formData.establishedDate}\n                    onChange={(e) => handleInputChange('establishedDate', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.establishedDate || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">å¾“æ¥­å“¡æ•°</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.employeeCount}\n                    onChange={(e) => handleInputChange('employeeCount', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"50å\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.employeeCount || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ</label>\n                {editing ? (\n                  <input\n                    type=\"url\"\n                    value={formData.website}\n                    onChange={(e) => handleInputChange('website', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"https://example.com\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.website || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">äº‹æ¥­å†…å®¹ãƒ»ä¼æ¥­æ¦‚è¦</label>\n              {editing ? (\n                <textarea\n                  value={formData.description}\n                  onChange={(e) => handleInputChange('description', e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  rows={4}\n                  placeholder=\"ä¼æ¥­ã®äº‹æ¥­å†…å®¹ã‚„æ¦‚è¦ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„\"\n                />\n              ) : (\n                <p className=\"text-gray-900 whitespace-pre-wrap\">{formData.description || 'æœªè¨­å®š'}</p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* è¨±å¯ãƒ»èªè¨¼æƒ…å ± */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <FileText className=\"h-5 w-5 mr-2\" />\n              è¨±å¯ãƒ»èªè¨¼æƒ…å ±\n            </h2>\n          </div>\n          <div className=\"p-6 space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">äº‹æ¥­è¨±å¯ç•ªå·</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.businessLicense}\n                    onChange={(e) => handleInputChange('businessLicense', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"ç¬¬1234567890å·\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.businessLicense || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä¸€èˆ¬è²¨ç‰©è‡ªå‹•è»Šé‹é€äº‹æ¥­è¨±å¯</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.transportLicense}\n                    onChange={(e) => handleInputChange('transportLicense', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"ç¬¬1234567890å·\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.transportLicense || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ä¿é™ºè¨¼åˆ¸ç•ªå·</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.insuranceNumber}\n                    onChange={(e) => handleInputChange('insuranceNumber', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"1234567890\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.insuranceNumber || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">æ³•äººç•ªå·</label>\n                {editing ? (\n                  <input\n                    type=\"text\"\n                    value={formData.taxId}\n                    onChange={(e) => handleInputChange('taxId', e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"1234567890123\"\n                  />\n                ) : (\n                  <p className=\"text-gray-900\">{formData.taxId || 'æœªè¨­å®š'}</p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* æ³¨æ„äº‹é … */}\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n          <div className=\"flex items-start\">\n            <AlertCircle className=\"h-5 w-5 text-yellow-600 mr-3 mt-0.5\" />\n            <div>\n              <h3 className=\"text-sm font-medium text-yellow-800\">é‡è¦äº‹é …</h3>\n              <p className=\"text-sm text-yellow-700 mt-1\">\n                è¨±å¯ãƒ»èªè¨¼æƒ…å ±ã¯å–å¼•ã®ä¿¡é ¼æ€§å‘ä¸Šã®ãŸã‚ã«é‡è¦ã§ã™ã€‚æ­£ç¢ºãªæƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\n                è™šå½ã®æƒ…å ±ã‚’å…¥åŠ›ã—ãŸå ´åˆã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒåœæ­¢ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </DashboardLayout>\n  )\n}\n\n","size_bytes":18388},"src/app/api/auth/me/route.ts":{"content":"import { NextRequest } from 'next/server'\nimport { getUserFromRequest } from '@/lib/auth'\nimport { successResponse, unauthorizedResponse } from '@/lib/api-response'\nimport prisma from '@/lib/prisma'\n\nexport const dynamic = 'force-dynamic'\n\nexport async function GET(request: NextRequest) {\n  try {\n    const user = getUserFromRequest(request)\n    \n    if (!user) {\n      return unauthorizedResponse()\n    }\n    \n    const userData = await prisma.user.findUnique({\n      where: { id: user.userId },\n      select: {\n        id: true,\n        email: true,\n        userType: true,\n        companyName: true,\n        contactPerson: true,\n        phone: true,\n        postalCode: true,\n        address: true,\n        createdAt: true,\n      },\n    })\n    \n    if (!userData) {\n      return unauthorizedResponse()\n    }\n    \n    return successResponse(userData)\n  } catch (error) {\n    console.error('Get user error:', error)\n    return unauthorizedResponse()\n  }\n}\n\n","size_bytes":959},"src/app/api/stats/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server'\nimport { prisma } from '@/lib/prisma'\n\nexport async function GET(request: NextRequest) {\n  try {\n    // è·ç‰©æ•°ã®å–å¾—ï¼ˆã™ã¹ã¦ã®è·ç‰©ï¼‰\n    const shipmentCount = await prisma.shipment.count()\n    \n    // ç©ºè»Šæ•°ã®å–å¾—ï¼ˆåˆ©ç”¨å¯èƒ½ãªè»Šä¸¡æ•°ï¼‰\n    const vehicleCount = await prisma.vehicle.count({\n      where: {\n        status: 'AVAILABLE',\n        availableFrom: {\n          lte: new Date()\n        },\n        availableTo: {\n          gte: new Date()\n        }\n      }\n    })\n    \n    return NextResponse.json({\n      success: true,\n      data: {\n        shipmentCount,\n        vehicleCount\n      }\n    })\n  } catch (error) {\n    console.error('Error fetching stats:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch stats' },\n      { status: 500 }\n    )\n  }\n}\n","size_bytes":876},"src/app/admin/dashboard/page.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Logo from '@/components/Logo'\nimport {\n  Users,\n  Package,\n  TrendingUp,\n  DollarSign,\n  LogOut,\n  FileText,\n  Settings,\n  BarChart3,\n} from 'lucide-react'\n\nexport default function AdminDashboardPage() {\n  const router = useRouter()\n  const [stats, setStats] = useState({\n    totalUsers: 0,\n    totalShipments: 0,\n    totalOffers: 0,\n    revenue: 0,\n  })\n  const [recentActivity, setRecentActivity] = useState<any[]>([])\n\n  useEffect(() => {\n    const adminToken = localStorage.getItem('adminToken')\n    if (!adminToken) {\n      router.push('/admin')\n      return\n    }\n\n    loadDashboardData()\n  }, [])\n\n  const loadDashboardData = async () => {\n    try {\n      const token = localStorage.getItem('token') || ''\n      \n      // ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã‚’å–å¾—ï¼ˆç®¡ç†è€…ã¨ã—ã¦ï¼‰\n      const response = await fetch('/api/admin/stats', {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      // ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿéš›ã¯APIã‹ã‚‰å–å¾—ï¼‰\n      setStats({\n        totalUsers: 127,\n        totalShipments: 453,\n        totalOffers: 1089,\n        revenue: 8500000,\n      })\n\n      setRecentActivity([\n        { type: 'user', message: 'æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²: æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«ç‰©æµ', time: '5åˆ†å‰' },\n        { type: 'shipment', message: 'æ–°è¦æ¡ˆä»¶æŠ•ç¨¿: æ±äº¬â†’å¤§é˜ª (2tè»Š)', time: '12åˆ†å‰' },\n        { type: 'offer', message: 'ã‚ªãƒ•ã‚¡ãƒ¼æ‰¿èª: æ¡ˆä»¶#1234', time: '18åˆ†å‰' },\n        { type: 'user', message: 'æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²: ABCé‹è¼¸æ ªå¼ä¼šç¤¾', time: '25åˆ†å‰' },\n      ])\n    } catch (error) {\n      console.error('Error loading dashboard data:', error)\n    }\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem('adminToken')\n    router.push('/admin')\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-sky\">\n      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n      <header className=\"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-3 sm:space-x-4\">\n              <Logo width={180} height={50} className=\"w-[120px] h-[35px] sm:w-[180px] sm:h-[50px]\" />\n              <span className=\"text-xs sm:text-sm font-semibold text-red-600 bg-red-50 px-2 sm:px-3 py-1 rounded-full\">\n                ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰\n              </span>\n            </div>\n            <button\n              onClick={handleLogout}\n              className=\"flex items-center space-x-1 sm:space-x-2 text-gray-700 hover:text-red-600 transition\"\n            >\n              <LogOut className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n              <span className=\"text-xs sm:text-sm\">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span>\n            </button>\n          </div>\n        </nav>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n        <div className=\"mb-6 sm:mb-8\">\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900\">ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>\n          <p className=\"text-gray-600 mt-2 text-sm sm:text-base\">ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®çŠ¶æ³ã‚’ç¢ºèªã§ãã¾ã™</p>\n        </div>\n\n        {/* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8\">\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.1s'}}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-600 text-xs sm:text-sm mb-1\">ç·ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°</p>\n                <p className=\"text-2xl sm:text-3xl font-bold text-gray-900\">{stats.totalUsers}</p>\n                <p className=\"text-xs sm:text-sm text-green-600 mt-1\">+12% å‰æœˆæ¯”</p>\n              </div>\n              <div className=\"bg-gradient-to-br from-blue-50 to-cyan-50 p-3 sm:p-4 rounded-2xl floating\">\n                <Users className=\"h-6 w-6 sm:h-8 sm:w-8 text-blue-600\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.2s'}}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-600 text-xs sm:text-sm mb-1\">ç·æ¡ˆä»¶æ•°</p>\n                <p className=\"text-2xl sm:text-3xl font-bold text-gray-900\">{stats.totalShipments}</p>\n                <p className=\"text-xs sm:text-sm text-green-600 mt-1\">+8% å‰æœˆæ¯”</p>\n              </div>\n              <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 p-3 sm:p-4 rounded-2xl floating\" style={{animationDelay: '1s'}}>\n                <Package className=\"h-6 w-6 sm:h-8 sm:w-8 text-purple-600\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.3s'}}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-600 text-xs sm:text-sm mb-1\">ç·ã‚ªãƒ•ã‚¡ãƒ¼æ•°</p>\n                <p className=\"text-2xl sm:text-3xl font-bold text-gray-900\">{stats.totalOffers}</p>\n                <p className=\"text-xs sm:text-sm text-green-600 mt-1\">+15% å‰æœˆæ¯”</p>\n              </div>\n              <div className=\"bg-gradient-to-br from-orange-50 to-yellow-50 p-3 sm:p-4 rounded-2xl floating\" style={{animationDelay: '2s'}}>\n                <FileText className=\"h-6 w-6 sm:h-8 sm:w-8 text-orange-600\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.4s'}}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-600 text-xs sm:text-sm mb-1\">ç·å–å¼•é¡</p>\n                <p className=\"text-2xl sm:text-3xl font-bold text-gray-900\">\n                  Â¥{(stats.revenue / 1000000).toFixed(1)}M\n                </p>\n                <p className=\"text-xs sm:text-sm text-green-600 mt-1\">+20% å‰æœˆæ¯”</p>\n              </div>\n              <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 p-3 sm:p-4 rounded-2xl floating\" style={{animationDelay: '0.5s'}}>\n                <DollarSign className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"card\">\n              <h2 className=\"text-xl font-bold text-gray-900 mb-4\">ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>\n              <div className=\"space-y-3\">\n                <button className=\"w-full bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-4 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-cyan-600 transition flex items-center justify-center space-x-2\">\n                  <Users className=\"h-5 w-5\" />\n                  <span>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†</span>\n                </button>\n                <button className=\"w-full bg-white border-2 border-gray-200 text-gray-700 px-4 py-3 rounded-xl font-semibold hover:border-blue-300 hover:bg-blue-50 transition flex items-center justify-center space-x-2\">\n                  <Package className=\"h-5 w-5\" />\n                  <span>æ¡ˆä»¶ç®¡ç†</span>\n                </button>\n                <button className=\"w-full bg-white border-2 border-gray-200 text-gray-700 px-4 py-3 rounded-xl font-semibold hover:border-blue-300 hover:bg-blue-50 transition flex items-center justify-center space-x-2\">\n                  <BarChart3 className=\"h-5 w-5\" />\n                  <span>ãƒ¬ãƒãƒ¼ãƒˆ</span>\n                </button>\n                <button className=\"w-full bg-white border-2 border-gray-200 text-gray-700 px-4 py-3 rounded-xl font-semibold hover:border-blue-300 hover:bg-blue-50 transition flex items-center justify-center space-x-2\">\n                  <Settings className=\"h-5 w-5\" />\n                  <span>ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card\">\n              <h2 className=\"text-xl font-bold text-gray-900 mb-4\">æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£</h2>\n              <div className=\"space-y-4\">\n                {recentActivity.map((activity, index) => (\n                  <div\n                    key={index}\n                    className=\"flex items-start space-x-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition\"\n                  >\n                    <div\n                      className={`p-2 rounded-lg ${\n                        activity.type === 'user'\n                          ? 'bg-blue-100'\n                          : activity.type === 'shipment'\n                          ? 'bg-purple-100'\n                          : 'bg-green-100'\n                      }`}\n                    >\n                      {activity.type === 'user' && (\n                        <Users className=\"h-5 w-5 text-blue-600\" />\n                      )}\n                      {activity.type === 'shipment' && (\n                        <Package className=\"h-5 w-5 text-purple-600\" />\n                      )}\n                      {activity.type === 'offer' && (\n                        <FileText className=\"h-5 w-5 text-green-600\" />\n                      )}\n                    </div>\n                    <div className=\"flex-1\">\n                      <p className=\"text-gray-900 font-medium\">{activity.message}</p>\n                      <p className=\"text-sm text-gray-500 mt-1\">{activity.time}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ã‚°ãƒ©ãƒ•ã‚¨ãƒªã‚¢ï¼ˆå°†æ¥çš„ã«å®Ÿè£…ï¼‰ */}\n        <div className=\"mt-6 card\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">æœˆé–“çµ±è¨ˆ</h2>\n          <div className=\"h-64 flex items-center justify-center text-gray-400\">\n            <div className=\"text-center\">\n              <BarChart3 className=\"h-16 w-16 mx-auto mb-2 opacity-50\" />\n              <p>ã‚°ãƒ©ãƒ•è¡¨ç¤ºæ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™</p>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n\n","size_bytes":10445},"src/app/dashboard/notifications/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { Bell, CheckCircle, AlertCircle, Info, X, Filter } from 'lucide-react'\n\ninterface Notification {\n  id: string\n  type: 'info' | 'success' | 'warning' | 'error'\n  title: string\n  message: string\n  timestamp: Date\n  read: boolean\n}\n\nexport default function NotificationsPage() {\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [filter, setFilter] = useState<'all' | 'unread' | 'read'>('all')\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    // ã‚µãƒ³ãƒ—ãƒ«é€šçŸ¥ãƒ‡ãƒ¼ã‚¿\n    const sampleNotifications: Notification[] = [\n      {\n        id: '1',\n        type: 'success',\n        title: 'è·ç‰©ãƒãƒƒãƒãƒ³ã‚°å®Œäº†',\n        message: 'è·ç‰©ID: #12345 ã®ãƒãƒƒãƒãƒ³ã‚°ãŒå®Œäº†ã—ã¾ã—ãŸã€‚',\n        timestamp: new Date('2024-01-15T10:30:00'),\n        read: false\n      },\n      {\n        id: '2',\n        type: 'info',\n        title: 'æ–°ã—ã„è·ç‰©ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸ',\n        message: 'æ±äº¬ã‹ã‚‰å¤§é˜ªã¸ã®è·ç‰©ãŒæ–°ã—ãç™»éŒ²ã•ã‚Œã¾ã—ãŸã€‚',\n        timestamp: new Date('2024-01-15T09:15:00'),\n        read: false\n      },\n      {\n        id: '3',\n        type: 'warning',\n        title: 'æ”¯æ‰•ã„æœŸé™ã®ãŠçŸ¥ã‚‰ã›',\n        message: 'è«‹æ±‚æ›¸ #INV-2024-001 ã®æ”¯æ‰•ã„æœŸé™ãŒè¿‘ã¥ã„ã¦ã„ã¾ã™ã€‚',\n        timestamp: new Date('2024-01-14T16:45:00'),\n        read: true\n      },\n      {\n        id: '4',\n        type: 'error',\n        title: 'ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ãŠçŸ¥ã‚‰ã›',\n        message: '1æœˆ20æ—¥ 2:00-4:00 ã«ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚',\n        timestamp: new Date('2024-01-14T14:20:00'),\n        read: true\n      }\n    ]\n    \n    setNotifications(sampleNotifications)\n    setLoading(false)\n  }, [])\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'success': return <CheckCircle className=\"h-5 w-5 text-green-500\" />\n      case 'warning': return <AlertCircle className=\"h-5 w-5 text-yellow-500\" />\n      case 'error': return <AlertCircle className=\"h-5 w-5 text-red-500\" />\n      default: return <Info className=\"h-5 w-5 text-blue-500\" />\n    }\n  }\n\n  const getNotificationBgColor = (type: string) => {\n    switch (type) {\n      case 'success': return 'bg-green-50 border-green-200'\n      case 'warning': return 'bg-yellow-50 border-yellow-200'\n      case 'error': return 'bg-red-50 border-red-200'\n      default: return 'bg-blue-50 border-blue-200'\n    }\n  }\n\n  const markAsRead = (id: string) => {\n    setNotifications(prev => \n      prev.map(notification => \n        notification.id === id \n          ? { ...notification, read: true }\n          : notification\n      )\n    )\n  }\n\n  const markAllAsRead = () => {\n    setNotifications(prev => \n      prev.map(notification => ({ ...notification, read: true }))\n    )\n  }\n\n  const deleteNotification = (id: string) => {\n    setNotifications(prev => prev.filter(notification => notification.id !== id))\n  }\n\n  const filteredNotifications = notifications.filter(notification => {\n    if (filter === 'unread') return !notification.read\n    if (filter === 'read') return notification.read\n    return true\n  })\n\n  const unreadCount = notifications.filter(n => !n.read).length\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">é€šçŸ¥</h1>\n            <p className=\"text-gray-600\">ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã®ãŠçŸ¥ã‚‰ã›ã‚’ç¢ºèªã§ãã¾ã™</p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Filter className=\"h-4 w-4 text-gray-500\" />\n              <select\n                value={filter}\n                onChange={(e) => setFilter(e.target.value as 'all' | 'unread' | 'read')}\n                className=\"px-3 py-1 border border-gray-300 rounded-lg text-sm\"\n              >\n                <option value=\"all\">ã™ã¹ã¦</option>\n                <option value=\"unread\">æœªèª­ ({unreadCount})</option>\n                <option value=\"read\">æ—¢èª­</option>\n              </select>\n            </div>\n            {unreadCount > 0 && (\n              <button\n                onClick={markAllAsRead}\n                className=\"text-blue-600 hover:text-blue-800 text-sm\"\n              >\n                ã™ã¹ã¦æ—¢èª­ã«ã™ã‚‹\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            é€šçŸ¥ä¸€è¦§ ({filteredNotifications.length}ä»¶)\n          </h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : filteredNotifications.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Bell className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>é€šçŸ¥ã¯ã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredNotifications.map(notification => (\n              <div\n                key={notification.id}\n                className={`p-6 hover:bg-gray-50 transition-colors ${\n                  !notification.read ? 'bg-blue-50' : ''\n                }`}\n              >\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"flex-shrink-0\">\n                    {getNotificationIcon(notification.type)}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center justify-between\">\n                      <h3 className={`text-sm font-medium ${\n                        !notification.read ? 'text-gray-900' : 'text-gray-700'\n                      }`}>\n                        {notification.title}\n                      </h3>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-xs text-gray-500\">\n                          {notification.timestamp.toLocaleString('ja-JP')}\n                        </span>\n                        {!notification.read && (\n                          <span className=\"inline-block w-2 h-2 bg-blue-500 rounded-full\"></span>\n                        )}\n                        <button\n                          onClick={() => deleteNotification(notification.id)}\n                          className=\"text-gray-400 hover:text-red-500\"\n                        >\n                          <X className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </div>\n                    <p className=\"mt-1 text-sm text-gray-600\">\n                      {notification.message}\n                    </p>\n                    {!notification.read && (\n                      <button\n                        onClick={() => markAsRead(notification.id)}\n                        className=\"mt-2 text-xs text-blue-600 hover:text-blue-800\"\n                      >\n                        æ—¢èª­ã«ã™ã‚‹\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}\n","size_bytes":7521},"src/app/dashboard/transport-log/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  FileText, \n  Search, \n  Filter, \n  Plus, \n  Download, \n  Upload,\n  Calendar,\n  MapPin,\n  Truck,\n  Package,\n  Clock,\n  CheckCircle,\n  AlertCircle,\n  Edit,\n  Trash2,\n  Eye,\n  Building2,\n  User,\n  Phone,\n  Mail\n} from 'lucide-react'\n\ninterface TransportLog {\n  id: string\n  shipmentId: string\n  cargoName: string\n  carrierCompany: string\n  carrierContact: string\n  carrierPhone: string\n  carrierEmail: string\n  driverName: string\n  driverLicense: string\n  vehicleNumber: string\n  vehicleType: string\n  pickupDate: string\n  deliveryDate: string\n  pickupLocation: string\n  deliveryLocation: string\n  status: 'scheduled' | 'in_transit' | 'delivered' | 'cancelled'\n  actualPickupTime?: string\n  actualDeliveryTime?: string\n  notes?: string\n  createdAt: string\n  updatedAt: string\n}\n\nexport default function TransportLogPage() {\n  const [logs, setLogs] = useState<TransportLog[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [statusFilter, setStatusFilter] = useState<'all' | 'scheduled' | 'in_transit' | 'delivered' | 'cancelled'>('all')\n  const [dateFilter, setDateFilter] = useState('')\n\n  useEffect(() => {\n    loadTransportLogs()\n  }, [])\n\n  const loadTransportLogs = async () => {\n    try {\n      // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n      const sampleLogs: TransportLog[] = [\n        {\n          id: '1',\n          shipmentId: 'SH-001',\n          cargoName: 'é›»å­éƒ¨å“ï¼ˆå†·è”µï¼‰',\n          carrierCompany: 'æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯',\n          carrierContact: 'ç”°ä¸­å¤ªéƒ',\n          carrierPhone: '03-1234-5678',\n          carrierEmail: 'tanaka@translogic.co.jp',\n          driverName: 'ä½è—¤ä¸€éƒ',\n          driverLicense: '1234567890',\n          vehicleNumber: 'å“å· 500 ã‚ 1234',\n          vehicleType: 'å†·è”µè»Š',\n          pickupDate: '2024-01-15',\n          deliveryDate: '2024-01-16',\n          pickupLocation: 'æ±äº¬éƒ½æ¸¯åŒºå…­æœ¬æœ¨1-1-1',\n          deliveryLocation: 'å¤§é˜ªåºœå¤§é˜ªå¸‚åŒ—åŒºæ¢…ç”°2-2-2',\n          status: 'delivered',\n          actualPickupTime: '2024-01-15T09:00:00',\n          actualDeliveryTime: '2024-01-16T14:30:00',\n          notes: 'äºˆå®šé€šã‚Šé…é€å®Œäº†ã€‚è·ç‰©ã«å•é¡Œãªã—ã€‚',\n          createdAt: '2024-01-10T10:00:00',\n          updatedAt: '2024-01-16T14:30:00'\n        },\n        {\n          id: '2',\n          shipmentId: 'SH-002',\n          cargoName: 'æ©Ÿæ¢°éƒ¨å“',\n          carrierCompany: 'å±±ç”°é‹é€æ ªå¼ä¼šç¤¾',\n          carrierContact: 'å±±ç”°èŠ±å­',\n          carrierPhone: '06-9876-5432',\n          carrierEmail: 'yamada@yamada-transport.co.jp',\n          driverName: 'éˆ´æœ¨äºŒéƒ',\n          driverLicense: '0987654321',\n          vehicleNumber: 'å¤§é˜ª 500 ã„ 5678',\n          vehicleType: 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯',\n          pickupDate: '2024-01-20',\n          deliveryDate: '2024-01-21',\n          pickupLocation: 'æ„›çŸ¥çœŒåå¤å±‹å¸‚ä¸­åŒºæ „3-3-3',\n          deliveryLocation: 'ç¦å²¡çœŒç¦å²¡å¸‚åšå¤šåŒºåšå¤šé§…å‰4-4-4',\n          status: 'in_transit',\n          actualPickupTime: '2024-01-20T08:30:00',\n          notes: 'ç¾åœ¨è¼¸é€ä¸­ã€‚äºˆå®šé€šã‚Šé€²è¡Œã€‚',\n          createdAt: '2024-01-18T14:00:00',\n          updatedAt: '2024-01-20T08:30:00'\n        },\n        {\n          id: '3',\n          shipmentId: 'SH-003',\n          cargoName: 'è¡£æ–™å“',\n          carrierCompany: 'ã‚¹ãƒ”ãƒ¼ãƒ‰ç‰©æµæ ªå¼ä¼šç¤¾',\n          carrierContact: 'éˆ´æœ¨ä¸€éƒ',\n          carrierPhone: '092-3333-4444',\n          carrierEmail: 'suzuki@speedlogistics.co.jp',\n          driverName: 'é«˜æ©‹ä¸‰éƒ',\n          driverLicense: '1122334455',\n          vehicleNumber: 'ç¦å²¡ 500 ã† 9012',\n          vehicleType: 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯',\n          pickupDate: '2024-01-25',\n          deliveryDate: '2024-01-26',\n          pickupLocation: 'æ±äº¬éƒ½æ¸‹è°·åŒºæ¸‹è°·1-1-1',\n          deliveryLocation: 'ç¥å¥ˆå·çœŒæ¨ªæµœå¸‚è¥¿åŒºã¿ãªã¨ã¿ã‚‰ã„2-2-2',\n          status: 'scheduled',\n          notes: 'é…é€æº–å‚™ä¸­ã€‚',\n          createdAt: '2024-01-22T16:00:00',\n          updatedAt: '2024-01-22T16:00:00'\n        }\n      ]\n      \n      setLogs(sampleLogs)\n    } catch (error) {\n      console.error('Error loading transport logs:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const getStatusInfo = (status: string) => {\n    switch (status) {\n      case 'scheduled':\n        return { label: 'äºˆå®š', color: 'bg-blue-100 text-blue-800', icon: Clock }\n      case 'in_transit':\n        return { label: 'è¼¸é€ä¸­', color: 'bg-yellow-100 text-yellow-800', icon: Truck }\n      case 'delivered':\n        return { label: 'é…é€å®Œäº†', color: 'bg-green-100 text-green-800', icon: CheckCircle }\n      case 'cancelled':\n        return { label: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«', color: 'bg-red-100 text-red-800', icon: AlertCircle }\n      default:\n        return { label: 'ä¸æ˜', color: 'bg-gray-100 text-gray-800', icon: Clock }\n    }\n  }\n\n  const filteredLogs = logs.filter(log => {\n    const matchesSearch = searchTerm === '' || \n      log.cargoName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      log.carrierCompany.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      log.driverName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      log.vehicleNumber.toLowerCase().includes(searchTerm.toLowerCase())\n    \n    const matchesStatus = statusFilter === 'all' || log.status === statusFilter\n    \n    const matchesDate = dateFilter === '' || \n      log.pickupDate === dateFilter || \n      log.deliveryDate === dateFilter\n    \n    return matchesSearch && matchesStatus && matchesDate\n  })\n\n  const handleDeleteLog = (logId: string) => {\n    if (!confirm('ã“ã®è¨˜éŒ²ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return\n    setLogs(prev => prev.filter(l => l.id !== logId))\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">å®Ÿé‹é€ä½“åˆ¶ç®¡ç†ç°¿</h1>\n            <p className=\"text-gray-600\">é‹é€æ¥­è€…ã®å®Ÿé‹é€ä½“åˆ¶ã‚’ç®¡ç†ãƒ»è¨˜éŒ²ã§ãã¾ã™</p>\n          </div>\n          <div className=\"flex space-x-2\">\n            <button\n              className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2\"\n            >\n              <Upload className=\"h-4 w-4\" />\n              <span>ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</span>\n            </button>\n            <button\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n            >\n              <Download className=\"h-4 w-4\" />\n              <span>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</span>\n            </button>\n            <button\n              className=\"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center space-x-2\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              <span>æ–°è¦ç™»éŒ²</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */}\n      <div className=\"bg-white rounded-lg shadow-sm border mb-6\">\n        <div className=\"p-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"è·ç‰©åã€é‹é€æ¥­è€…ã€ãƒ‰ãƒ©ã‚¤ãƒãƒ¼åã§æ¤œç´¢...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n            <div>\n              <div className=\"flex items-center space-x-2\">\n                <Filter className=\"h-4 w-4 text-gray-500\" />\n                <select\n                  value={statusFilter}\n                  onChange={(e) => setStatusFilter(e.target.value as any)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"all\">ã™ã¹ã¦ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</option>\n                  <option value=\"scheduled\">äºˆå®š</option>\n                  <option value=\"in_transit\">è¼¸é€ä¸­</option>\n                  <option value=\"delivered\">é…é€å®Œäº†</option>\n                  <option value=\"cancelled\">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</option>\n                </select>\n              </div>\n            </div>\n            <div>\n              <input\n                type=\"date\"\n                value={dateFilter}\n                onChange={(e) => setDateFilter(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"æ—¥ä»˜ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼\"\n              />\n            </div>\n            <div>\n              <button\n                onClick={() => {\n                  setSearchTerm('')\n                  setStatusFilter('all')\n                  setDateFilter('')\n                }}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700\"\n              >\n                ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ã‚¯ãƒªã‚¢\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* é‹é€è¨˜éŒ²ä¸€è¦§ */}\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            é‹é€è¨˜éŒ²ä¸€è¦§ ({filteredLogs.length}ä»¶)\n          </h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : filteredLogs.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <FileText className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>é‹é€è¨˜éŒ²ã¯ã‚ã‚Šã¾ã›ã‚“</p>\n            <button\n              className=\"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n            >\n              æœ€åˆã®è¨˜éŒ²ã‚’ç™»éŒ²ã™ã‚‹\n            </button>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredLogs.map((log) => {\n              const statusInfo = getStatusInfo(log.status)\n              const StatusIcon = statusInfo.icon\n              \n              return (\n                <div key={log.id} className=\"p-6 hover:bg-gray-50\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        <h3 className=\"text-lg font-medium text-gray-900\">\n                          {log.cargoName}\n                        </h3>\n                        <span className=\"text-sm text-gray-500\">\n                          è·ç‰©ID: {log.shipmentId}\n                        </span>\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${statusInfo.color}`}>\n                          <StatusIcon className=\"h-3 w-3\" />\n                          <span>{statusInfo.label}</span>\n                        </span>\n                      </div>\n                      \n                      {/* é‹é€æ¥­è€…æƒ…å ± */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                        <div className=\"bg-gray-50 p-3 rounded-lg\">\n                          <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                            <Building2 className=\"h-4 w-4 mr-2\" />\n                            é‹é€æ¥­è€…æƒ…å ±\n                          </h4>\n                          <div className=\"space-y-1 text-sm text-gray-700\">\n                            <div className=\"flex items-center\">\n                              <Building2 className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{log.carrierCompany}</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <User className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{log.carrierContact}</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <Phone className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{log.carrierPhone}</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <Mail className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{log.carrierEmail}</span>\n                            </div>\n                          </div>\n                        </div>\n                        \n                        <div className=\"bg-gray-50 p-3 rounded-lg\">\n                          <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                            <Truck className=\"h-4 w-4 mr-2\" />\n                            è»Šä¸¡ãƒ»ãƒ‰ãƒ©ã‚¤ãƒãƒ¼æƒ…å ±\n                          </h4>\n                          <div className=\"space-y-1 text-sm text-gray-700\">\n                            <div className=\"flex items-center\">\n                              <User className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>ãƒ‰ãƒ©ã‚¤ãƒãƒ¼: {log.driverName}</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <Truck className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>è»Šä¸¡ç•ªå·: {log.vehicleNumber}</span>\n                            </div>\n                            <div className=\"flex items-center\">\n                              <Package className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>è»Šç¨®: {log.vehicleType}</span>\n                            </div>\n                            <div className=\"text-xs text-gray-500\">\n                              å…è¨±ç•ªå·: {log.driverLicense}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* é…é€æƒ…å ± */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                        <div>\n                          <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                            <MapPin className=\"h-4 w-4 mr-2\" />\n                            é›†è·æƒ…å ±\n                          </h4>\n                          <div className=\"space-y-1 text-sm text-gray-700\">\n                            <div className=\"flex items-center\">\n                              <Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>äºˆå®šæ—¥: {new Date(log.pickupDate).toLocaleDateString('ja-JP')}</span>\n                            </div>\n                            {log.actualPickupTime && (\n                              <div className=\"flex items-center\">\n                                <Clock className=\"h-4 w-4 mr-2 text-gray-500\" />\n                                <span>å®Ÿéš›: {new Date(log.actualPickupTime).toLocaleString('ja-JP')}</span>\n                              </div>\n                            )}\n                            <div className=\"flex items-center\">\n                              <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{log.pickupLocation}</span>\n                            </div>\n                          </div>\n                        </div>\n                        \n                        <div>\n                          <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                            <MapPin className=\"h-4 w-4 mr-2\" />\n                            é…é€æƒ…å ±\n                          </h4>\n                          <div className=\"space-y-1 text-sm text-gray-700\">\n                            <div className=\"flex items-center\">\n                              <Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>äºˆå®šæ—¥: {new Date(log.deliveryDate).toLocaleDateString('ja-JP')}</span>\n                            </div>\n                            {log.actualDeliveryTime && (\n                              <div className=\"flex items-center\">\n                                <Clock className=\"h-4 w-4 mr-2 text-gray-500\" />\n                                <span>å®Ÿéš›: {new Date(log.actualDeliveryTime).toLocaleString('ja-JP')}</span>\n                              </div>\n                            )}\n                            <div className=\"flex items-center\">\n                              <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                              <span>{log.deliveryLocation}</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* ãƒ¡ãƒ¢ */}\n                      {log.notes && (\n                        <div className=\"mb-3\">\n                          <p className=\"text-sm text-gray-600 bg-yellow-50 p-2 rounded border-l-4 border-yellow-400\">\n                            <strong>ãƒ¡ãƒ¢:</strong> {log.notes}\n                          </p>\n                        </div>\n                      )}\n\n                      <div className=\"text-xs text-gray-400\">\n                        ç™»éŒ²æ—¥: {new Date(log.createdAt).toLocaleString('ja-JP')} | \n                        æ›´æ–°æ—¥: {new Date(log.updatedAt).toLocaleString('ja-JP')}\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        className=\"p-2 text-gray-400 hover:text-blue-600\"\n                        title=\"è©³ç´°ã‚’è¦‹ã‚‹\"\n                      >\n                        <Eye className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        className=\"p-2 text-gray-400 hover:text-green-600\"\n                        title=\"ç·¨é›†\"\n                      >\n                        <Edit className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDeleteLog(log.id)}\n                        className=\"p-2 text-gray-400 hover:text-red-600\"\n                        title=\"å‰Šé™¤\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":19171},"src/app/dashboard/recent-shipments/page.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { History, Package, MapPin, Calendar, Weight, Truck, DollarSign, Building2, User, Phone } from 'lucide-react'\n\nexport default function RecentShipmentsPage() {\n  const [recentShipments, setRecentShipments] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    loadRecentShipments()\n  }, [])\n\n  const loadRecentShipments = async () => {\n    setLoading(true)\n    try {\n      const recentIds = JSON.parse(localStorage.getItem('recentShipments') || '[]')\n      if (recentIds.length === 0) {\n        setRecentShipments([])\n        return\n      }\n\n      // æœ€è¿‘è¦‹ãŸè·ç‰©ã®è©³ç´°ã‚’å–å¾—\n      const response = await fetch('/api/shipments/details', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({ ids: recentIds })\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch recent shipment details')\n      }\n\n      const result = await response.json()\n      setRecentShipments(result.data)\n    } catch (error) {\n      console.error('Error loading recent shipments:', error)\n      // ç„¡åŠ¹ãªæœ€è¿‘è¦‹ãŸIDã‚’ã‚¯ãƒªã‚¢\n      localStorage.removeItem('recentShipments')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'OPEN': return 'bg-blue-100 text-blue-800'\n      case 'MATCHED': return 'bg-green-100 text-green-800'\n      case 'IN_TRANSIT': return 'bg-yellow-100 text-yellow-800'\n      case 'DELIVERED': return 'bg-gray-100 text-gray-800'\n      case 'CANCELLED': return 'bg-red-100 text-red-800'\n      default: return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">æœ€è¿‘è¦‹ãŸè·ç‰©</h1>\n        <p className=\"text-gray-600\">æœ€è¿‘é–²è¦§ã—ãŸè·ç‰©ã®ä¸€è¦§ã§ã™</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">æœ€è¿‘è¦‹ãŸè·ç‰©ä¸€è¦§</h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : recentShipments.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <History className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>æœ€è¿‘è¦‹ãŸè·ç‰©ã¯ã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {recentShipments.map(shipment => (\n              <div key={shipment.id} className=\"p-6 hover:bg-gray-50\">\n                <div className=\"flex justify-between items-start mb-2\">\n                  <h3 className=\"text-lg font-bold text-blue-700\">{shipment.cargoName}</h3>\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(shipment.status)}`}>\n                    {shipment.status === 'OPEN' && 'å‹Ÿé›†ä¸­'}\n                    {shipment.status === 'MATCHED' && 'ãƒãƒƒãƒãƒ³ã‚°æ¸ˆã¿'}\n                    {shipment.status === 'IN_TRANSIT' && 'è¼¸é€ä¸­'}\n                    {shipment.status === 'DELIVERED' && 'é…é€å®Œäº†'}\n                    {shipment.status === 'CANCELLED' && 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«'}\n                  </span>\n                </div>\n                <p className=\"text-gray-600 text-sm mb-3\">{shipment.cargoDescription}</p>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700 mb-4\">\n                  <div className=\"flex items-center\"><MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />ç™ºåœ°: {shipment.pickupPrefecture} {shipment.pickupCity}</div>\n                  <div className=\"flex items-center\"><MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />ç€åœ°: {shipment.deliveryPrefecture} {shipment.deliveryCity}</div>\n                  <div className=\"flex items-center\"><Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />ç™ºæ—¥æ™‚: {new Date(shipment.pickupDate).toLocaleDateString()} {shipment.pickupTimeFrom}</div>\n                  <div className=\"flex items-center\"><Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />ç€æ—¥æ™‚: {new Date(shipment.deliveryDate).toLocaleDateString()} {shipment.deliveryTimeFrom}</div>\n                  <div className=\"flex items-center\"><Weight className=\"h-4 w-4 mr-2 text-gray-500\" />é‡é‡: {shipment.cargoWeight} kg</div>\n                  <div className=\"flex items-center\"><Truck className=\"h-4 w-4 mr-2 text-gray-500\" />è»Šç¨®: {shipment.requiredVehicleType}</div>\n                  <div className=\"flex items-center\"><DollarSign className=\"h-4 w-4 mr-2 text-gray-500\" />äºˆç®—: {shipment.budget.toLocaleString()} å††</div>\n                </div>\n\n                <div className=\"border-t border-gray-100 pt-3\">\n                  <h4 className=\"font-semibold text-gray-800 mb-2\">è·ä¸»æƒ…å ±</h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700\">\n                    <div className=\"flex items-center\"><Building2 className=\"h-4 w-4 mr-2 text-gray-500\" />ä¼šç¤¾å: {shipment.shipper.companyName}</div>\n                    <div className=\"flex items-center\"><User className=\"h-4 w-4 mr-2 text-gray-500\" />æ‹…å½“è€…: {shipment.shipper.contactPerson}</div>\n                    <div className=\"flex items-center\"><Phone className=\"h-4 w-4 mr-2 text-gray-500\" />é›»è©±ç•ªå·: {shipment.shipper.phone}</div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}","size_bytes":5851},"src/app/dashboard/vehicle-search/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Truck, \n  Search, \n  MapPin, \n  Calendar, \n  Weight, \n  DollarSign, \n  Plus, \n  Filter, \n  ArrowLeft, \n  ArrowRight,\n  Star,\n  Shield,\n  Clock,\n  CheckCircle,\n  AlertCircle,\n  Brain,\n  TrendingUp,\n  Award,\n  Zap,\n  Target,\n  BarChart3\n} from 'lucide-react'\n\ninterface Vehicle {\n  id: string\n  vehicleType: string\n  vehicleNumber: string\n  maxWeight: number\n  availablePrefectures: string\n  availableFrom: string\n  availableTo: string\n  basePrice?: number\n  driverName: string\n  driverPhone: string\n  status: string\n  carrier: {\n    id: string\n    companyName: string\n    contactPerson: string\n    phone: string\n    email: string\n    rating: number\n    totalShipments: number\n    completedShipments: number\n    creditScore: number\n    specialties: string[]\n    responseTime: number\n    reliabilityScore: number\n  }\n  aiMatchScore?: number\n  aiRecommendationReason?: string\n  estimatedDeliveryTime?: number\n  costEfficiency?: number\n}\n\ninterface AISearchResult {\n  vehicles: Vehicle[]\n  aiInsights: {\n    totalMatches: number\n    averageMatchScore: number\n    topSpecialties: string[]\n    recommendedCarriers: string[]\n    marketTrends: string\n  }\n}\n\nexport default function VehicleSearchPage() {\n  const router = useRouter()\n  const [vehicles, setVehicles] = useState<Vehicle[]>([])\n  const [aiResults, setAiResults] = useState<AISearchResult | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [aiSearching, setAiSearching] = useState(false)\n  const [searchForm, setSearchForm] = useState({\n    vehicleType: '',\n    prefecture: '',\n    status: 'AVAILABLE',\n    cargoWeight: '',\n    cargoType: '',\n    urgency: 'normal',\n    budget: '',\n    specialRequirements: ''\n  })\n  const [showAIResults, setShowAIResults] = useState(false)\n\n  const prefectures = [\n    'åŒ—æµ·é“', 'é’æ£®çœŒ', 'å²©æ‰‹çœŒ', 'å®®åŸçœŒ', 'ç§‹ç”°çœŒ', 'å±±å½¢çœŒ', 'ç¦å³¶çœŒ',\n    'èŒ¨åŸçœŒ', 'æ ƒæœ¨çœŒ', 'ç¾¤é¦¬çœŒ', 'åŸ¼ç‰çœŒ', 'åƒè‘‰çœŒ', 'æ±äº¬éƒ½', 'ç¥å¥ˆå·çœŒ',\n    'æ–°æ½ŸçœŒ', 'å¯Œå±±çœŒ', 'çŸ³å·çœŒ', 'ç¦äº•çœŒ', 'å±±æ¢¨çœŒ', 'é•·é‡çœŒ', 'å²é˜œçœŒ',\n    'é™å²¡çœŒ', 'æ„›çŸ¥çœŒ', 'ä¸‰é‡çœŒ', 'æ»‹è³€çœŒ', 'äº¬éƒ½åºœ', 'å¤§é˜ªåºœ', 'å…µåº«çœŒ',\n    'å¥ˆè‰¯çœŒ', 'å’Œæ­Œå±±çœŒ', 'é³¥å–çœŒ', 'å³¶æ ¹çœŒ', 'å²¡å±±çœŒ', 'åºƒå³¶çœŒ', 'å±±å£çœŒ',\n    'å¾³å³¶çœŒ', 'é¦™å·çœŒ', 'æ„›åª›çœŒ', 'é«˜çŸ¥çœŒ', 'ç¦å²¡çœŒ', 'ä½è³€çœŒ', 'é•·å´çœŒ',\n    'ç†Šæœ¬çœŒ', 'å¤§åˆ†çœŒ', 'å®®å´çœŒ', 'é¹¿å…å³¶çœŒ', 'æ²–ç¸„çœŒ'\n  ]\n\n  const vehicleTypes = [\n    'è»½ãƒˆãƒ©ãƒƒã‚¯', 'å°å‹ãƒˆãƒ©ãƒƒã‚¯', 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯', 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯', 'ãƒˆãƒ¬ãƒ¼ãƒ©ãƒ¼', 'å†·å‡è»Š', 'å†·è”µè»Š', 'ãã®ä»–'\n  ]\n\n  const cargoTypes = [\n    'ä¸€èˆ¬è²¨ç‰©', 'å†·è”µãƒ»å†·å‡', 'å±é™ºç‰©', 'ç”Ÿé®®é£Ÿå“', 'ç²¾å¯†æ©Ÿå™¨', 'ç¾è¡“å“', 'åŒ»è–¬å“', 'ãã®ä»–'\n  ]\n\n  const urgencyLevels = [\n    { value: 'urgent', label: 'ç·Šæ€¥ï¼ˆ24æ™‚é–“ä»¥å†…ï¼‰', color: 'text-red-600' },\n    { value: 'high', label: 'é«˜ï¼ˆ3æ—¥ä»¥å†…ï¼‰', color: 'text-orange-600' },\n    { value: 'normal', label: 'é€šå¸¸ï¼ˆ1é€±é–“ä»¥å†…ï¼‰', color: 'text-blue-600' },\n    { value: 'low', label: 'ä½ï¼ˆ2é€±é–“ä»¥å†…ï¼‰', color: 'text-green-600' }\n  ]\n\n  const statuses = [\n    { value: 'AVAILABLE', label: 'åˆ©ç”¨å¯èƒ½' },\n    { value: 'IN_USE', label: 'ä½¿ç”¨ä¸­' },\n    { value: 'MAINTENANCE', label: 'ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­' },\n    { value: 'UNAVAILABLE', label: 'åˆ©ç”¨ä¸å¯' }\n  ]\n\n  useEffect(() => {\n    loadVehicles()\n  }, [])\n\n  const loadVehicles = async () => {\n    setLoading(true)\n    try {\n      const params = new URLSearchParams({\n        page: '1',\n        limit: '20',\n        ...searchForm\n      })\n\n      const response = await fetch(`/api/vehicles?${params}`)\n      if (!response.ok) throw new Error('Failed to load vehicles')\n      \n      const data = await response.json()\n      setVehicles(data.data || [])\n    } catch (error) {\n      console.error('Error loading vehicles:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const performAISearch = async () => {\n    setAiSearching(true)\n    try {\n      // AIæ¤œç´¢ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³\n      const mockAISearchResult: AISearchResult = {\n        vehicles: [\n          {\n            id: '1',\n            vehicleType: 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯',\n            vehicleNumber: 'å“å· 500 ã‚ 1234',\n            maxWeight: 10000,\n            availablePrefectures: '[\"æ±äº¬éƒ½\", \"ç¥å¥ˆå·çœŒ\", \"åŸ¼ç‰çœŒ\", \"åƒè‘‰çœŒ\"]',\n            availableFrom: '2024-01-20',\n            availableTo: '2024-01-30',\n            basePrice: 150,\n            driverName: 'ç”°ä¸­å¤ªéƒ',\n            driverPhone: '090-1234-5678',\n            status: 'AVAILABLE',\n            carrier: {\n              id: 'carrier-1',\n              companyName: 'æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯',\n              contactPerson: 'å±±ç”°èŠ±å­',\n              phone: '03-1234-5678',\n              email: 'yamada@translogic.co.jp',\n              rating: 4.8,\n              totalShipments: 156,\n              completedShipments: 148,\n              creditScore: 95,\n              specialties: ['å¤§å‹è²¨ç‰©', 'é–¢æ±åœ', 'æ€¥ä¾¿å¯¾å¿œ'],\n              responseTime: 15,\n              reliabilityScore: 98\n            },\n            aiMatchScore: 95,\n            aiRecommendationReason: 'è·ç‰©ã®é‡é‡ã¨ç·Šæ€¥åº¦ã«æœ€é©ãªè»Šä¸¡ã€‚éå»ã®å®Ÿç¸¾ã¨é«˜ã„ä¿¡ç”¨ã‚¹ã‚³ã‚¢ã§ä¿¡é ¼æ€§ãŒé«˜ã„ã€‚',\n            estimatedDeliveryTime: 6,\n            costEfficiency: 92\n          },\n          {\n            id: '2',\n            vehicleType: 'å†·è”µè»Š',\n            vehicleNumber: 'å¤§é˜ª 500 ã„ 5678',\n            maxWeight: 5000,\n            availablePrefectures: '[\"å¤§é˜ªåºœ\", \"äº¬éƒ½åºœ\", \"å…µåº«çœŒ\", \"å¥ˆè‰¯çœŒ\"]',\n            availableFrom: '2024-01-20',\n            availableTo: '2024-01-28',\n            basePrice: 200,\n            driverName: 'ä½è—¤æ¬¡éƒ',\n            driverPhone: '090-9876-5432',\n            status: 'AVAILABLE',\n            carrier: {\n              id: 'carrier-2',\n              companyName: 'é–¢è¥¿ç‰©æµæ ªå¼ä¼šç¤¾',\n              contactPerson: 'éˆ´æœ¨ä¸€éƒ',\n              phone: '06-9876-5432',\n              email: 'suzuki@kansai-logistics.co.jp',\n              rating: 4.6,\n              totalShipments: 89,\n              completedShipments: 85,\n              creditScore: 88,\n              specialties: ['å†·è”µè¼¸é€', 'é–¢è¥¿åœ', 'ç”Ÿé®®é£Ÿå“'],\n              responseTime: 25,\n              reliabilityScore: 94\n            },\n            aiMatchScore: 87,\n            aiRecommendationReason: 'å†·è”µè¼¸é€ã«ç‰¹åŒ–ã—ãŸè»Šä¸¡ã§ã€ç”Ÿé®®é£Ÿå“ã®è¼¸é€å®Ÿç¸¾ãŒè±Šå¯Œã€‚',\n            estimatedDeliveryTime: 8,\n            costEfficiency: 85\n          },\n          {\n            id: '3',\n            vehicleType: 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯',\n            vehicleNumber: 'åå¤å±‹ 500 ã† 9012',\n            maxWeight: 3000,\n            availablePrefectures: '[\"æ„›çŸ¥çœŒ\", \"é™å²¡çœŒ\", \"å²é˜œçœŒ\", \"ä¸‰é‡çœŒ\"]',\n            availableFrom: '2024-01-20',\n            availableTo: '2024-01-25',\n            basePrice: 120,\n            driverName: 'é«˜æ©‹ä¸‰éƒ',\n            driverPhone: '090-5555-1234',\n            status: 'AVAILABLE',\n            carrier: {\n              id: 'carrier-3',\n              companyName: 'ä¸­éƒ¨é‹é€æ ªå¼ä¼šç¤¾',\n              contactPerson: 'ç”°æ‘å››éƒ',\n              phone: '052-5555-1234',\n              email: 'tamura@chubu-transport.co.jp',\n              rating: 4.4,\n              totalShipments: 67,\n              completedShipments: 63,\n              creditScore: 82,\n              specialties: ['ä¸€èˆ¬è²¨ç‰©', 'ä¸­éƒ¨åœ', 'ã‚³ã‚¹ãƒˆé‡è¦–'],\n              responseTime: 30,\n              reliabilityScore: 89\n            },\n            aiMatchScore: 78,\n            aiRecommendationReason: 'ã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒè‰¯ãã€ä¸­å°è¦æ¨¡ã®è·ç‰©ã«é©ã—ã¦ã„ã‚‹ã€‚',\n            estimatedDeliveryTime: 12,\n            costEfficiency: 95\n          }\n        ],\n        aiInsights: {\n          totalMatches: 3,\n          averageMatchScore: 87,\n          topSpecialties: ['å¤§å‹è²¨ç‰©', 'å†·è”µè¼¸é€', 'é–¢æ±åœ'],\n          recommendedCarriers: ['æ ªå¼ä¼šç¤¾ãƒˆãƒ©ãƒ³ã‚¹ãƒ­ã‚¸ãƒƒã‚¯', 'é–¢è¥¿ç‰©æµæ ªå¼ä¼šç¤¾'],\n          marketTrends: 'ç¾åœ¨ã€å¤§å‹è²¨ç‰©ã®éœ€è¦ãŒé«˜ãã€å†·è”µè¼¸é€ã®éœ€è¦ã‚‚å¢—åŠ å‚¾å‘ã«ã‚ã‚Šã¾ã™ã€‚'\n        }\n      }\n      \n      // å®Ÿéš›ã®APIå‘¼ã³å‡ºã—ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ\n      await new Promise(resolve => setTimeout(resolve, 2000))\n      \n      setAiResults(mockAISearchResult)\n      setShowAIResults(true)\n    } catch (error) {\n      console.error('Error performing AI search:', error)\n    } finally {\n      setAiSearching(false)\n    }\n  }\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault()\n    loadVehicles()\n  }\n\n  const handleAISearch = (e: React.FormEvent) => {\n    e.preventDefault()\n    performAISearch()\n  }\n\n  const handleInputChange = (field: string, value: string) => {\n    setSearchForm(prev => ({ ...prev, [field]: value }))\n  }\n\n  const getCreditScoreColor = (score: number) => {\n    if (score >= 90) return 'text-green-600 bg-green-100'\n    if (score >= 80) return 'text-blue-600 bg-blue-100'\n    if (score >= 70) return 'text-yellow-600 bg-yellow-100'\n    return 'text-red-600 bg-red-100'\n  }\n\n  const getMatchScoreColor = (score: number) => {\n    if (score >= 90) return 'text-green-600'\n    if (score >= 80) return 'text-blue-600'\n    if (score >= 70) return 'text-yellow-600'\n    return 'text-red-600'\n  }\n\n  const renderStars = (rating: number) => {\n    return Array.from({ length: 5 }, (_, i) => (\n      <Star\n        key={i}\n        className={`h-4 w-4 ${\n          i < Math.floor(rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'\n        }`}\n      />\n    ))\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'AVAILABLE': return 'bg-green-100 text-green-800'\n      case 'IN_USE': return 'bg-blue-100 text-blue-800'\n      case 'MAINTENANCE': return 'bg-yellow-100 text-yellow-800'\n      case 'UNAVAILABLE': return 'bg-red-100 text-red-800'\n      default: return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">ç©ºè»Šæ¤œç´¢</h1>\n            <p className=\"text-gray-600\">æ¡ä»¶ã‚’æŒ‡å®šã—ã¦ç©ºè»Šã‚’æ¤œç´¢ã§ãã¾ã™</p>\n          </div>\n          <button\n            onClick={() => router.push('/vehicles/register')}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            <span>ç©ºè»Šç™»éŒ²</span>\n          </button>\n        </div>\n      </div>\n\n      {/* é€šå¸¸æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  */}\n      <div className=\"bg-white rounded-lg shadow-sm border p-6 mb-6\">\n        <form onSubmit={handleSearch} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">è»Šä¸¡ã‚¿ã‚¤ãƒ—</label>\n              <select\n                value={searchForm.vehicleType}\n                onChange={(e) => handleInputChange('vehicleType', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"\">ã™ã¹ã¦</option>\n                {vehicleTypes.map(type => (\n                  <option key={type} value={type}>{type}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">éƒ½é“åºœçœŒ</label>\n              <select\n                value={searchForm.prefecture}\n                onChange={(e) => handleInputChange('prefecture', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"\">ã™ã¹ã¦</option>\n                {prefectures.map(pref => (\n                  <option key={pref} value={pref}>{pref}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</label>\n              <select\n                value={searchForm.status}\n                onChange={(e) => handleInputChange('status', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                {statuses.map(status => (\n                  <option key={status.value} value={status.value}>{status.label}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end\">\n            <button\n              type=\"submit\"\n              className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n            >\n              <Search className=\"h-4 w-4\" />\n              <span>æ¤œç´¢</span>\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* AIæ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  */}\n      <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-sm border border-purple-200 p-6 mb-8\">\n        <div className=\"flex items-center mb-4\">\n          <Brain className=\"h-6 w-6 text-purple-600 mr-2\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">AI ãŠã™ã™ã‚æ¤œç´¢</h3>\n          <span className=\"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full\">NEW</span>\n        </div>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          è·ç‰©ã®è©³ç´°ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€AIãŒæœ€é©ãªé‹é€ä¼šç¤¾ã‚’ãƒãƒƒãƒãƒ³ã‚°ç‡ã¨å…±ã«ã”ææ¡ˆã—ã¾ã™\n        </p>\n        \n        <form onSubmit={handleAISearch} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">è·ç‰©ã®é‡é‡ (kg)</label>\n              <input\n                type=\"number\"\n                value={searchForm.cargoWeight}\n                onChange={(e) => handleInputChange('cargoWeight', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                placeholder=\"ä¾‹: 1000\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">è·ç‰©ã®ç¨®é¡</label>\n              <select\n                value={searchForm.cargoType}\n                onChange={(e) => handleInputChange('cargoType', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              >\n                <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                {cargoTypes.map(type => (\n                  <option key={type} value={type}>{type}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">ç·Šæ€¥åº¦</label>\n              <select\n                value={searchForm.urgency}\n                onChange={(e) => handleInputChange('urgency', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              >\n                {urgencyLevels.map(level => (\n                  <option key={level.value} value={level.value}>{level.label}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">äºˆç®— (å††)</label>\n              <input\n                type=\"number\"\n                value={searchForm.budget}\n                onChange={(e) => handleInputChange('budget', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                placeholder=\"ä¾‹: 50000\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">ç‰¹åˆ¥ãªè¦ä»¶</label>\n            <textarea\n              value={searchForm.specialRequirements}\n              onChange={(e) => handleInputChange('specialRequirements', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n              rows={3}\n              placeholder=\"ä¾‹: æ¸©åº¦ç®¡ç†ãŒå¿…è¦ã€å±é™ºç‰©è¼¸é€è³‡æ ¼å¿…é ˆã€24æ™‚é–“å¯¾å¿œãªã©\"\n            />\n          </div>\n\n          <div className=\"flex justify-end\">\n            <button\n              type=\"submit\"\n              disabled={aiSearching}\n              className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n            >\n              {aiSearching ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                  <span>AIæ¤œç´¢ä¸­...</span>\n                </>\n              ) : (\n                <>\n                  <Brain className=\"h-4 w-4\" />\n                  <span>AI ãŠã™ã™ã‚æ¤œç´¢</span>\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* AIæ¤œç´¢çµæœ */}\n      {showAIResults && aiResults && (\n        <div className=\"mb-8\">\n          {/* AIã‚¤ãƒ³ã‚µã‚¤ãƒˆ */}\n          <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-sm border border-purple-200 p-6 mb-6\">\n            <div className=\"flex items-center mb-4\">\n              <Brain className=\"h-6 w-6 text-purple-600 mr-2\" />\n              <h3 className=\"text-lg font-semibold text-gray-900\">AI åˆ†æçµæœ</h3>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              <div className=\"bg-white p-4 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <Target className=\"h-5 w-5 text-purple-600 mr-2\" />\n                  <span className=\"text-sm font-medium text-gray-700\">ãƒãƒƒãƒãƒ³ã‚°æ•°</span>\n                </div>\n                <p className=\"text-2xl font-bold text-purple-600 mt-1\">{aiResults.aiInsights.totalMatches}ä»¶</p>\n              </div>\n              <div className=\"bg-white p-4 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <TrendingUp className=\"h-5 w-5 text-blue-600 mr-2\" />\n                  <span className=\"text-sm font-medium text-gray-700\">å¹³å‡ãƒãƒƒãƒãƒ³ã‚°ç‡</span>\n                </div>\n                <p className=\"text-2xl font-bold text-blue-600 mt-1\">{aiResults.aiInsights.averageMatchScore}%</p>\n              </div>\n              <div className=\"bg-white p-4 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <Award className=\"h-5 w-5 text-green-600 mr-2\" />\n                  <span className=\"text-sm font-medium text-gray-700\">ãŠã™ã™ã‚é‹é€ä¼šç¤¾</span>\n                </div>\n                <p className=\"text-sm text-gray-600 mt-1\">{aiResults.aiInsights.recommendedCarriers.length}ç¤¾</p>\n              </div>\n              <div className=\"bg-white p-4 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <BarChart3 className=\"h-5 w-5 text-orange-600 mr-2\" />\n                  <span className=\"text-sm font-medium text-gray-700\">å¸‚å ´å‹•å‘</span>\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">{aiResults.aiInsights.marketTrends}</p>\n              </div>\n            </div>\n          </div>\n\n          {/* AIãŠã™ã™ã‚è»Šä¸¡ä¸€è¦§ */}\n          <div className=\"bg-white rounded-lg shadow-sm border\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">AI ãŠã™ã™ã‚è»Šä¸¡ ({aiResults.vehicles.length}ä»¶)</h2>\n              <p className=\"text-sm text-gray-600\">ãƒãƒƒãƒãƒ³ã‚°ç‡é †ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™</p>\n            </div>\n            \n            <div className=\"divide-y divide-gray-200\">\n              {aiResults.vehicles.map((vehicle, index) => (\n                <div key={vehicle.id} className=\"p-6 hover:bg-gray-50\">\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        <span className=\"bg-purple-100 text-purple-800 text-xs font-medium px-2 py-1 rounded-full\">\n                          #{index + 1} ãŠã™ã™ã‚\n                        </span>\n                        <h3 className=\"text-lg font-semibold text-gray-900\">{vehicle.vehicleType}</h3>\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${getMatchScoreColor(vehicle.aiMatchScore || 0)}`}>\n                          <Target className=\"h-3 w-3 inline mr-1\" />\n                          ãƒãƒƒãƒãƒ³ã‚°ç‡: {vehicle.aiMatchScore}%\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-gray-600 mb-3\">{vehicle.aiRecommendationReason}</p>\n                    </div>\n                    <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(vehicle.status)}`}>\n                      {statuses.find(s => s.value === vehicle.status)?.label}\n                    </span>\n                  </div>\n\n                  {/* é‹é€ä¼šç¤¾æƒ…å ± */}\n                  <div className=\"bg-gray-50 p-4 rounded-lg mb-4\">\n                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center\">\n                      <Truck className=\"h-4 w-4 mr-2\" />\n                      é‹é€ä¼šç¤¾æƒ…å ±\n                    </h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-700\">{vehicle.carrier.companyName}</p>\n                        <p className=\"text-sm text-gray-600\">æ‹…å½“: {vehicle.carrier.contactPerson}</p>\n                        <p className=\"text-sm text-gray-600\">TEL: {vehicle.carrier.phone}</p>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm text-gray-700\">è©•ä¾¡</span>\n                          <div className=\"flex items-center\">\n                            {renderStars(vehicle.carrier.rating)}\n                            <span className=\"ml-1 text-sm text-gray-600\">({vehicle.carrier.rating})</span>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm text-gray-700\">ä¿¡ç”¨ã‚¹ã‚³ã‚¢</span>\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${getCreditScoreColor(vehicle.carrier.creditScore)}`}>\n                            {vehicle.carrier.creditScore}ç‚¹\n                          </span>\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm text-gray-700\">å®Ÿç¸¾</span>\n                          <span className=\"text-sm text-gray-600\">\n                            {vehicle.carrier.completedShipments}/{vehicle.carrier.totalShipments}ä»¶å®Œäº†\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* å°‚é–€åˆ†é‡ */}\n                    <div className=\"mt-3\">\n                      <span className=\"text-sm font-medium text-gray-700\">å°‚é–€åˆ†é‡: </span>\n                      <div className=\"flex flex-wrap gap-1 mt-1\">\n                        {vehicle.carrier.specialties.map((specialty, idx) => (\n                          <span key={idx} className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\n                            {specialty}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* è»Šä¸¡è©³ç´°æƒ…å ± */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-700 mb-4\">\n                    <div className=\"flex items-center\">\n                      <Weight className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      æœ€å¤§ç©è¼‰é‡é‡: {vehicle.maxWeight}kg\n                    </div>\n                    <div className=\"flex items-center\">\n                      <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      é‹è¡Œå¯èƒ½ã‚¨ãƒªã‚¢: {vehicle.availablePrefectures ? JSON.parse(vehicle.availablePrefectures).join(', ') : '-'}\n                    </div>\n                    <div className=\"flex items-center\">\n                      <Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      åˆ©ç”¨å¯èƒ½æœŸé–“: {new Date(vehicle.availableFrom).toLocaleDateString()} - {new Date(vehicle.availableTo).toLocaleDateString()}\n                    </div>\n                    <div className=\"flex items-center\">\n                      <DollarSign className=\"h-4 w-4 mr-2 text-gray-500\" />\n                      åŸºæœ¬æ–™é‡‘: {vehicle.basePrice ? `${vehicle.basePrice}å††/km` : 'è¦ç›¸è«‡'}\n                    </div>\n                  </div>\n\n                  {/* AIäºˆæ¸¬æƒ…å ± */}\n                  <div className=\"bg-blue-50 p-4 rounded-lg mb-4\">\n                    <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                      <Brain className=\"h-4 w-4 mr-2\" />\n                      AI äºˆæ¸¬æƒ…å ±\n                    </h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                      <div className=\"flex items-center\">\n                        <Clock className=\"h-4 w-4 mr-2 text-blue-500\" />\n                        <span className=\"text-gray-700\">äºˆæƒ³é…é€æ™‚é–“: {vehicle.estimatedDeliveryTime}æ™‚é–“</span>\n                      </div>\n                      <div className=\"flex items-center\">\n                        <TrendingUp className=\"h-4 w-4 mr-2 text-green-500\" />\n                        <span className=\"text-gray-700\">ã‚³ã‚¹ãƒˆåŠ¹ç‡: {vehicle.costEfficiency}%</span>\n                      </div>\n                      <div className=\"flex items-center\">\n                        <Shield className=\"h-4 w-4 mr-2 text-purple-500\" />\n                        <span className=\"text-gray-700\">ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢: {vehicle.carrier.reliabilityScore}%</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"text-sm text-gray-600\">\n                      <p>é‹è»¢æ‰‹: {vehicle.driverName}</p>\n                      <p>é€£çµ¡å…ˆ: {vehicle.driverPhone}</p>\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <button className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm\">\n                        è©³ç´°ã‚’è¦‹ã‚‹\n                      </button>\n                      <button className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 text-sm\">\n                        AI ãŠã™ã™ã‚ã§ä¾é ¼\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* é€šå¸¸æ¤œç´¢çµæœ */}\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">é€šå¸¸æ¤œç´¢çµæœ</h2>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-6 text-center text-gray-500\">èª­ã¿è¾¼ã¿ä¸­...</div>\n        ) : vehicles.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Truck className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>è©²å½“ã™ã‚‹ç©ºè»Šã¯ã‚ã‚Šã¾ã›ã‚“</p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {vehicles.map(vehicle => (\n              <div key={vehicle.id} className=\"p-6 hover:bg-gray-50\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-900\">{vehicle.vehicleType}</h3>\n                    <p className=\"text-sm text-gray-600\">è»Šä¸¡ç•ªå·: {vehicle.vehicleNumber}</p>\n                  </div>\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(vehicle.status)}`}>\n                    {statuses.find(s => s.value === vehicle.status)?.label}\n                  </span>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-700\">\n                  <div className=\"flex items-center\">\n                    <Weight className=\"h-4 w-4 mr-2 text-gray-500\" />\n                    æœ€å¤§ç©è¼‰é‡é‡: {vehicle.maxWeight}kg\n                  </div>\n                  <div className=\"flex items-center\">\n                    <MapPin className=\"h-4 w-4 mr-2 text-gray-500\" />\n                    é‹è¡Œå¯èƒ½ã‚¨ãƒªã‚¢: {vehicle.availablePrefectures ? JSON.parse(vehicle.availablePrefectures).join(', ') : '-'}\n                  </div>\n                  <div className=\"flex items-center\">\n                    <Calendar className=\"h-4 w-4 mr-2 text-gray-500\" />\n                    åˆ©ç”¨å¯èƒ½æœŸé–“: {new Date(vehicle.availableFrom).toLocaleDateString()} - {new Date(vehicle.availableTo).toLocaleDateString()}\n                  </div>\n                  <div className=\"flex items-center\">\n                    <DollarSign className=\"h-4 w-4 mr-2 text-gray-500\" />\n                    åŸºæœ¬æ–™é‡‘: {vehicle.basePrice ? `${vehicle.basePrice}å††/km` : 'è¦ç›¸è«‡'}\n                  </div>\n                </div>\n\n                <div className=\"mt-4 pt-4 border-t border-gray-100\">\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"text-sm text-gray-600\">\n                      <p>é‹è»¢æ‰‹: {vehicle.driverName}</p>\n                      <p>é€£çµ¡å…ˆ: {vehicle.driverPhone}</p>\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <button className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm\">\n                        è©³ç´°ã‚’è¦‹ã‚‹\n                      </button>\n                      <button className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm\">\n                        ä¾é ¼ã™ã‚‹\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </DashboardLayout>\n  )\n}\n","size_bytes":31853},"src/lib/auth.ts":{"content":"import jwt from 'jsonwebtoken'\nimport bcrypt from 'bcryptjs'\nimport { NextRequest } from 'next/server'\n\nconst JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key'\n\nexport interface JWTPayload {\n  userId: string\n  email: string\n  userType: 'SHIPPER' | 'CARRIER' | 'ADMIN'\n}\n\n// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒƒã‚·ãƒ¥åŒ–\nexport async function hashPassword(password: string): Promise<string> {\n  return bcrypt.hash(password, 12)\n}\n\n// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®æ¤œè¨¼\nexport async function verifyPassword(\n  password: string,\n  hashedPassword: string\n): Promise<boolean> {\n  return bcrypt.compare(password, hashedPassword)\n}\n\n// JWTãƒˆãƒ¼ã‚¯ãƒ³ã®ç”Ÿæˆ\nexport function generateToken(payload: JWTPayload): string {\n  return jwt.sign(payload, JWT_SECRET, { expiresIn: '7d' })\n}\n\n// JWTãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼\nexport function verifyToken(token: string): JWTPayload | null {\n  try {\n    return jwt.verify(token, JWT_SECRET) as JWTPayload\n  } catch (error) {\n    return null\n  }\n}\n\n// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—\nexport function getUserFromRequest(request: NextRequest): JWTPayload | null {\n  const token = request.headers.get('authorization')?.replace('Bearer ', '')\n  \n  if (!token) {\n    return null\n  }\n  \n  return verifyToken(token)\n}\n\n// Cookieã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—\nexport function getTokenFromCookies(cookies: string): string | null {\n  const tokenCookie = cookies\n    .split(';')\n    .find((c) => c.trim().startsWith('token='))\n  \n  if (!tokenCookie) {\n    return null\n  }\n  \n  return tokenCookie.split('=')[1]\n}\n\n// ç®¡ç†è€…æ¨©é™ãƒã‚§ãƒƒã‚¯\nexport function isAdmin(userType: string): boolean {\n  return userType === 'ADMIN'\n}\n\n// ç®¡ç†è€…èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢\nexport function requireAdmin(payload: JWTPayload): boolean {\n  return payload.userType === 'ADMIN'\n}\n\n// ã‚»ã‚­ãƒ¥ã‚¢ãªç®¡ç†è€…ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ\nexport function generateAdminToken(payload: JWTPayload): string {\n  if (payload.userType !== 'ADMIN') {\n    throw new Error('ç®¡ç†è€…æ¨©é™ãŒå¿…è¦ã§ã™')\n  }\n  return jwt.sign(payload, JWT_SECRET, { expiresIn: '24h' })\n}\n\n// ç®¡ç†è€…ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¤œè¨¼\nexport function verifyAdminSession(token: string): JWTPayload | null {\n  try {\n    const payload = jwt.verify(token, JWT_SECRET) as JWTPayload\n    if (payload.userType !== 'ADMIN') {\n      return null\n    }\n    return payload\n  } catch (error) {\n    return null\n  }\n}\n\n","size_bytes":2359},"src/app/shipments/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport Navbar from '@/components/Navbar'\nimport { Package, MapPin, Calendar, Truck, DollarSign, Plus, Eye } from 'lucide-react'\n\nexport default function ShipmentsPage() {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [shipments, setShipments] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n  const [filter, setFilter] = useState('ALL')\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    const userData = localStorage.getItem('user')\n    \n    if (!token || !userData) {\n      router.push('/login')\n      return\n    }\n\n    setUser(JSON.parse(userData))\n    fetchShipments(token)\n  }, [router])\n\n  const fetchShipments = async (token: string) => {\n    try {\n      const response = await fetch('/api/shipments', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        setShipments(data.data)\n      }\n    } catch (error) {\n      console.error('Failed to fetch shipments:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const getStatusBadge = (status: string) => {\n    const badges: Record<string, { bg: string; text: string; label: string }> = {\n      OPEN: { bg: 'bg-green-100', text: 'text-green-800', label: 'å‹Ÿé›†ä¸­' },\n      MATCHED: { bg: 'bg-blue-100', text: 'text-blue-800', label: 'ãƒãƒƒãƒãƒ³ã‚°æ¸ˆ' },\n      IN_TRANSIT: { bg: 'bg-purple-100', text: 'text-purple-800', label: 'è¼¸é€ä¸­' },\n      DELIVERED: { bg: 'bg-gray-100', text: 'text-gray-800', label: 'é…é”å®Œäº†' },\n      CANCELLED: { bg: 'bg-red-100', text: 'text-red-800', label: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«' },\n    }\n    const badge = badges[status] || badges.OPEN\n    return (\n      <span className={`px-3 py-1 rounded-full text-xs font-semibold ${badge.bg} ${badge.text}`}>\n        {badge.label}\n      </span>\n    )\n  }\n\n  const getVehicleTypeLabel = (type: string) => {\n    const types: Record<string, string> = {\n      LIGHT_TRUCK: 'è»½ãƒˆãƒ©ãƒƒã‚¯',\n      SMALL_TRUCK: 'å°å‹ãƒˆãƒ©ãƒƒã‚¯',\n      MEDIUM_TRUCK: 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯',\n      LARGE_TRUCK: 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯',\n      TRAILER: 'ãƒˆãƒ¬ãƒ¼ãƒ©ãƒ¼',\n      REFRIGERATED: 'å†·å‡ãƒ»å†·è”µè»Š',\n      FLATBED: 'å¹³ãƒœãƒ‡ã‚£',\n      WING: 'ã‚¦ã‚£ãƒ³ã‚°è»Š',\n    }\n    return types[type] || type\n  }\n\n  const filteredShipments = shipments.filter(shipment => {\n    if (filter === 'ALL') return true\n    return shipment.status === filter\n  })\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-white\">\n      <Navbar />\n      \n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\n        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 fade-in-up\">\n          <div>\n            <h1 className=\"text-3xl sm:text-4xl font-bold text-gray-900 mb-2\">\n              {user.userType === 'SHIPPER' ? 'æŠ•ç¨¿ã—ãŸæ¡ˆä»¶' : 'é…é€æ¡ˆä»¶ä¸€è¦§'}\n            </h1>\n            <p className=\"text-gray-600\">\n              {filteredShipments.length}ä»¶ã®æ¡ˆä»¶\n            </p>\n          </div>\n          \n          {user.userType === 'SHIPPER' && (\n            <Link href=\"/shipments/new\" className=\"btn-primary flex items-center space-x-2\">\n              <Plus className=\"h-5 w-5\" />\n              <span>æ–°è¦æ¡ˆä»¶ã‚’æŠ•ç¨¿</span>\n            </Link>\n          )}\n        </div>\n\n        {/* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */}\n        <div className=\"card mb-8 slide-in-left\">\n          <div className=\"flex flex-wrap gap-2\">\n            {['ALL', 'OPEN', 'MATCHED', 'IN_TRANSIT', 'DELIVERED'].map((status) => (\n              <button\n                key={status}\n                onClick={() => setFilter(status)}\n                className={`px-4 py-2 rounded-xl font-semibold transition-all ${\n                  filter === status\n                    ? 'bg-gradient-to-r from-blue-600 to-cyan-500 text-white shadow-md'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                {status === 'ALL' ? 'ã™ã¹ã¦' : getStatusBadge(status).props.children}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* æ¡ˆä»¶ãƒªã‚¹ãƒˆ */}\n        {loading ? (\n          <div className=\"text-center py-12\">\n            <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent\"></div>\n            <p className=\"text-gray-600 mt-4\">èª­ã¿è¾¼ã¿ä¸­...</p>\n          </div>\n        ) : filteredShipments.length === 0 ? (\n          <div className=\"card text-center py-12\">\n            <Package className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-gray-600 text-lg\">æ¡ˆä»¶ãŒã‚ã‚Šã¾ã›ã‚“</p>\n            {user.userType === 'SHIPPER' && (\n              <Link href=\"/shipments/new\" className=\"btn-primary mt-6 inline-block\">\n                æœ€åˆã®æ¡ˆä»¶ã‚’æŠ•ç¨¿\n              </Link>\n            )}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {filteredShipments.map((shipment, index) => (\n              <div\n                key={shipment.id}\n                className=\"card hover:shadow-2xl transition-all cursor-pointer fade-in-up\"\n                style={{animationDelay: `${index * 0.1}s`}}\n                onClick={() => router.push(`/shipments/${shipment.id}`)}\n              >\n                {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n                <div className=\"flex justify-between items-start mb-4\">\n                  <h3 className=\"text-xl font-bold text-gray-900 flex-1 pr-4\">\n                    {shipment.title}\n                  </h3>\n                  {getStatusBadge(shipment.status)}\n                </div>\n\n                {/* èª¬æ˜ */}\n                <p className=\"text-gray-600 mb-4 line-clamp-2\">\n                  {shipment.description}\n                </p>\n\n                {/* ãƒ«ãƒ¼ãƒˆæƒ…å ± */}\n                <div className=\"space-y-3 mb-4\">\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"bg-green-100 p-2 rounded-lg\">\n                      <MapPin className=\"h-4 w-4 text-green-600\" />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-xs text-gray-500 mb-1\">é›†è·</p>\n                      <p className=\"text-sm font-semibold text-gray-900 truncate\">\n                        {shipment.pickupPrefecture} {shipment.pickupLocation}\n                      </p>\n                      <p className=\"text-xs text-gray-600\">\n                        {new Date(shipment.pickupDateTime).toLocaleString('ja-JP')}\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"bg-purple-100 p-2 rounded-lg\">\n                      <MapPin className=\"h-4 w-4 text-purple-600\" />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-xs text-gray-500 mb-1\">é…é€å…ˆ</p>\n                      <p className=\"text-sm font-semibold text-gray-900 truncate\">\n                        {shipment.deliveryPrefecture} {shipment.deliveryLocation}\n                      </p>\n                      <p className=\"text-xs text-gray-600\">\n                        {new Date(shipment.deliveryDateTime).toLocaleString('ja-JP')}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* è©³ç´°æƒ…å ± */}\n                <div className=\"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Truck className=\"h-4 w-4 text-gray-500\" />\n                    <span className=\"text-sm text-gray-700\">\n                      {getVehicleTypeLabel(shipment.requiredVehicleType)}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <Package className=\"h-4 w-4 text-gray-500\" />\n                    <span className=\"text-sm text-gray-700\">\n                      {shipment.cargoWeight}kg\n                    </span>\n                  </div>\n                  <div className=\"flex items-center space-x-2 col-span-2\">\n                    <DollarSign className=\"h-4 w-4 text-gray-500\" />\n                    <span className=\"text-lg font-bold text-blue-600\">\n                      Â¥{shipment.price.toLocaleString()}\n                    </span>\n                  </div>\n                </div>\n\n                {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */}\n                <div className=\"mt-4 pt-4 border-t border-gray-200\">\n                  <button className=\"w-full btn-secondary py-2 flex items-center justify-center space-x-2\">\n                    <Eye className=\"h-4 w-4\" />\n                    <span>è©³ç´°ã‚’è¦‹ã‚‹</span>\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n","size_bytes":9281},"src/app/dashboard/verification/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport DashboardLayout from '@/components/DashboardLayout'\nimport { \n  Upload, \n  FileText, \n  CheckCircle, \n  AlertCircle, \n  Clock, \n  Shield,\n  Download,\n  Eye,\n  X,\n  Plus,\n  Camera,\n  Scan\n} from 'lucide-react'\n\ninterface Document {\n  id: string\n  name: string\n  type: 'business_license' | 'transport_license' | 'insurance' | 'tax_certificate' | 'other'\n  status: 'pending' | 'approved' | 'rejected' | 'not_uploaded'\n  uploadedAt?: string\n  reviewedAt?: string\n  reviewer?: string\n  comment?: string\n  fileUrl?: string\n}\n\nexport default function VerificationPage() {\n  const [documents, setDocuments] = useState<Document[]>([])\n  const [uploading, setUploading] = useState(false)\n  const [selectedFile, setSelectedFile] = useState<File | null>(null)\n  const [selectedDocumentType, setSelectedDocumentType] = useState<string>('')\n  const [user, setUser] = useState<any>(null)\n\n  useEffect(() => {\n    const userData = localStorage.getItem('user')\n    if (userData) {\n      const userProfile = JSON.parse(userData)\n      setUser(userProfile)\n    }\n\n    // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿\n    setDocuments([\n      {\n        id: '1',\n        name: 'äº‹æ¥­è¨±å¯è¨¼',\n        type: 'business_license',\n        status: 'approved',\n        uploadedAt: '2024-01-10',\n        reviewedAt: '2024-01-12',\n        reviewer: 'ç®¡ç†è€…',\n        comment: 'æ‰¿èªã•ã‚Œã¾ã—ãŸ'\n      },\n      {\n        id: '2',\n        name: 'ä¸€èˆ¬è²¨ç‰©è‡ªå‹•è»Šé‹é€äº‹æ¥­è¨±å¯è¨¼',\n        type: 'transport_license',\n        status: 'pending',\n        uploadedAt: '2024-01-15',\n        comment: 'å¯©æŸ»ä¸­ã§ã™'\n      },\n      {\n        id: '3',\n        name: 'ä¿é™ºè¨¼åˆ¸',\n        type: 'insurance',\n        status: 'not_uploaded'\n      },\n      {\n        id: '4',\n        name: 'æ³•äººç•ªå·è¨¼æ˜æ›¸',\n        type: 'tax_certificate',\n        status: 'rejected',\n        uploadedAt: '2024-01-08',\n        reviewedAt: '2024-01-10',\n        reviewer: 'ç®¡ç†è€…',\n        comment: 'ç”»åƒãŒä¸é®®æ˜ã§ã™ã€‚å†ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚'\n      }\n    ])\n  }, [])\n\n  const documentTypes = [\n    { value: 'business_license', label: 'äº‹æ¥­è¨±å¯è¨¼', required: true },\n    { value: 'transport_license', label: 'ä¸€èˆ¬è²¨ç‰©è‡ªå‹•è»Šé‹é€äº‹æ¥­è¨±å¯è¨¼', required: true },\n    { value: 'insurance', label: 'ä¿é™ºè¨¼åˆ¸', required: true },\n    { value: 'tax_certificate', label: 'æ³•äººç•ªå·è¨¼æ˜æ›¸', required: true },\n    { value: 'other', label: 'ãã®ä»–', required: false }\n  ]\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (file) {\n      setSelectedFile(file)\n    }\n  }\n\n  const handleUpload = async () => {\n    if (!selectedFile || !selectedDocumentType) {\n      alert('ãƒ•ã‚¡ã‚¤ãƒ«ã¨æ–‡æ›¸ã‚¿ã‚¤ãƒ—ã‚’é¸æŠã—ã¦ãã ã•ã„')\n      return\n    }\n\n    setUploading(true)\n    try {\n      // å®Ÿéš›ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ\n      await new Promise(resolve => setTimeout(resolve, 2000))\n      \n      const newDocument: Document = {\n        id: Date.now().toString(),\n        name: documentTypes.find(t => t.value === selectedDocumentType)?.label || '',\n        type: selectedDocumentType as any,\n        status: 'pending',\n        uploadedAt: new Date().toISOString().split('T')[0]\n      }\n\n      setDocuments(prev => prev.map(doc => \n        doc.type === selectedDocumentType ? newDocument : doc\n      ))\n\n      setSelectedFile(null)\n      setSelectedDocumentType('')\n      alert('ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã—ãŸã€‚å¯©æŸ»ã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚')\n    } catch (error) {\n      console.error('Upload error:', error)\n      alert('ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ')\n    } finally {\n      setUploading(false)\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'approved': return 'text-green-600 bg-green-100'\n      case 'pending': return 'text-yellow-600 bg-yellow-100'\n      case 'rejected': return 'text-red-600 bg-red-100'\n      case 'not_uploaded': return 'text-gray-600 bg-gray-100'\n      default: return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'approved': return 'æ‰¿èªæ¸ˆã¿'\n      case 'pending': return 'å¯©æŸ»ä¸­'\n      case 'rejected': return 'å´ä¸‹'\n      case 'not_uploaded': return 'æœªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰'\n      default: return 'ä¸æ˜'\n    }\n  }\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'approved': return <CheckCircle className=\"h-4 w-4\" />\n      case 'pending': return <Clock className=\"h-4 w-4\" />\n      case 'rejected': return <X className=\"h-4 w-4\" />\n      case 'not_uploaded': return <AlertCircle className=\"h-4 w-4\" />\n      default: return <AlertCircle className=\"h-4 w-4\" />\n    }\n  }\n\n  const requiredDocuments = documents.filter(doc => \n    documentTypes.find(t => t.value === doc.type)?.required\n  )\n  const approvedRequiredDocuments = requiredDocuments.filter(doc => doc.status === 'approved')\n  const isFullyVerified = approvedRequiredDocuments.length === requiredDocuments.length\n\n  return (\n    <DashboardLayout>\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">è¨±å¯è¨¼ãƒ»èªè¨¼</h1>\n            <p className=\"text-gray-600\">å¿…è¦ãªè¨±å¯è¨¼ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦èªè¨¼ã‚’å—ã‘ã¾ã—ã‚‡ã†</p>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <Shield className={`h-6 w-6 ${isFullyVerified ? 'text-green-600' : 'text-yellow-600'}`} />\n            <span className={`text-sm font-medium ${isFullyVerified ? 'text-green-600' : 'text-yellow-600'}`}>\n              {isFullyVerified ? 'èªè¨¼å®Œäº†' : 'èªè¨¼å¾…ã¡'}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* èªè¨¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">èªè¨¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  {isFullyVerified ? 'èªè¨¼å®Œäº†' : 'èªè¨¼å¾…ã¡'}\n                </h3>\n                <p className=\"text-sm text-gray-600\">\n                  {approvedRequiredDocuments.length} / {requiredDocuments.length} ã®å¿…é ˆæ›¸é¡ãŒæ‰¿èªã•ã‚Œã¦ã„ã¾ã™\n                </p>\n              </div>\n              <div className={`px-4 py-2 rounded-full text-sm font-medium ${\n                isFullyVerified ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'\n              }`}>\n                {isFullyVerified ? 'èªè¨¼æ¸ˆã¿' : 'èªè¨¼å¾…ã¡'}\n              </div>\n            </div>\n            \n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div \n                className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${(approvedRequiredDocuments.length / requiredDocuments.length) * 100}%` }}\n              ></div>\n            </div>\n          </div>\n        </div>\n\n        {/* æ–‡æ›¸ä¸€è¦§ */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">å¿…è¦æ›¸é¡ä¸€è¦§</h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {documents.map((document) => (\n                <div key={document.id} className=\"border border-gray-200 rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className={`p-2 rounded-lg ${\n                        document.status === 'approved' ? 'bg-green-100 text-green-600' :\n                        document.status === 'pending' ? 'bg-yellow-100 text-yellow-600' :\n                        document.status === 'rejected' ? 'bg-red-100 text-red-600' :\n                        'bg-gray-100 text-gray-600'\n                      }`}>\n                        <FileText className=\"h-5 w-5\" />\n                      </div>\n                      <div>\n                        <h3 className=\"text-sm font-medium text-gray-900\">{document.name}</h3>\n                        <p className=\"text-xs text-gray-500\">\n                          {documentTypes.find(t => t.value === document.type)?.required ? 'å¿…é ˆ' : 'ä»»æ„'}\n                        </p>\n                        {document.uploadedAt && (\n                          <p className=\"text-xs text-gray-500\">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ—¥: {document.uploadedAt}</p>\n                        )}\n                        {document.comment && (\n                          <p className=\"text-xs text-gray-600 mt-1\">{document.comment}</p>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <span className={`px-2 py-1 text-xs font-medium rounded-full flex items-center space-x-1 ${getStatusColor(document.status)}`}>\n                        {getStatusIcon(document.status)}\n                        <span>{getStatusText(document.status)}</span>\n                      </span>\n                      {document.status !== 'not_uploaded' && (\n                        <button className=\"text-blue-600 hover:text-blue-800\">\n                          <Eye className=\"h-4 w-4\" />\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ */}\n        <div className=\"bg-white rounded-lg shadow-sm border\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  æ–‡æ›¸ã‚¿ã‚¤ãƒ—\n                </label>\n                <select\n                  value={selectedDocumentType}\n                  onChange={(e) => setSelectedDocumentType(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                  {documentTypes.map(type => (\n                    <option key={type.value} value={type.value}>\n                      {type.label} {type.required ? '(å¿…é ˆ)' : '(ä»»æ„)'}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ\n                </label>\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n                  <input\n                    type=\"file\"\n                    onChange={handleFileSelect}\n                    accept=\".pdf,.jpg,.jpeg,.png,.doc,.docx\"\n                    className=\"hidden\"\n                    id=\"file-upload\"\n                  />\n                  <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                    <Upload className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\n                    <p className=\"text-sm text-gray-600 mb-2\">\n                      {selectedFile ? selectedFile.name : 'ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã¾ãŸã¯ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—'}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      PDF, JPG, PNG, DOC, DOCX (æœ€å¤§10MB)\n                    </p>\n                  </label>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <button\n                  onClick={handleUpload}\n                  disabled={!selectedFile || !selectedDocumentType || uploading}\n                  className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n                >\n                  {uploading ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                      <span>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­...</span>\n                    </>\n                  ) : (\n                    <>\n                      <Upload className=\"h-4 w-4\" />\n                      <span>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* æ³¨æ„äº‹é … */}\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n          <div className=\"flex items-start\">\n            <AlertCircle className=\"h-5 w-5 text-yellow-600 mr-3 mt-0.5\" />\n            <div>\n              <h3 className=\"text-sm font-medium text-yellow-800\">é‡è¦äº‹é …</h3>\n              <ul className=\"text-sm text-yellow-700 mt-1 space-y-1\">\n                <li>â€¢ ã™ã¹ã¦ã®å¿…é ˆæ›¸é¡ãŒæ‰¿èªã•ã‚Œã‚‹ã¾ã§ã€æ¡ˆä»¶ã®æŠ•ç¨¿ã‚„ãƒãƒƒãƒãƒ³ã‚°ã¯ã§ãã¾ã›ã‚“</li>\n                <li>â€¢ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ç®¡ç†è€…ãŒå¯©æŸ»ã—ã¾ã™ï¼ˆé€šå¸¸1-3å–¶æ¥­æ—¥ï¼‰</li>\n                <li>â€¢ ä¸é®®æ˜ãªç”»åƒã‚„ä¸é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«ã¯å´ä¸‹ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™</li>\n                <li>â€¢ è™šå½ã®æƒ…å ±ã‚’æä¾›ã—ãŸå ´åˆã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒåœæ­¢ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </DashboardLayout>\n  )\n}\n\n","size_bytes":14198},"src/components/Navbar.tsx":{"content":"'use client'\n\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport Logo from './Logo'\nimport { LogOut, User } from 'lucide-react'\nimport { useEffect, useState } from 'react'\n\ninterface NavbarProps {\n  userType?: 'SHIPPER' | 'CARRIER'\n}\n\nexport default function Navbar({ userType }: NavbarProps) {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n\n  useEffect(() => {\n    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—\n    const userData = localStorage.getItem('user')\n    if (userData) {\n      setUser(JSON.parse(userData))\n    }\n  }, [])\n\n  const handleLogout = () => {\n    localStorage.removeItem('token')\n    localStorage.removeItem('user')\n    router.push('/')\n  }\n\n  return (\n    <nav className=\"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-12 sm:h-16\">\n          <Link href=\"/dashboard\">\n            <Logo width={180} height={50} linkable={false} className=\"w-[120px] h-[35px] sm:w-[180px] sm:h-[50px]\" />\n          </Link>\n\n          <div className=\"flex items-center space-x-2 sm:space-x-6\">\n            {userType === 'SHIPPER' && (\n              <>\n                <Link\n                  href=\"/dashboard\"\n                  className=\"text-gray-700 hover:text-blue-600 font-medium transition text-xs sm:text-base\"\n                >\n                  <span className=\"hidden sm:inline\">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</span>\n                  <span className=\"sm:hidden\">ãƒ€ãƒƒã‚·ãƒ¥</span>\n                </Link>\n                <Link\n                  href=\"/shipments\"\n                  className=\"text-gray-700 hover:text-blue-600 font-medium transition text-xs sm:text-base\"\n                >\n                  <span className=\"hidden sm:inline\">é…é€æ¡ˆä»¶</span>\n                  <span className=\"sm:hidden\">æ¡ˆä»¶</span>\n                </Link>\n                <Link\n                  href=\"/shipments/new\"\n                  className=\"bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-2 sm:px-4 py-1 sm:py-2 rounded-xl font-semibold hover:from-blue-700 hover:to-cyan-600 transition text-xs sm:text-sm\"\n                >\n                  <span className=\"hidden sm:inline\">æ–°è¦æŠ•ç¨¿</span>\n                  <span className=\"sm:hidden\">æŠ•ç¨¿</span>\n                </Link>\n              </>\n            )}\n\n            {userType === 'CARRIER' && (\n              <>\n                <Link\n                  href=\"/dashboard\"\n                  className=\"text-gray-700 hover:text-blue-600 font-medium transition text-xs sm:text-base\"\n                >\n                  <span className=\"hidden sm:inline\">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</span>\n                  <span className=\"sm:hidden\">ãƒ€ãƒƒã‚·ãƒ¥</span>\n                </Link>\n                <Link\n                  href=\"/shipments/search\"\n                  className=\"text-gray-700 hover:text-blue-600 font-medium transition text-xs sm:text-base\"\n                >\n                  <span className=\"hidden sm:inline\">æ¡ˆä»¶æ¤œç´¢</span>\n                  <span className=\"sm:hidden\">æ¤œç´¢</span>\n                </Link>\n                <Link\n                  href=\"/offers\"\n                  className=\"text-gray-700 hover:text-blue-600 font-medium transition text-xs sm:text-base\"\n                >\n                  <span className=\"hidden sm:inline\">ãƒã‚¤ã‚ªãƒ•ã‚¡ãƒ¼</span>\n                  <span className=\"sm:hidden\">ã‚ªãƒ•ã‚¡ãƒ¼</span>\n                </Link>\n              </>\n            )}\n\n            <div className=\"flex items-center space-x-1 sm:space-x-2 text-gray-700\">\n              <User className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n              <span className=\"text-xs sm:text-sm truncate max-w-[80px] sm:max-w-none\">\n                {user?.companyName || 'ãƒ¦ãƒ¼ã‚¶ãƒ¼'}\n              </span>\n            </div>\n\n            <Link\n              href=\"/profile\"\n              className=\"text-gray-700 hover:text-blue-600 font-medium transition text-xs sm:text-sm\"\n            >\n              <span className=\"hidden sm:inline\">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</span>\n              <span className=\"sm:hidden\">ãƒ—ãƒ­ãƒ•</span>\n            </Link>\n\n            <Link\n              href=\"/help\"\n              className=\"text-gray-700 hover:text-blue-600 font-medium transition text-xs sm:text-sm\"\n            >\n              <span className=\"hidden sm:inline\">ãƒ˜ãƒ«ãƒ—</span>\n              <span className=\"sm:hidden\">?</span>\n            </Link>\n\n            <button\n              onClick={handleLogout}\n              className=\"flex items-center space-x-1 text-gray-700 hover:text-red-600\"\n            >\n              <LogOut className=\"h-4 w-4 sm:h-5 sm:w-5\" />\n              <span className=\"text-xs sm:text-sm hidden sm:inline\">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\n","size_bytes":4919},"src/components/DashboardLayout.tsx":{"content":"'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport DashboardSidebar from './DashboardSidebar'\nimport DashboardHeader from './DashboardHeader'\n\ninterface DashboardLayoutProps {\n  children: React.ReactNode\n}\n\nexport default function DashboardLayout({ children }: DashboardLayoutProps) {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    const userData = localStorage.getItem('user')\n\n    if (!token || !userData) {\n      router.push('/login')\n      return\n    }\n\n    setUser(JSON.parse(userData))\n    setLoading(false)\n  }, [router])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-gray-600 text-lg\">èª­ã¿è¾¼ã¿ä¸­...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      <DashboardSidebar />\n      <div className=\"flex-1 flex flex-col\">\n        <DashboardHeader user={user} />\n        <main className=\"flex-1 p-6\">\n          {children}\n        </main>\n      </div>\n    </div>\n  )\n}\n","size_bytes":1222},"src/app/help/page.tsx":{"content":"'use client'\n\nimport Link from 'next/link'\nimport Logo from '@/components/Logo'\nimport { ArrowLeft, HelpCircle, Mail, Phone, MessageCircle } from 'lucide-react'\n\nexport default function HelpPage() {\n  return (\n    <div className=\"min-h-screen gradient-bg\">\n      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n      <header className=\"glass sticky top-0 z-50 border-b border-white/20\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex justify-between items-center\">\n            <Link href=\"/\" className=\"flex items-center\">\n              <Logo width={200} height={60} className=\"w-[150px] h-[45px] sm:w-[200px] sm:h-[60px]\" linkable={false} />\n            </Link>\n            <div className=\"flex items-center space-x-2 sm:space-x-6\">\n              <Link\n                href=\"/login\"\n                className=\"text-slate-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105\"\n              >\n                ãƒ­ã‚°ã‚¤ãƒ³\n              </Link>\n              <Link\n                href=\"/register\"\n                className=\"btn-primary text-sm px-6 py-3\"\n              >\n                æ–°è¦ç™»éŒ²\n              </Link>\n            </div>\n          </div>\n        </nav>\n      </header>\n\n      {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"mb-8\">\n          <Link \n            href=\"/\" \n            className=\"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-300 mb-6\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹\n          </Link>\n          \n          <h1 className=\"text-4xl sm:text-5xl font-bold text-slate-800 mb-4\">\n            ãƒ˜ãƒ«ãƒ—ã‚»ãƒ³ã‚¿ãƒ¼\n          </h1>\n          <p className=\"text-lg text-slate-600\">\n            ã‚ˆãã‚ã‚‹ã”è³ªå•ã¨ã‚µãƒãƒ¼ãƒˆæƒ…å ±ã‚’ã”æ¡ˆå†…ã—ã¾ã™\n          </p>\n        </div>\n\n        {/* FAQ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}\n        <div className=\"space-y-8\">\n          <div className=\"floating-card\">\n            <h2 className=\"text-2xl font-bold text-slate-800 mb-6 flex items-center\">\n              <HelpCircle className=\"h-6 w-6 mr-3 text-blue-600\" />\n              ã‚ˆãã‚ã‚‹ã”è³ªå•\n            </h2>\n            \n            <div className=\"space-y-6\">\n              <div className=\"border-l-4 border-blue-500 pl-4\">\n                <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">\n                  Q. ç„¡æ–™ãŠè©¦ã—ã®æœŸé–“ã¯ã©ã®ãã‚‰ã„ã§ã™ã‹ï¼Ÿ\n                </h3>\n                <p className=\"text-slate-600\">\n                  A. ç„¡æ–™ãŠè©¦ã—æœŸé–“ã¯14æ—¥é–“ã§ã™ã€‚\n                </p>\n              </div>\n              \n              <div className=\"border-l-4 border-blue-500 pl-4\">\n                <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">\n                  Q. ç™»éŒ²ã«å¿…è¦ãªæ›¸é¡ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ\n                </h3>\n                <p className=\"text-slate-600\">\n                  A. é‹é€äº‹æ¥­è¨±å¯è¨¼ãŒå¿…è¦ã§ã™ã€‚è©³ç´°ã¯ç™»éŒ²ç”»é¢ã§ã”ç¢ºèªãã ã•ã„ã€‚\n                </p>\n              </div>\n              \n              <div className=\"border-l-4 border-blue-500 pl-4\">\n                <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">\n                  Q. ãƒãƒƒãƒãƒ³ã‚°ã®æ‰‹æ•°æ–™ã¯ã‹ã‹ã‚Šã¾ã™ã‹ï¼Ÿ\n                </h3>\n                <p className=\"text-slate-600\">\n                  A. å¾¡åº§ã„ã¾ã›ã‚“ã€‚\n                </p>\n              </div>\n              \n              <div className=\"border-l-4 border-blue-500 pl-4\">\n                <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">\n                  Q. æ”¯æ‰•ã„æ–¹æ³•ã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ\n                </h3>\n                <p className=\"text-slate-600\">\n                  A. ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆã€éŠ€è¡ŒæŒ¯è¾¼ã€å£åº§æŒ¯æ›¿ã€ã‚³ãƒ³ãƒ“ãƒ‹æ‰•ã„ã€é›»å­ãƒãƒãƒ¼ã«å¯¾å¿œã—ã¦ãŠã‚Šã¾ã™ã€‚\n                </p>\n              </div>\n              \n              <div className=\"border-l-4 border-blue-500 pl-4\">\n                <h3 className=\"text-lg font-semibold text-slate-800 mb-2\">\n                  Q. ãƒˆãƒ©ãƒ–ãƒ«ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã©ã†ã™ã‚Œã°ã‚ˆã„ã§ã™ã‹ï¼Ÿ\n                </h3>\n                <p className=\"text-slate-600\">\n                  A. ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã¾ãŸã¯ãŠé›»è©±ã§ã”é€£çµ¡ãã ã•ã„ã€‚24æ™‚é–“ä»¥å†…ã«å›ç­”ã„ãŸã—ã¾ã™ã€‚\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* ãŠå•ã„åˆã‚ã›æƒ…å ± */}\n          <div className=\"floating-card\">\n            <h2 className=\"text-2xl font-bold text-slate-800 mb-6 flex items-center\">\n              <MessageCircle className=\"h-6 w-6 mr-3 text-blue-600\" />\n              ãŠå•ã„åˆã‚ã›\n            </h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"flex items-start space-x-4\">\n                <Phone className=\"h-6 w-6 text-blue-600 mt-1\" />\n                <div>\n                  <h3 className=\"font-semibold text-slate-800\">é›»è©±ã§ã®ãŠå•ã„åˆã‚ã›</h3>\n                  <p className=\"text-slate-600\">046-212-2325</p>\n                  <p className=\"text-sm text-slate-500\">9:00-21:00</p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-start space-x-4\">\n                <Mail className=\"h-6 w-6 text-blue-600 mt-1\" />\n                <div>\n                  <h3 className=\"font-semibold text-slate-800\">ãƒ¡ãƒ¼ãƒ«ã§ã®ãŠå•ã„åˆã‚ã›</h3>\n                  <p className=\"text-slate-600\">info@sinjapan.jp</p>\n                  <p className=\"text-sm text-slate-500\">24æ™‚é–“å—ä»˜</p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mt-6\">\n              <Link \n                href=\"/contact\" \n                className=\"btn-primary inline-flex items-center\"\n              >\n                ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ \n              </Link>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}","size_bytes":6191},"src/app/terms/page.tsx":{"content":"'use client'\n\nimport Link from 'next/link'\nimport Logo from '@/components/Logo'\nimport { ArrowLeft, FileText } from 'lucide-react'\n\nexport default function TermsPage() {\n  return (\n    <div className=\"min-h-screen gradient-bg\">\n      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n      <header className=\"glass sticky top-0 z-50 border-b border-white/20\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex justify-between items-center\">\n            <Link href=\"/\" className=\"flex items-center\">\n              <Logo width={200} height={60} className=\"w-[150px] h-[45px] sm:w-[200px] sm:h-[60px]\" linkable={false} />\n            </Link>\n            <div className=\"flex items-center space-x-2 sm:space-x-6\">\n              <Link\n                href=\"/login\"\n                className=\"text-slate-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105\"\n              >\n                ãƒ­ã‚°ã‚¤ãƒ³\n              </Link>\n              <Link\n                href=\"/register\"\n                className=\"btn-primary text-sm px-6 py-3\"\n              >\n                æ–°è¦ç™»éŒ²\n              </Link>\n            </div>\n          </div>\n        </nav>\n      </header>\n\n      {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"mb-8\">\n          <Link \n            href=\"/\" \n            className=\"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-300 mb-6\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹\n          </Link>\n          \n          <h1 className=\"text-4xl sm:text-5xl font-bold text-slate-800 mb-4 flex items-center\">\n            <FileText className=\"h-8 w-8 mr-4 text-blue-600\" />\n            åˆ©ç”¨è¦ç´„\n          </h1>\n          <p className=\"text-lg text-slate-600\">\n            æœ€çµ‚æ›´æ–°æ—¥ï¼š2025å¹´1æœˆ15æ—¥\n          </p>\n        </div>\n\n        <div className=\"floating-card\">\n          <div className=\"prose prose-slate max-w-none\">\n            <h2>ç¬¬1æ¡ï¼ˆé©ç”¨ï¼‰</h2>\n            <p>\n              æœ¬åˆ©ç”¨è¦ç´„ï¼ˆä»¥ä¸‹ã€Œæœ¬è¦ç´„ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã¯ã€åˆåŒä¼šç¤¾SIN JAPANï¼ˆä»¥ä¸‹ã€Œå½“ç¤¾ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ãŒæä¾›ã™ã‚‹ã€ŒSIN JAPAN LOGI MATCHã€ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆä»¥ä¸‹ã€Œæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã®åˆ©ç”¨æ¡ä»¶ã‚’å®šã‚ã‚‹ã‚‚ã®ã§ã™ã€‚ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çš†ã•ã¾ï¼ˆä»¥ä¸‹ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã«ã¯ã€æœ¬è¦ç´„ã«å¾“ã£ã¦ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã”åˆ©ç”¨ã„ãŸã ãã¾ã™ã€‚\n            </p>\n\n            <h2>ç¬¬2æ¡ï¼ˆåˆ©ç”¨ç™»éŒ²ï¼‰</h2>\n            <p>\n              æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠã„ã¦ã¯ã€ç™»éŒ²å¸Œæœ›è€…ãŒæœ¬è¦ç´„ã«åŒæ„ã®ä¸Šã€å½“ç¤¾ã®å®šã‚ã‚‹æ–¹æ³•ã«ã‚ˆã£ã¦åˆ©ç”¨ç™»éŒ²ã‚’ç”³è«‹ã—ã€å½“ç¤¾ãŒã“ã‚Œã‚’æ‰¿èªã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€åˆ©ç”¨ç™»éŒ²ãŒå®Œäº†ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n            </p>\n\n            <h2>ç¬¬3æ¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŠã‚ˆã³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ç®¡ç†ï¼‰</h2>\n            <p>\n              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€è‡ªå·±ã®è²¬ä»»ã«ãŠã„ã¦ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŠã‚ˆã³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’é©åˆ‡ã«ç®¡ç†ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€ã„ã‹ãªã‚‹å ´åˆã«ã‚‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŠã‚ˆã³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç¬¬ä¸‰è€…ã«è­²æ¸¡ã¾ãŸã¯è²¸ä¸ã—ã€ã‚‚ã—ãã¯ç¬¬ä¸‰è€…ã¨å…±ç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\n            </p>\n\n            <h2>ç¬¬4æ¡ï¼ˆç¦æ­¢äº‹é …ï¼‰</h2>\n            <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«ã‚ãŸã‚Šã€ä»¥ä¸‹ã®è¡Œç‚ºã‚’ã—ã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚</p>\n            <ul>\n              <li>æ³•ä»¤ã¾ãŸã¯å…¬åºè‰¯ä¿—ã«é•åã™ã‚‹è¡Œç‚º</li>\n              <li>çŠ¯ç½ªè¡Œç‚ºã«é–¢é€£ã™ã‚‹è¡Œç‚º</li>\n              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å†…å®¹ç­‰ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«å«ã¾ã‚Œã‚‹è‘—ä½œæ¨©ã€å•†æ¨™æ¨©ã»ã‹çŸ¥çš„è²¡ç”£æ¨©ã‚’ä¾µå®³ã™ã‚‹è¡Œç‚º</li>\n              <li>å½“ç¤¾ã€ã»ã‹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã¾ãŸã¯ãã®ä»–ç¬¬ä¸‰è€…ã®ã‚µãƒ¼ãƒãƒ¼ã¾ãŸã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®æ©Ÿèƒ½ã‚’ç ´å£Šã—ãŸã‚Šã€å¦¨å®³ã—ãŸã‚Šã™ã‚‹è¡Œç‚º</li>\n              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦å¾—ã‚‰ã‚ŒãŸæƒ…å ±ã‚’å•†æ¥­çš„ã«åˆ©ç”¨ã™ã‚‹è¡Œç‚º</li>\n              <li>å½“ç¤¾ã®ã‚µãƒ¼ãƒ“ã‚¹ã®é‹å–¶ã‚’å¦¨å®³ã™ã‚‹ãŠãã‚Œã®ã‚ã‚‹è¡Œç‚º</li>\n              <li>ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã—ã€ã¾ãŸã¯ã“ã‚Œã‚’è©¦ã¿ã‚‹è¡Œç‚º</li>\n              <li>ãã®ä»–ã€å½“ç¤¾ãŒä¸é©åˆ‡ã¨åˆ¤æ–­ã™ã‚‹è¡Œç‚º</li>\n            </ul>\n\n            <h2>ç¬¬5æ¡ï¼ˆæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ã®åœæ­¢ç­‰ï¼‰</h2>\n            <p>\n              å½“ç¤¾ã¯ã€ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®äº‹ç”±ãŒã‚ã‚‹ã¨åˆ¤æ–­ã—ãŸå ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«äº‹å‰ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãªãæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å…¨éƒ¨ã¾ãŸã¯ä¸€éƒ¨ã®æä¾›ã‚’åœæ­¢ã¾ãŸã¯ä¸­æ–­ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n            </p>\n            <ul>\n              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ã‹ã‹ã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ ã®ä¿å®ˆç‚¹æ¤œã¾ãŸã¯æ›´æ–°ã‚’è¡Œã†å ´åˆ</li>\n              <li>åœ°éœ‡ã€è½é›·ã€ç«ç½ã€åœé›»ã¾ãŸã¯å¤©ç½ãªã©ã®ä¸å¯æŠ—åŠ›ã«ã‚ˆã‚Šã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ãŒå›°é›£ã¨ãªã£ãŸå ´åˆ</li>\n              <li>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¾ãŸã¯é€šä¿¡å›ç·šç­‰ãŒäº‹æ•…ã«ã‚ˆã‚Šåœæ­¢ã—ãŸå ´åˆ</li>\n              <li>ãã®ä»–ã€å½“ç¤¾ãŒæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ãŒå›°é›£ã¨åˆ¤æ–­ã—ãŸå ´åˆ</li>\n            </ul>\n\n            <h2>ç¬¬6æ¡ï¼ˆåˆ©ç”¨åˆ¶é™ãŠã‚ˆã³ç™»éŒ²æŠ¹æ¶ˆï¼‰</h2>\n            <p>\n              å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»¥ä¸‹ã®ã„ãšã‚Œã‹ã«è©²å½“ã™ã‚‹å ´åˆã«ã¯ã€äº‹å‰ã®é€šçŸ¥ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å…¨éƒ¨ã‚‚ã—ãã¯ä¸€éƒ¨ã®åˆ©ç”¨ã‚’åˆ¶é™ã—ã€ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦ã®ç™»éŒ²ã‚’æŠ¹æ¶ˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n            </p>\n            <ul>\n              <li>æœ¬è¦ç´„ã®ã„ãšã‚Œã‹ã®æ¡é …ã«é•åã—ãŸå ´åˆ</li>\n              <li>ç™»éŒ²äº‹é …ã«è™šå½ã®äº‹å®ŸãŒã‚ã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ãŸå ´åˆ</li>\n              <li>æ–™é‡‘ç­‰ã®æ”¯æ‰•å‚µå‹™ã®ä¸å±¥è¡ŒãŒã‚ã£ãŸå ´åˆ</li>\n              <li>å½“ç¤¾ã‹ã‚‰ã®é€£çµ¡ã«å¯¾ã—ã€ä¸€å®šæœŸé–“è¿”ç­”ãŒãªã„å ´åˆ</li>\n              <li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«ã¤ã„ã¦ã€æœ€çµ‚ã®åˆ©ç”¨ã‹ã‚‰ä¸€å®šæœŸé–“åˆ©ç”¨ãŒãªã„å ´åˆ</li>\n              <li>ãã®ä»–ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã‚’é©å½“ã§ãªã„ã¨åˆ¤æ–­ã—ãŸå ´åˆ</li>\n            </ul>\n\n            <h2>ç¬¬7æ¡ï¼ˆé€€ä¼šï¼‰</h2>\n            <p>\n              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€å½“ç¤¾ã®å®šã‚ã‚‹é€€ä¼šæ‰‹ç¶šã«ã‚ˆã‚Šã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰é€€ä¼šã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n            </p>\n\n            <h2>ç¬¬8æ¡ï¼ˆä¿è¨¼ã®å¦èªãŠã‚ˆã³å…è²¬äº‹é …ï¼‰</h2>\n            <p>\n              å½“ç¤¾ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«äº‹å®Ÿä¸Šã¾ãŸã¯æ³•å¾‹ä¸Šã®ç‘•ç–µï¼ˆå®‰å…¨æ€§ã€ä¿¡é ¼æ€§ã€æ­£ç¢ºæ€§ã€å®Œå…¨æ€§ã€æœ‰åŠ¹æ€§ã€ç‰¹å®šã®ç›®çš„ã¸ã®é©åˆæ€§ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãªã©ã«é–¢ã™ã‚‹æ¬ é™¥ã€ã‚¨ãƒ©ãƒ¼ã‚„ãƒã‚°ã€æ¨©åˆ©ä¾µå®³ãªã©ã‚’å«ã¿ã¾ã™ã€‚ï¼‰ãŒãªã„ã“ã¨ã‚’æ˜ç¤ºçš„ã«ã‚‚é»™ç¤ºçš„ã«ã‚‚ä¿è¨¼ã—ã¦ãŠã‚Šã¾ã›ã‚“ã€‚\n            </p>\n\n            <h2>ç¬¬9æ¡ï¼ˆã‚µãƒ¼ãƒ“ã‚¹å†…å®¹ã®å¤‰æ›´ç­‰ï¼‰</h2>\n            <p>\n              å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãªãã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®å†…å®¹ã‚’å¤‰æ›´ã—ã¾ãŸã¯æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ã‚’ä¸­æ­¢ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã€ã“ã‚Œã«ã‚ˆã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç”Ÿã˜ãŸæå®³ã«ã¤ã„ã¦ä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚\n            </p>\n\n            <h2>ç¬¬10æ¡ï¼ˆåˆ©ç”¨è¦ç´„ã®å¤‰æ›´ï¼‰</h2>\n            <p>\n              å½“ç¤¾ã¯ã€å¿…è¦ã¨åˆ¤æ–­ã—ãŸå ´åˆã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãªãã„ã¤ã§ã‚‚æœ¬è¦ç´„ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚ãªãŠã€æœ¬è¦ç´„ã®å¤‰æ›´å¾Œã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã‚’é–‹å§‹ã—ãŸå ´åˆã«ã¯ã€å½“è©²ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¤‰æ›´å¾Œã®è¦ç´„ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã—ã¾ã™ã€‚\n            </p>\n\n            <h2>ç¬¬11æ¡ï¼ˆå€‹äººæƒ…å ±ã®å–æ‰±ã„ï¼‰</h2>\n            <p>\n              å½“ç¤¾ã¯ã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«ã‚ˆã£ã¦å–å¾—ã™ã‚‹å€‹äººæƒ…å ±ã«ã¤ã„ã¦ã¯ã€å½“ç¤¾ã€Œãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã€ã«å¾“ã„é©åˆ‡ã«å–ã‚Šæ‰±ã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n            </p>\n\n            <h2>ç¬¬12æ¡ï¼ˆé€šçŸ¥ã¾ãŸã¯é€£çµ¡ï¼‰</h2>\n            <p>\n              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å½“ç¤¾ã¨ã®é–“ã®é€šçŸ¥ã¾ãŸã¯é€£çµ¡ã¯ã€å½“ç¤¾ã®å®šã‚ã‚‹æ–¹æ³•ã«ã‚ˆã£ã¦è¡Œã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã€å½“ç¤¾ãŒåˆ¥é€”å®šã‚ã‚‹æ–¹å¼ã«å¾“ã£ãŸå¤‰æ›´å±Šã‘å‡ºãŒãªã„é™ã‚Šã€ç¾åœ¨ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹é€£çµ¡å…ˆãŒæœ‰åŠ¹ãªã‚‚ã®ã¨ã¿ãªã—ã¦å½“è©²é€£çµ¡å…ˆã¸é€šçŸ¥ã¾ãŸã¯é€£çµ¡ã‚’è¡Œã„ã€ã“ã‚Œã‚‰ã¯ã€ç™ºä¿¡æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸åˆ°é”ã—ãŸã‚‚ã®ã¨ã¿ãªã—ã¾ã™ã€‚\n            </p>\n\n            <h2>ç¬¬13æ¡ï¼ˆæ¨©åˆ©ç¾©å‹™ã®è­²æ¸¡ã®ç¦æ­¢ï¼‰</h2>\n            <p>\n              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€å½“ç¤¾ã®æ›¸é¢ã«ã‚ˆã‚‹äº‹å‰ã®æ‰¿è«¾ãªãã€åˆ©ç”¨å¥‘ç´„ä¸Šã®åœ°ä½ã¾ãŸã¯æœ¬è¦ç´„ã«åŸºã¥ãæ¨©åˆ©ã‚‚ã—ãã¯ç¾©å‹™ã‚’ç¬¬ä¸‰è€…ã«è­²æ¸¡ã—ã€ã¾ãŸã¯æ‹…ä¿ã«ä¾›ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚\n            </p>\n\n            <h2>ç¬¬14æ¡ï¼ˆæº–æ‹ æ³•ãƒ»è£åˆ¤ç®¡è½„ï¼‰</h2>\n            <p>\n              æœ¬è¦ç´„ã®è§£é‡ˆã«ã‚ãŸã£ã¦ã¯ã€æ—¥æœ¬æ³•ã‚’æº–æ‹ æ³•ã¨ã—ã¾ã™ã€‚æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã—ã¦ç´›äº‰ãŒç”Ÿã˜ãŸå ´åˆã«ã¯ã€å½“ç¤¾ã®æœ¬åº—æ‰€åœ¨åœ°ã‚’ç®¡è½„ã™ã‚‹è£åˆ¤æ‰€ã‚’å°‚å±çš„åˆæ„ç®¡è½„ã¨ã—ã¾ã™ã€‚\n            </p>\n\n            <div className=\"mt-8 p-4 bg-slate-50 rounded-lg\">\n              <p className=\"text-sm text-slate-600\">\n                ä»¥ä¸Š\n              </p>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n","size_bytes":9523},"src/components/Logo.tsx":{"content":"'use client'\n\nimport Image from 'next/image'\nimport Link from 'next/link'\n\ninterface LogoProps {\n  href?: string\n  width?: number\n  height?: number\n  className?: string\n  linkable?: boolean\n}\n\nexport default function Logo({ href = '/', width = 180, height = 60, className = '', linkable = true }: LogoProps) {\n  const imageElement = (\n    <Image\n      src=\"/logo.png\"\n      alt=\"SIN JAPAN LOGI MATCH\"\n      width={width}\n      height={height}\n      className=\"object-contain\"\n      priority\n    />\n  )\n\n  if (linkable) {\n    return (\n      <Link href={href} className={`flex items-center ${className}`}>\n        {imageElement}\n      </Link>\n    )\n  }\n\n  return (\n    <div className={`flex items-center ${className}`}>\n      {imageElement}\n    </div>\n  )\n}\n\n","size_bytes":757},"src/app/vehicles/register/page.tsx":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Navbar from '@/components/Navbar'\nimport { \n  Truck, \n  MapPin, \n  Calendar, \n  Weight, \n  DollarSign, \n  User, \n  Phone, \n  Mail,\n  Save,\n  X,\n  Plus,\n  Trash2\n} from 'lucide-react'\n\nexport default function VehicleRegisterPage() {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [formData, setFormData] = useState({\n    vehicleType: '',\n    vehicleNumber: '',\n    maxWeight: '',\n    availablePrefectures: [] as string[],\n    availableFrom: '',\n    availableTo: '',\n    basePrice: '',\n    driverName: '',\n    driverPhone: '',\n    driverEmail: '',\n    specialFeatures: [] as string[],\n    notes: ''\n  })\n\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    const userData = localStorage.getItem('user')\n    \n    if (!token || !userData) {\n      router.push('/login')\n      return\n    }\n\n    const parsedUser = JSON.parse(userData)\n    if (parsedUser.userType !== 'CARRIER') {\n      router.push('/dashboard')\n      return\n    }\n\n    setUser(parsedUser)\n  }, [router])\n\n  const vehicleTypes = [\n    'è»½ãƒˆãƒ©ãƒƒã‚¯', 'å°å‹ãƒˆãƒ©ãƒƒã‚¯', 'ä¸­å‹ãƒˆãƒ©ãƒƒã‚¯', 'å¤§å‹ãƒˆãƒ©ãƒƒã‚¯', 'ãƒˆãƒ¬ãƒ¼ãƒ©ãƒ¼', 'å†·å‡è»Š', 'å†·è”µè»Š', 'ãã®ä»–'\n  ]\n\n  const prefectures = [\n    'åŒ—æµ·é“', 'é’æ£®çœŒ', 'å²©æ‰‹çœŒ', 'å®®åŸçœŒ', 'ç§‹ç”°çœŒ', 'å±±å½¢çœŒ', 'ç¦å³¶çœŒ',\n    'èŒ¨åŸçœŒ', 'æ ƒæœ¨çœŒ', 'ç¾¤é¦¬çœŒ', 'åŸ¼ç‰çœŒ', 'åƒè‘‰çœŒ', 'æ±äº¬éƒ½', 'ç¥å¥ˆå·çœŒ',\n    'æ–°æ½ŸçœŒ', 'å¯Œå±±çœŒ', 'çŸ³å·çœŒ', 'ç¦äº•çœŒ', 'å±±æ¢¨çœŒ', 'é•·é‡çœŒ', 'å²é˜œçœŒ',\n    'é™å²¡çœŒ', 'æ„›çŸ¥çœŒ', 'ä¸‰é‡çœŒ', 'æ»‹è³€çœŒ', 'äº¬éƒ½åºœ', 'å¤§é˜ªåºœ', 'å…µåº«çœŒ',\n    'å¥ˆè‰¯çœŒ', 'å’Œæ­Œå±±çœŒ', 'é³¥å–çœŒ', 'å³¶æ ¹çœŒ', 'å²¡å±±çœŒ', 'åºƒå³¶çœŒ', 'å±±å£çœŒ',\n    'å¾³å³¶çœŒ', 'é¦™å·çœŒ', 'æ„›åª›çœŒ', 'é«˜çŸ¥çœŒ', 'ç¦å²¡çœŒ', 'ä½è³€çœŒ', 'é•·å´çœŒ',\n    'ç†Šæœ¬çœŒ', 'å¤§åˆ†çœŒ', 'å®®å´çœŒ', 'é¹¿å…å³¶çœŒ', 'æ²–ç¸„çœŒ'\n  ]\n\n  const specialFeatures = [\n    'ã‚¯ãƒ¬ãƒ¼ãƒ³ä»˜ã', 'ãƒªãƒ•ãƒˆä»˜ã', 'å†·è”µæ©Ÿèƒ½', 'å†·å‡æ©Ÿèƒ½', 'æ¸©è”µæ©Ÿèƒ½', 'å±é™ºç‰©è¼¸é€å¯¾å¿œ',\n    'ç¾è¡“å“è¼¸é€å¯¾å¿œ', 'ç²¾å¯†æ©Ÿå™¨è¼¸é€å¯¾å¿œ', '24æ™‚é–“å¯¾å¿œ', 'æ€¥ä¾¿å¯¾å¿œ', 'é•·è·é›¢å¯¾å¿œ', 'ãã®ä»–'\n  ]\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    setLoading(true)\n\n    try {\n      const token = localStorage.getItem('token')\n      const response = await fetch('/api/vehicles', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          ...formData,\n          maxWeight: parseFloat(formData.maxWeight),\n          basePrice: parseFloat(formData.basePrice),\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || 'ç©ºè»Šç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ')\n      }\n\n      alert('ç©ºè»Šç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ')\n      router.push('/dashboard/vehicle-search')\n    } catch (err: any) {\n      setError(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleInputChange = (field: string, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }))\n  }\n\n  const handlePrefectureToggle = (prefecture: string) => {\n    setFormData(prev => ({\n      ...prev,\n      availablePrefectures: prev.availablePrefectures.includes(prefecture)\n        ? prev.availablePrefectures.filter(p => p !== prefecture)\n        : [...prev.availablePrefectures, prefecture]\n    }))\n  }\n\n  const handleSpecialFeatureToggle = (feature: string) => {\n    setFormData(prev => ({\n      ...prev,\n      specialFeatures: prev.specialFeatures.includes(feature)\n        ? prev.specialFeatures.filter(f => f !== feature)\n        : [...prev.specialFeatures, feature]\n    }))\n  }\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-white\">\n      <Navbar />\n      \n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12\">\n        <div className=\"mb-8 fade-in-up\">\n          <h1 className=\"text-3xl sm:text-4xl font-bold text-gray-900 mb-2\">\n            ç©ºè»Šç™»éŒ²\n          </h1>\n          <p className=\"text-gray-600\">\n            è»Šä¸¡ã®è©³ç´°æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ç©ºè»Šã‚’ç™»éŒ²ã—ã¦ãã ã•ã„\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-8\">\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl\">\n              {error}\n            </div>\n          )}\n\n          {/* è»Šä¸¡åŸºæœ¬æƒ…å ± */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.1s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-blue-600 to-cyan-500 p-3 rounded-xl\">\n                <Truck className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">è»Šä¸¡åŸºæœ¬æƒ…å ±</h2>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    è»Šä¸¡ã‚¿ã‚¤ãƒ— *\n                  </label>\n                  <select\n                    required\n                    value={formData.vehicleType}\n                    onChange={(e) => handleInputChange('vehicleType', e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  >\n                    <option value=\"\">é¸æŠã—ã¦ãã ã•ã„</option>\n                    {vehicleTypes.map(type => (\n                      <option key={type} value={type}>{type}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    è»Šä¸¡ç•ªå· *\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.vehicleNumber}\n                    onChange={(e) => handleInputChange('vehicleNumber', e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                    placeholder=\"ä¾‹: å“å· 500 ã‚ 1234\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    æœ€å¤§ç©è¼‰é‡é‡ (kg) *\n                  </label>\n                  <input\n                    type=\"number\"\n                    required\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.maxWeight}\n                    onChange={(e) => handleInputChange('maxWeight', e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                    placeholder=\"1000\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                    åŸºæœ¬æ–™é‡‘ (å††/km)\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={formData.basePrice}\n                    onChange={(e) => handleInputChange('basePrice', e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                    placeholder=\"150\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* é‹è¡Œå¯èƒ½ã‚¨ãƒªã‚¢ */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.2s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-green-600 to-emerald-500 p-3 rounded-xl\">\n                <MapPin className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">é‹è¡Œå¯èƒ½ã‚¨ãƒªã‚¢</h2>\n            </div>\n\n            <div className=\"space-y-4\">\n              <p className=\"text-sm text-gray-600\">é‹è¡Œå¯èƒ½ãªéƒ½é“åºœçœŒã‚’é¸æŠã—ã¦ãã ã•ã„ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</p>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2\">\n                {prefectures.map(prefecture => (\n                  <label key={prefecture} className=\"flex items-center space-x-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.availablePrefectures.includes(prefecture)}\n                      onChange={() => handlePrefectureToggle(prefecture)}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-sm text-gray-700\">{prefecture}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* åˆ©ç”¨å¯èƒ½æœŸé–“ */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.3s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-purple-600 to-pink-500 p-3 rounded-xl\">\n                <Calendar className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">åˆ©ç”¨å¯èƒ½æœŸé–“</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  åˆ©ç”¨é–‹å§‹æ—¥ *\n                </label>\n                <input\n                  type=\"date\"\n                  required\n                  value={formData.availableFrom}\n                  onChange={(e) => handleInputChange('availableFrom', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  åˆ©ç”¨çµ‚äº†æ—¥ *\n                </label>\n                <input\n                  type=\"date\"\n                  required\n                  value={formData.availableTo}\n                  onChange={(e) => handleInputChange('availableTo', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* é‹è»¢æ‰‹æƒ…å ± */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.4s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-orange-600 to-yellow-500 p-3 rounded-xl\">\n                <User className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">é‹è»¢æ‰‹æƒ…å ±</h2>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é‹è»¢æ‰‹å *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.driverName}\n                  onChange={(e) => handleInputChange('driverName', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"å±±ç”°å¤ªéƒ\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  é›»è©±ç•ªå· *\n                </label>\n                <input\n                  type=\"tel\"\n                  required\n                  value={formData.driverPhone}\n                  onChange={(e) => handleInputChange('driverPhone', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"090-1234-5678\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹\n                </label>\n                <input\n                  type=\"email\"\n                  value={formData.driverEmail}\n                  onChange={(e) => handleInputChange('driverEmail', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"yamada@example.com\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* ç‰¹åˆ¥æ©Ÿèƒ½ */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.5s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-teal-600 to-cyan-500 p-3 rounded-xl\">\n                <Truck className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">ç‰¹åˆ¥æ©Ÿèƒ½ãƒ»è¨­å‚™</h2>\n            </div>\n\n            <div className=\"space-y-4\">\n              <p className=\"text-sm text-gray-600\">è©²å½“ã™ã‚‹æ©Ÿèƒ½ãƒ»è¨­å‚™ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</p>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2\">\n                {specialFeatures.map(feature => (\n                  <label key={feature} className=\"flex items-center space-x-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.specialFeatures.includes(feature)}\n                      onChange={() => handleSpecialFeatureToggle(feature)}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-sm text-gray-700\">{feature}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* å‚™è€ƒ */}\n          <div className=\"card fade-in-up\" style={{animationDelay: '0.6s'}}>\n            <div className=\"flex items-center space-x-3 mb-6\">\n              <div className=\"bg-gradient-to-r from-indigo-600 to-purple-500 p-3 rounded-xl\">\n                <DollarSign className=\"h-6 w-6 text-white\" />\n              </div>\n              <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900\">å‚™è€ƒãƒ»ç‰¹è¨˜äº‹é …</h2>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                  å‚™è€ƒãƒ»ç‰¹è¨˜äº‹é …\n                </label>\n                <textarea\n                  rows={4}\n                  value={formData.notes}\n                  onChange={(e) => handleInputChange('notes', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n                  placeholder=\"ãã®ä»–ã€ç‰¹åˆ¥ãªè¦æœ›ã‚„æ³¨æ„äº‹é …ãŒã‚ã‚Œã°è¨˜è¼‰ã—ã¦ãã ã•ã„\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* é€ä¿¡ãƒœã‚¿ãƒ³ */}\n          <div className=\"flex flex-col sm:flex-row gap-4 fade-in-up\" style={{animationDelay: '0.7s'}}>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 btn-primary py-4 text-lg disabled:opacity-50\"\n            >\n              {loading ? 'ç™»éŒ²ä¸­...' : 'ç©ºè»Šã‚’ç™»éŒ²'}\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => router.push('/dashboard/vehicle-search')}\n              className=\"flex-1 btn-secondary py-4 text-lg\"\n            >\n              ã‚­ãƒ£ãƒ³ã‚»ãƒ«\n            </button>\n          </div>\n        </form>\n      </main>\n    </div>\n  )\n}","size_bytes":16856},"scripts/add-test-users.js":{"content":"const { PrismaClient } = require('@prisma/client')\nconst bcrypt = require('bcryptjs')\n\nconst prisma = new PrismaClient()\n\nasync function main() {\n  console.log('ãƒ†ã‚¹ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¦ã„ã¾ã™...')\n\n  const hashedPassword = await bcrypt.hash('Kazuya8008', 10)\n\n  // ãƒ¡ã‚¤ãƒ³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ \n  const mainUser = await prisma.user.upsert({\n    where: { email: 'info@sinjapan.jp' },\n    update: {\n      password: hashedPassword,\n      companyName: 'åˆåŒä¼šç¤¾SIN JAPAN',\n      contactPerson: 'å¤§è°· å’Œå“‰',\n    },\n    create: {\n      email: 'info@sinjapan.jp',\n      password: hashedPassword,\n      userType: 'ADMIN', // ç®¡ç†è€…ã¨ã—ã¦è¨­å®š\n      companyName: 'åˆåŒä¼šç¤¾SIN JAPAN',\n      contactPerson: 'å¤§è°· å’Œå“‰',\n      phone: '046-212-2325',\n      postalCode: '243-0303',\n      address: 'ç¥å¥ˆå·çœŒæ„›ç”²éƒ¡æ„›å·ç”ºä¸­æ´¥ï¼—ï¼’ï¼˜ï¼—',\n    },\n  })\n\n  console.log('âœ… ãƒ¡ã‚¤ãƒ³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã—ãŸ:')\n  console.log('   Email:', mainUser.email)\n  console.log('   ä¼šç¤¾å:', mainUser.companyName)\n  console.log('   æ‹…å½“è€…:', mainUser.contactPerson)\n\n  // é‹é€ä¼šç¤¾ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚‚è¿½åŠ \n  const carrier = await prisma.user.upsert({\n    where: { email: 'carrier@sinjapan.jp' },\n    update: {\n      password: hashedPassword,\n    },\n    create: {\n      email: 'carrier@sinjapan.jp',\n      password: hashedPassword,\n      userType: 'CARRIER',\n      companyName: 'SIN JAPANé‹é€æ ªå¼ä¼šç¤¾',\n      contactPerson: 'ä½è—¤ å¤ªéƒ',\n      phone: '03-9876-5432',\n      postalCode: '140-0001',\n      address: 'æ±äº¬éƒ½å“å·åŒºåŒ—å“å·1-1-1',\n    },\n  })\n\n  console.log('\\nâœ… é‹é€ä¼šç¤¾ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã—ãŸ:')\n  console.log('   Email:', carrier.email)\n  console.log('   ä¼šç¤¾å:', carrier.companyName)\n  console.log('   ç¨®åˆ¥: é‹é€ä¼šç¤¾')\n\n  console.log('\\n=== ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ± ===')\n  console.log('\\nã€ãƒ¡ã‚¤ãƒ³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€‘')\n  console.log('ID: info@sinjapan.jp')\n  console.log('PASS: Kazuya8008')\n  console.log('ä¼šç¤¾å: åˆåŒä¼šç¤¾SIN JAPAN')\n  console.log('æ‹…å½“è€…: å¤§è°· å’Œå“‰')\n  console.log('\\nã€é‹é€ä¼šç¤¾ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€‘')\n  console.log('ID: carrier@sinjapan.jp')\n  console.log('PASS: Kazuya8008')\n}\n\nmain()\n  .catch((e) => {\n    console.error('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', e)\n    process.exit(1)\n  })\n  .finally(async () => {\n    await prisma.$disconnect()\n  })\n\n","size_bytes":2389},"src/app/privacy/page.tsx":{"content":"'use client'\n\nimport Link from 'next/link'\nimport Logo from '@/components/Logo'\nimport { ArrowLeft, Shield } from 'lucide-react'\n\nexport default function PrivacyPage() {\n  return (\n    <div className=\"min-h-screen gradient-bg\">\n      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}\n      <header className=\"glass sticky top-0 z-50 border-b border-white/20\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex justify-between items-center\">\n            <Link href=\"/\" className=\"flex items-center\">\n              <Logo width={200} height={60} className=\"w-[150px] h-[45px] sm:w-[200px] sm:h-[60px]\" linkable={false} />\n            </Link>\n            <div className=\"flex items-center space-x-2 sm:space-x-6\">\n              <Link\n                href=\"/login\"\n                className=\"text-slate-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105\"\n              >\n                ãƒ­ã‚°ã‚¤ãƒ³\n              </Link>\n              <Link\n                href=\"/register\"\n                className=\"btn-primary text-sm px-6 py-3\"\n              >\n                æ–°è¦ç™»éŒ²\n              </Link>\n            </div>\n          </div>\n        </nav>\n      </header>\n\n      {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}\n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"mb-8\">\n          <Link \n            href=\"/\" \n            className=\"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-300 mb-6\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹\n          </Link>\n          \n          <h1 className=\"text-4xl sm:text-5xl font-bold text-slate-800 mb-4 flex items-center\">\n            <Shield className=\"h-8 w-8 mr-4 text-blue-600\" />\n            ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼\n          </h1>\n          <p className=\"text-lg text-slate-600\">\n            æœ€çµ‚æ›´æ–°æ—¥ï¼š2025å¹´1æœˆ15æ—¥\n          </p>\n        </div>\n\n        <div className=\"floating-card\">\n          <div className=\"prose prose-slate max-w-none\">\n            <h2>1. åŸºæœ¬æ–¹é‡</h2>\n            <p>\n              åˆåŒä¼šç¤¾SIN JAPANï¼ˆä»¥ä¸‹ã€Œå½“ç¤¾ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã¯ã€å€‹äººæƒ…å ±ã®é‡è¦æ€§ã‚’èªè­˜ã—ã€å€‹äººæƒ…å ±ã®ä¿è­·ã«é–¢ã™ã‚‹æ³•å¾‹ï¼ˆå€‹äººæƒ…å ±ä¿è­·æ³•ï¼‰ã‚’éµå®ˆã™ã‚‹ã¨ã¨ã‚‚ã«ã€ä»¥ä¸‹ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ï¼ˆä»¥ä¸‹ã€Œæœ¬ãƒãƒªã‚·ãƒ¼ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã«å¾“ã£ã¦ã€é©åˆ‡ãªå–æ‰±ã„åŠã³ä¿è­·ã«åŠªã‚ã¾ã™ã€‚\n            </p>\n\n            <h2>2. å€‹äººæƒ…å ±ã®å®šç¾©</h2>\n            <p>\n              æœ¬ãƒãƒªã‚·ãƒ¼ã«ãŠã„ã¦ã€å€‹äººæƒ…å ±ã¨ã¯ã€å€‹äººæƒ…å ±ä¿è­·æ³•ã«ã„ã†ã€Œå€‹äººæƒ…å ±ã€ã‚’æŒ‡ã™ã‚‚ã®ã¨ã—ã€ç”Ÿå­˜ã™ã‚‹å€‹äººã«é–¢ã™ã‚‹æƒ…å ±ã§ã‚ã£ã¦ã€å½“è©²æƒ…å ±ã«å«ã¾ã‚Œã‚‹æ°åã€ç”Ÿå¹´æœˆæ—¥ã€ä½æ‰€ã€é›»è©±ç•ªå·ã€é€£çµ¡å…ˆãã®ä»–ã®è¨˜è¿°ç­‰ã«ã‚ˆã‚Šç‰¹å®šã®å€‹äººã‚’è­˜åˆ¥ã§ãã‚‹æƒ…å ±åŠã³å®¹è²Œã€æŒ‡ç´‹ã€å£°ç´‹ã«ã‹ã‹ã‚‹ãƒ‡ãƒ¼ã‚¿ã€åŠã³å¥åº·ä¿é™ºè¨¼ã®ä¿é™ºè€…ç•ªå·ãªã©ã®å½“è©²æƒ…å ±å˜ä½“ã‹ã‚‰ç‰¹å®šã®å€‹äººã‚’è­˜åˆ¥ã§ãã‚‹æƒ…å ±ï¼ˆå€‹äººè­˜åˆ¥æƒ…å ±ï¼‰ã‚’æŒ‡ã—ã¾ã™ã€‚\n            </p>\n\n            <h2>3. å€‹äººæƒ…å ±ã®åé›†æ–¹æ³•</h2>\n            <p>\n              å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨ç™»éŒ²ã‚’ã™ã‚‹éš›ã«æ°åã€ç”Ÿå¹´æœˆæ—¥ã€ä½æ‰€ã€é›»è©±ç•ªå·ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€éŠ€è¡Œå£åº§ç•ªå·ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã€é‹è»¢å…è¨±è¨¼ç•ªå·ãªã©ã®å€‹äººæƒ…å ±ã‚’ãŠå°‹ã­ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ææºå…ˆãªã©ã¨ã®é–“ã§ãªã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å€‹äººæƒ…å ±ã‚’å«ã‚€å–å¼•è¨˜éŒ²ã‚„æ±ºæ¸ˆã«é–¢ã™ã‚‹æƒ…å ±ã‚’ã€å½“ç¤¾ã®ææºå…ˆï¼ˆæƒ…å ±æä¾›å…ƒã€åºƒå‘Šä¸»ã€åºƒå‘Šé…ä¿¡å…ˆãªã©ã‚’å«ã¿ã¾ã™ã€‚ä»¥ä¸‹ã€ã€Œææºå…ˆã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ãªã©ã‹ã‚‰åé›†ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚\n            </p>\n\n            <h2>4. å€‹äººæƒ…å ±ã‚’åé›†ãƒ»åˆ©ç”¨ã™ã‚‹ç›®çš„</h2>\n            <p>å½“ç¤¾ãŒå€‹äººæƒ…å ±ã‚’åé›†ãƒ»åˆ©ç”¨ã™ã‚‹ç›®çš„ã¯ã€ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚</p>\n            <ul>\n              <li>å½“ç¤¾ã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ãƒ»é‹å–¶ã®ãŸã‚</li>\n              <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãŠå•ã„åˆã‚ã›ã«å›ç­”ã™ã‚‹ãŸã‚ï¼ˆæœ¬äººç¢ºèªã‚’è¡Œã†ã“ã¨ã‚’å«ã‚€ï¼‰</li>\n              <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨ä¸­ã®ã‚µãƒ¼ãƒ“ã‚¹ã®æ–°æ©Ÿèƒ½ã€æ›´æ–°æƒ…å ±ã€ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç­‰åŠã³å½“ç¤¾ãŒæä¾›ã™ã‚‹ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã®æ¡ˆå†…ã®ãƒ¡ãƒ¼ãƒ«ã‚’é€ä»˜ã™ã‚‹ãŸã‚</li>\n              <li>ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã€é‡è¦ãªãŠçŸ¥ã‚‰ã›ãªã©å¿…è¦ã«å¿œã˜ãŸã”é€£çµ¡ã®ãŸã‚</li>\n              <li>åˆ©ç”¨è¦ç´„ã«é•åã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„ã€ä¸æ­£ãƒ»ä¸å½“ãªç›®çš„ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ã‚ˆã†ã¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç‰¹å®šã‚’ã—ã€ã”åˆ©ç”¨ã‚’ãŠæ–­ã‚Šã™ã‚‹ãŸã‚</li>\n              <li>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã”è‡ªèº«ã®ç™»éŒ²æƒ…å ±ã®é–²è¦§ãƒ»å¤‰æ›´ãƒ»å‰Šé™¤ãƒ»ã”åˆ©ç”¨çŠ¶æ³ã®é–²è¦§ã‚’è¡Œã£ã¦ã„ãŸã ããŸã‚</li>\n              <li>æœ‰æ–™ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ©ç”¨æ–™é‡‘ã‚’è«‹æ±‚ã™ã‚‹ãŸã‚</li>\n              <li>ä¸Šè¨˜ã®åˆ©ç”¨ç›®çš„ã«ä»˜éšã™ã‚‹ç›®çš„</li>\n            </ul>\n\n            <h2>5. åˆ©ç”¨ç›®çš„ã®å¤‰æ›´</h2>\n            <p>\n              å½“ç¤¾ã¯ã€åˆ©ç”¨ç›®çš„ãŒå¤‰æ›´å‰ã¨é–¢é€£æ€§ã‚’æœ‰ã™ã‚‹ã¨åˆç†çš„ã«èªã‚ã‚‰ã‚Œã‚‹å ´åˆã«é™ã‚Šã€å€‹äººæƒ…å ±ã®åˆ©ç”¨ç›®çš„ã‚’å¤‰æ›´ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚åˆ©ç”¨ç›®çš„ã®å¤‰æ›´ã‚’è¡Œã£ãŸå ´åˆã«ã¯ã€å¤‰æ›´å¾Œã®ç›®çš„ã«ã¤ã„ã¦ã€å½“ç¤¾æ‰€å®šã®æ–¹æ³•ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã—ã€ã¾ãŸã¯æœ¬ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆä¸Šã«å…¬è¡¨ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n            </p>\n\n            <h2>6. å€‹äººæƒ…å ±ã®ç¬¬ä¸‰è€…æä¾›</h2>\n            <p>\n              å½“ç¤¾ã¯ã€æ¬¡ã«æ²ã’ã‚‹å ´åˆã‚’é™¤ã„ã¦ã€ã‚ã‚‰ã‹ã˜ã‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒæ„ã‚’å¾—ã‚‹ã“ã¨ãªãã€ç¬¬ä¸‰è€…ã«å€‹äººæƒ…å ±ã‚’æä¾›ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãŸã ã—ã€å€‹äººæƒ…å ±ä¿è­·æ³•ãã®ä»–ã®æ³•ä»¤ã§èªã‚ã‚‰ã‚Œã‚‹å ´åˆã‚’é™¤ãã¾ã™ã€‚\n            </p>\n            <ul>\n              <li>äººã®ç”Ÿå‘½ã€èº«ä½“ã¾ãŸã¯è²¡ç”£ã®ä¿è­·ã®ãŸã‚ã«å¿…è¦ãŒã‚ã‚‹å ´åˆã§ã‚ã£ã¦ã€æœ¬äººã®åŒæ„ã‚’å¾—ã‚‹ã“ã¨ãŒå›°é›£ã§ã‚ã‚‹ã¨ã</li>\n              <li>å…¬è¡†è¡›ç”Ÿã®å‘ä¸Šã¾ãŸã¯å…ç«¥ã®å¥å…¨ãªè‚²æˆã®æ¨é€²ã®ãŸã‚ã«ç‰¹ã«å¿…è¦ãŒã‚ã‚‹å ´åˆã§ã‚ã£ã¦ã€æœ¬äººã®åŒæ„ã‚’å¾—ã‚‹ã“ã¨ãŒå›°é›£ã§ã‚ã‚‹ã¨ã</li>\n              <li>å›½ã®æ©Ÿé–¢ã‚‚ã—ãã¯åœ°æ–¹å…¬å…±å›£ä½“ã¾ãŸã¯ãã®å§”è¨—ã‚’å—ã‘ãŸè€…ãŒæ³•ä»¤ã®å®šã‚ã‚‹äº‹å‹™ã‚’é‚è¡Œã™ã‚‹ã“ã¨ã«å¯¾ã—ã¦å”åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã§ã‚ã£ã¦ã€æœ¬äººã®åŒæ„ã‚’å¾—ã‚‹ã“ã¨ã«ã‚ˆã‚Šå½“è©²äº‹å‹™ã®é‚è¡Œã«æ”¯éšœã‚’åŠã¼ã™ãŠãã‚ŒãŒã‚ã‚‹ã¨ã</li>\n              <li>äºˆã‚æ¬¡ã®äº‹é …ã‚’å‘ŠçŸ¥ã‚ã‚‹ã„ã¯å…¬è¡¨ã—ã€ã‹ã¤å½“ç¤¾ãŒå€‹äººæƒ…å ±ä¿è­·å§”å“¡ä¼šã«å±Šå‡ºã‚’ã—ãŸã¨ã</li>\n            </ul>\n\n            <h2>7. å€‹äººæƒ…å ±ã®é–‹ç¤º</h2>\n            <p>\n              å½“ç¤¾ã¯ã€æœ¬äººã‹ã‚‰å€‹äººæƒ…å ±ã®é–‹ç¤ºã‚’æ±‚ã‚ã‚‰ã‚ŒãŸã¨ãã¯ã€æœ¬äººã«å¯¾ã—ã€é…æ»ãªãã“ã‚Œã‚’é–‹ç¤ºã—ã¾ã™ã€‚ãŸã ã—ã€é–‹ç¤ºã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šæ¬¡ã®ã„ãšã‚Œã‹ã«è©²å½“ã™ã‚‹å ´åˆã¯ã€ãã®å…¨éƒ¨ã¾ãŸã¯ä¸€éƒ¨ã‚’é–‹ç¤ºã—ãªã„ã“ã¨ã‚‚ã‚ã‚Šã€é–‹ç¤ºã—ãªã„æ±ºå®šã‚’ã—ãŸå ´åˆã«ã¯ã€ãã®æ—¨ã‚’é…æ»ãªãé€šçŸ¥ã—ã¾ã™ã€‚\n            </p>\n            <ul>\n              <li>æœ¬äººã¾ãŸã¯ç¬¬ä¸‰è€…ã®ç”Ÿå‘½ã€èº«ä½“ã€è²¡ç”£ãã®ä»–ã®æ¨©åˆ©åˆ©ç›Šã‚’å®³ã™ã‚‹ãŠãã‚ŒãŒã‚ã‚‹å ´åˆ</li>\n              <li>å½“ç¤¾ã®æ¥­å‹™ã®é©æ­£ãªå®Ÿæ–½ã«è‘—ã—ã„æ”¯éšœã‚’åŠã¼ã™ãŠãã‚ŒãŒã‚ã‚‹å ´åˆ</li>\n              <li>ãã®ä»–æ³•ä»¤ã«é•åã™ã‚‹ã“ã¨ã¨ãªã‚‹å ´åˆ</li>\n            </ul>\n\n            <h2>8. å€‹äººæƒ…å ±ã®è¨‚æ­£ãŠã‚ˆã³å‰Šé™¤</h2>\n            <p>\n              ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€å½“ç¤¾ã®ä¿æœ‰ã™ã‚‹è‡ªå·±ã®å€‹äººæƒ…å ±ãŒèª¤ã£ãŸæƒ…å ±ã§ã‚ã‚‹å ´åˆã«ã¯ã€å½“ç¤¾ãŒå®šã‚ã‚‹æ‰‹ç¶šã«ã‚ˆã‚Šã€å½“ç¤¾ã«å¯¾ã—ã¦å€‹äººæƒ…å ±ã®è¨‚æ­£ã€è¿½åŠ ã¾ãŸã¯å‰Šé™¤ï¼ˆä»¥ä¸‹ã€ã€Œè¨‚æ­£ç­‰ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã‚’è«‹æ±‚ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å½“ç¤¾ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å‰é …ã®è«‹æ±‚ã‚’å—ã‘ã¦ãã®è«‹æ±‚ã«ç†ç”±ãŒã‚ã‚‹ã¨åˆ¤æ–­ã—ãŸå ´åˆã«ã¯ã€é…æ»ãªãã€å½“è©²å€‹äººæƒ…å ±ã®è¨‚æ­£ç­‰ã‚’è¡Œã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n            </p>\n\n            <h2>9. å€‹äººæƒ…å ±ã®åˆ©ç”¨åœæ­¢ç­‰</h2>\n            <p>\n              å½“ç¤¾ã¯ã€æœ¬äººã‹ã‚‰ã€å€‹äººæƒ…å ±ãŒã€åˆ©ç”¨ç›®çš„ã®ç¯„å›²ã‚’è¶…ãˆã¦å–ã‚Šæ‰±ã‚ã‚Œã¦ã„ã‚‹ã¨ã„ã†ç†ç”±ã€ã¾ãŸã¯ä¸æ­£ã®æ‰‹æ®µã«ã‚ˆã‚Šå–å¾—ã•ã‚ŒãŸã‚‚ã®ã§ã‚ã‚‹ã¨ã„ã†ç†ç”±ã«ã‚ˆã‚Šã€ãã®åˆ©ç”¨ã®åœæ­¢ã¾ãŸã¯æ¶ˆå»ï¼ˆä»¥ä¸‹ã€ã€Œåˆ©ç”¨åœæ­¢ç­‰ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã‚’æ±‚ã‚ã‚‰ã‚ŒãŸå ´åˆã«ã¯ã€é…æ»ãªãå¿…è¦ãªèª¿æŸ»ã‚’è¡Œã„ã¾ã™ã€‚å‰é …ã®èª¿æŸ»çµæœã«åŸºã¥ãã€ãã®è«‹æ±‚ã«ç†ç”±ãŒã‚ã‚‹ã¨åˆ¤æ–­ã—ãŸå ´åˆã«ã¯ã€é…æ»ãªãã€å½“è©²å€‹äººæƒ…å ±ã®åˆ©ç”¨åœæ­¢ç­‰ã‚’è¡Œã„ã¾ã™ã€‚\n            </p>\n\n            <h2>10. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®å¤‰æ›´</h2>\n            <p>\n              æœ¬ãƒãƒªã‚·ãƒ¼ã®å†…å®¹ã¯ã€æ³•ä»¤ãã®ä»–æœ¬ãƒãƒªã‚·ãƒ¼ã«åˆ¥æ®µã®å®šã‚ã®ã‚ã‚‹äº‹é …ã‚’é™¤ã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ã™ã‚‹ã“ã¨ãªãã€å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚å½“ç¤¾ãŒåˆ¥é€”å®šã‚ã‚‹å ´åˆã‚’é™¤ã„ã¦ã€å¤‰æ›´å¾Œã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ã€æœ¬ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«æ²è¼‰ã—ãŸã¨ãã‹ã‚‰åŠ¹åŠ›ã‚’ç”Ÿã˜ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\n            </p>\n\n            <h2>11. ãŠå•ã„åˆã‚ã›çª“å£</h2>\n            <p>\n              æœ¬ãƒãƒªã‚·ãƒ¼ã«é–¢ã™ã‚‹ãŠå•ã„åˆã‚ã›ã¯ã€ä¸‹è¨˜ã®çª“å£ã¾ã§ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚\n            </p>\n            <div className=\"bg-slate-50 p-4 rounded-lg\">\n              <p><strong>åˆåŒä¼šç¤¾SIN JAPAN</strong></p>\n              <p>ä½æ‰€ï¼šã€’243-0303 ç¥å¥ˆå·çœŒæ„›ç”²éƒ¡æ„›å·ç”ºä¸­æ´¥ï¼—ï¼’ï¼˜ï¼—</p>\n              <p>é›»è©±ï¼š046-212-2325</p>\n              <p>FAXï¼š046-212-2326</p>\n              <p>ãƒ¡ãƒ¼ãƒ«ï¼šinfo@sinjapan.jp</p>\n            </div>\n\n            <div className=\"mt-8 p-4 bg-slate-50 rounded-lg\">\n              <p className=\"text-sm text-slate-600\">\n                ä»¥ä¸Š\n              </p>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n","size_bytes":10144},"replit.md":{"content":"# SIN JAPAN LOGI MATCH - ç‰©æµãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ \n\n## Overview\nA logistics matching platform that connects shippers (è·ä¸») with carriers (é‹é€ä¼šç¤¾) in Japan. The platform uses AI to match cargo with available trucks efficiently, providing next-generation freight procurement services.\n\n## Project Status\nSuccessfully migrated from Vercel to Replit on October 17, 2025\n\n## Technology Stack\n- **Framework**: Next.js 14 (App Router)\n- **Language**: TypeScript\n- **Database**: PostgreSQL (Neon-backed via Replit)\n- **ORM**: Prisma\n- **Authentication**: JWT with bcryptjs\n- **Styling**: Tailwind CSS\n- **Forms**: React Hook Form + Zod validation\n\n## Recent Changes\n### Migration to Replit (October 17, 2025)\n- âœ… Updated package.json scripts to bind to 0.0.0.0:5000 for Replit compatibility\n- âœ… Migrated from SQLite to PostgreSQL database\n- âœ… Configured DATABASE_URL and JWT_SECRET environment variables\n- âœ… Set up development workflow with Next.js dev server\n- âœ… Configured autoscale deployment for production\n- âœ… Updated Prisma schema to use PostgreSQL provider\n- âœ… Removed old Vercel and Netlify configuration files\n- âœ… Created replit.md for project documentation\n\n### Animation System (October 17, 2025)\n- âœ… Added comprehensive CSS animation system with 10+ animations\n- âœ… Implemented scroll-triggered animations with useScrollAnimation hook\n- âœ… Added zoom-in, bounce, shake, flip, wiggle, heartbeat, and glow-pulse effects\n- âœ… Created stagger animations for sequential element reveals\n- âœ… Applied animations to home page with dynamic scroll effects\n\n### Database Testing (October 17, 2025)\n- âœ… Verified user registration and login functionality\n- âœ… Tested shipment creation with Japanese text\n- âœ… Confirmed PostgreSQL correctly stores and retrieves Japanese characters\n- âœ… Validated JWT token generation and authentication flow\n\n### Contact Form Email Integration (October 17, 2025)\n- âœ… Integrated Resend API for email sending\n- âœ… Created `/api/contact` endpoint for form submissions\n- âœ… Configured to send inquiries to info@sinjapan.jp\n- âœ… Added reply-to functionality for easy customer response\n- âœ… Implemented success/error feedback messages\n- âš ï¸ **Note**: Resend requires domain verification (sinjapan.jp) to send emails to info@sinjapan.jp in production\n\n## Environment Variables\n- `DATABASE_URL` - PostgreSQL connection string (provided by Replit)\n- `JWT_SECRET` - Secret key for JWT token signing\n- `RESEND_API_KEY` - Resend API key for sending contact form emails\n- `PGHOST`, `PGPORT`, `PGUSER`, `PGPASSWORD`, `PGDATABASE` - PostgreSQL connection details\n\n## Database Schema\nThe platform uses Prisma with the following main models:\n- **User**: Shipper and Carrier accounts with authentication\n- **Shipment**: Cargo/freight listings with pickup/delivery details\n- **Offer**: Carrier proposals for shipments\n- **Vehicle**: Fleet management for carriers\n\n## Development\n```bash\nnpm run dev          # Start development server on port 5000\nnpm run build        # Build for production\nnpm run start        # Start production server\nnpm run prisma:studio # Open Prisma Studio\n```\n\n## Deployment\nThe project is configured for Replit autoscale deployment:\n- Build: `npm run build` (includes Prisma generation and migration)\n- Start: `npm run start` (production server on port 5000)\n\n## Project Architecture\n- `/src/app` - Next.js App Router pages and API routes\n- `/src/components` - Reusable React components\n- `/src/lib` - Utilities (auth, Prisma client, validators)\n- `/src/hooks` - Custom React hooks\n- `/prisma` - Database schema and migrations\n- `/public` - Static assets\n\n## Key Features\n- User authentication with separate Shipper and Carrier roles\n- Shipment posting and management\n- Offer/bidding system for carriers\n- Vehicle fleet management\n- Dashboard for both user types\n- Company search and partner management\n","size_bytes":3900},"src/app/api/contact/route.ts":{"content":"import { NextRequest, NextResponse } from 'next/server'\nimport { Resend } from 'resend'\n\nconst resend = new Resend(process.env.RESEND_API_KEY)\n\nexport async function POST(req: NextRequest) {\n  try {\n    const body = await req.json()\n    const {\n      lastName,\n      firstName,\n      lastNameKana,\n      firstNameKana,\n      company,\n      department,\n      phone,\n      email,\n      contactMethod,\n      message,\n      newsletter\n    } = body\n\n    if (!lastName || !firstName || !lastNameKana || !firstNameKana || !phone || !email || !message) {\n      return NextResponse.json(\n        { success: false, error: 'å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„' },\n        { status: 400 }\n      )\n    }\n\n    const emailContent = `\nã€æ–°è¦ãŠå•ã„åˆã‚ã›ã€‘\n\nãŠåå‰: ${lastName} ${firstName}\nãƒ•ãƒªã‚¬ãƒŠ: ${lastNameKana} ${firstNameKana}\nä¼šç¤¾å: ${company || 'æœªè¨˜å…¥'}\néƒ¨ç½²ãƒ»å½¹è·: ${department || 'æœªè¨˜å…¥'}\né›»è©±ç•ªå·: ${phone}\nãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: ${email}\nå¸Œæœ›é€£çµ¡æ–¹æ³•: ${contactMethod === 'email' ? 'ãƒ¡ãƒ¼ãƒ«' : contactMethod === 'phone' ? 'é›»è©±' : 'æœªé¸æŠ'}\nãƒ¡ãƒ«ãƒã‚¬ç™»éŒ²: ${newsletter ? 'å¸Œæœ›ã™ã‚‹' : 'å¸Œæœ›ã—ãªã„'}\n\nã€ãŠå•ã„åˆã‚ã›å†…å®¹ã€‘\n${message}\n\n---\nã“ã®ãƒ¡ãƒ¼ãƒ«ã¯ SIN JAPAN LOGI MATCH ã®ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰é€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚\n    `.trim()\n\n    const data = await resend.emails.send({\n      from: 'SIN JAPAN LOGI MATCH <noreply@sinjapan.jp>',\n      to: ['info@sinjapan.jp'],\n      replyTo: email as string,\n      subject: `ã€ãŠå•ã„åˆã‚ã›ã€‘${lastName} ${firstName}æ§˜ã‚ˆã‚Š`,\n      text: emailContent,\n    })\n\n    return NextResponse.json({\n      success: true,\n      message: 'ãŠå•ã„åˆã‚ã›ã‚’é€ä¿¡ã—ã¾ã—ãŸ',\n      data\n    })\n  } catch (error) {\n    console.error('Contact form error:', error)\n    return NextResponse.json(\n      { success: false, error: 'ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ' },\n      { status: 500 }\n    )\n  }\n}\n","size_bytes":1938},"src/hooks/useScrollAnimation.ts":{"content":"'use client'\n\nimport { useEffect, useRef, useState } from 'react'\n\nexport function useScrollAnimation(options?: IntersectionObserverInit) {\n  const ref = useRef<HTMLDivElement>(null)\n  const [isVisible, setIsVisible] = useState(false)\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsVisible(true)\n      }\n    }, {\n      threshold: 0.1,\n      ...options,\n    })\n\n    const currentRef = ref.current\n    if (currentRef) {\n      observer.observe(currentRef)\n    }\n\n    return () => {\n      if (currentRef) {\n        observer.unobserve(currentRef)\n      }\n    }\n  }, [options])\n\n  return { ref, isVisible }\n}\n","size_bytes":685}},"version":2}